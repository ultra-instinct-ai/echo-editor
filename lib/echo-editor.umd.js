(function(W,i){typeof exports=="object"&&typeof module<"u"?i(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],i):(W=typeof globalThis<"u"?globalThis:W||self,i(W.EchoEditor={},W.vue))})(this,function(W,i){"use strict";var roe=Object.defineProperty;var G3=W=>{throw TypeError(W)};var ioe=(W,i,Nt)=>i in W?roe(W,i,{enumerable:!0,configurable:!0,writable:!0,value:Nt}):W[i]=Nt;var Cl=(W,i,Nt)=>ioe(W,typeof i!="symbol"?i+"":i,Nt),soe=(W,i,Nt)=>i.has(W)||G3("Cannot "+Nt);var kl=(W,i,Nt)=>(soe(W,i,"read from private field"),Nt?Nt.call(W):i.get(W)),q3=(W,i,Nt)=>i.has(W)?G3("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(W):i.set(W,Nt);function Nt(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:()=>t[n]})}}return e.default=t,Object.freeze(e)}const q1=Nt(i);function et(t){this.content=t}et.prototype={constructor:et,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var o=n&&n!=t?this.remove(n):this,r=o.find(t),s=o.content.slice();return r==-1?s.push(n||t,e):(s[r+1]=e,n&&(s[r]=n)),new et(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new et(n)},addToStart:function(t,e){return new et([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new et(n)},addBefore:function(t,e,n){var o=this.remove(e),r=o.content.slice(),s=o.find(t);return r.splice(s==-1?r.length:s,0,e,n),new et(r)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=et.from(t),t.size?new et(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=et.from(t),t.size?new et(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=et.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}},et.from=function(t){if(t instanceof et)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new et(e)};function Y1(t,e,n){for(let o=0;;o++){if(o==t.childCount||o==e.childCount)return t.childCount==e.childCount?null:n;let r=t.child(o),s=e.child(o);if(r==s){n+=r.nodeSize;continue}if(!r.sameMarkup(s))return n;if(r.isText&&r.text!=s.text){for(let a=0;r.text[a]==s.text[a];a++)n++;return n}if(r.content.size||s.content.size){let a=Y1(r.content,s.content,n+1);if(a!=null)return a}n+=r.nodeSize}}function J1(t,e,n,o){for(let r=t.childCount,s=e.childCount;;){if(r==0||s==0)return r==s?null:{a:n,b:o};let a=t.child(--r),l=e.child(--s),c=a.nodeSize;if(a==l){n-=c,o-=c;continue}if(!a.sameMarkup(l))return{a:n,b:o};if(a.isText&&a.text!=l.text){let d=0,u=Math.min(a.text.length,l.text.length);for(;d<u&&a.text[a.text.length-d-1]==l.text[l.text.length-d-1];)d++,n--,o--;return{a:n,b:o}}if(a.content.size||l.content.size){let d=J1(a.content,l.content,n-1,o-1);if(d)return d}n-=c,o-=c}}class P{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let o=0;o<e.length;o++)this.size+=e[o].nodeSize}nodesBetween(e,n,o,r=0,s){for(let a=0,l=0;l<n;a++){let c=this.content[a],d=l+c.nodeSize;if(d>e&&o(c,r+l,s||null,a)!==!1&&c.content.size){let u=l+1;c.nodesBetween(Math.max(0,e-u),Math.min(c.content.size,n-u),o,r+u)}l=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,o,r){let s="",a=!0;return this.nodesBetween(e,n,(l,c)=>{let d=l.isText?l.text.slice(Math.max(e,c)-c,n-c):l.isLeaf?r?typeof r=="function"?r(l):r:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&d||l.isTextblock)&&o&&(a?a=!1:s+=o),s+=d},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,o=e.firstChild,r=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(o)&&(r[r.length-1]=n.withText(n.text+o.text),s=1);s<e.content.length;s++)r.push(e.content[s]);return new P(r,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let o=[],r=0;if(n>e)for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;c>e&&((a<e||c>n)&&(l.isText?l=l.cut(Math.max(0,e-a),Math.min(l.text.length,n-a)):l=l.cut(Math.max(0,e-a-1),Math.min(l.content.size,n-a-1))),o.push(l),r+=l.nodeSize),a=c}return new P(o,r)}cutByIndex(e,n){return e==n?P.empty:e==0&&n==this.content.length?this:new P(this.content.slice(e,n))}replaceChild(e,n){let o=this.content[e];if(o==n)return this;let r=this.content.slice(),s=this.size+n.nodeSize-o.nodeSize;return r[e]=n,new P(r,s)}addToStart(e){return new P([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new P(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,o=0;n<this.content.length;n++){let r=this.content[n];e(r,o,n),o+=r.nodeSize}}findDiffStart(e,n=0){return Y1(this,e,n)}findDiffEnd(e,n=this.size,o=e.size){return J1(this,e,n,o)}findIndex(e,n=-1){if(e==0)return xl(0,e);if(e==this.size)return xl(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let o=0,r=0;;o++){let s=this.child(o),a=r+s.nodeSize;if(a>=e)return a==e||n>0?xl(o+1,a):xl(o,r);r=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return P.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new P(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return P.empty;let n,o=0;for(let r=0;r<e.length;r++){let s=e[r];o+=s.nodeSize,r&&s.isText&&e[r-1].sameMarkup(s)?(n||(n=e.slice(0,r)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new P(n||e,o)}static from(e){if(!e)return P.empty;if(e instanceof P)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new P([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}P.empty=new P([],0);const yf={index:0,offset:0};function xl(t,e){return yf.index=t,yf.offset=e,yf}function Sl(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let o=0;o<t.length;o++)if(!Sl(t[o],e[o]))return!1}else{for(let o in t)if(!(o in e)||!Sl(t[o],e[o]))return!1;for(let o in e)if(!(o in t))return!1}return!0}let Ae=class U1{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,o=!1;for(let r=0;r<e.length;r++){let s=e[r];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,r));else{if(s.type.excludes(this.type))return e;!o&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,r)),n.push(this),o=!0),n&&n.push(s)}}return n||(n=e.slice()),o||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Sl(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let o=e.marks[n.type];if(!o)throw new RangeError(`There is no mark type ${n.type} in this schema`);let r=o.create(n.attrs);return o.checkAttrs(r.attrs),r}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let o=0;o<e.length;o++)if(!e[o].eq(n[o]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return U1.none;if(e instanceof U1)return[e];let n=e.slice();return n.sort((o,r)=>o.type.rank-r.type.rank),n}};Ae.none=[];class El extends Error{}class U{constructor(e,n,o){this.content=e,this.openStart=n,this.openEnd=o}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let o=Z1(this.content,e+this.openStart,n);return o&&new U(o,this.openStart,this.openEnd)}removeBetween(e,n){return new U(X1(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return U.empty;let o=n.openStart||0,r=n.openEnd||0;if(typeof o!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new U(P.fromJSON(e,n.content),o,r)}static maxOpen(e,n=!0){let o=0,r=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)o++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)r++;return new U(e,o,r)}}U.empty=new U(P.empty,0,0);function X1(t,e,n){let{index:o,offset:r}=t.findIndex(e),s=t.maybeChild(o),{index:a,offset:l}=t.findIndex(n);if(r==e||s.isText){if(l!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(o!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(o,s.copy(X1(s.content,e-r-1,n-r-1)))}function Z1(t,e,n,o){let{index:r,offset:s}=t.findIndex(e),a=t.maybeChild(r);if(s==e||a.isText)return t.cut(0,e).append(n).append(t.cut(e));let l=Z1(a.content,e-s-1,n);return l&&t.replaceChild(r,a.copy(l))}function X3(t,e,n){if(n.openStart>t.depth)throw new El("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new El("Inconsistent open depths");return Q1(t,e,n,0)}function Q1(t,e,n,o){let r=t.index(o),s=t.node(o);if(r==e.index(o)&&o<t.depth-n.openStart){let a=Q1(t,e,n,o+1);return s.copy(s.content.replaceChild(r,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==o&&e.depth==o){let a=t.parent,l=a.content;return mr(a,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:a,end:l}=Z3(n,t);return mr(s,ty(t,a,l,e,o))}else return mr(s,_l(t,e,o))}function ey(t,e){if(!e.type.compatibleContent(t.type))throw new El("Cannot join "+e.type.name+" onto "+t.type.name)}function bf(t,e,n){let o=t.node(n);return ey(o,e.node(n)),o}function hr(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Es(t,e,n,o){let r=(e||t).node(n),s=0,a=e?e.index(n):r.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(hr(t.nodeAfter,o),s++));for(let l=s;l<a;l++)hr(r.child(l),o);e&&e.depth==n&&e.textOffset&&hr(e.nodeBefore,o)}function mr(t,e){return t.type.checkContent(e),t.copy(e)}function ty(t,e,n,o,r){let s=t.depth>r&&bf(t,e,r+1),a=o.depth>r&&bf(n,o,r+1),l=[];return Es(null,t,r,l),s&&a&&e.index(r)==n.index(r)?(ey(s,a),hr(mr(s,ty(t,e,n,o,r+1)),l)):(s&&hr(mr(s,_l(t,e,r+1)),l),Es(e,n,r,l),a&&hr(mr(a,_l(n,o,r+1)),l)),Es(o,null,r,l),new P(l)}function _l(t,e,n){let o=[];if(Es(null,t,n,o),t.depth>n){let r=bf(t,e,n+1);hr(mr(r,_l(t,e,n+1)),o)}return Es(e,null,n,o),new P(o)}function Z3(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)r=e.node(s).copy(P.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}class _s{constructor(e,n,o){this.pos=e,this.path=n,this.parentOffset=o,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let o=this.pos-this.path[this.path.length-1],r=e.child(n);return o?e.child(n).cut(o):r}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let o=this.path[n*3],r=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)r+=o.child(s).nodeSize;return r}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Ae.none;if(this.textOffset)return e.child(n).marks;let o=e.maybeChild(n-1),r=e.maybeChild(n);if(!o){let l=o;o=r,r=l}let s=o.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!r||!s[a].isInSet(r.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let o=n.marks,r=e.parent.maybeChild(e.index());for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!r||!o[s].isInSet(r.marks))&&(o=o[s--].removeFromSet(o));return o}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let o=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);o>=0;o--)if(e.pos<=this.end(o)&&(!n||n(this.node(o))))return new As(this,e,o);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let o=[],r=0,s=n;for(let a=e;;){let{index:l,offset:c}=a.content.findIndex(s),d=s-c;if(o.push(a,l,r+c),!d||(a=a.child(l),a.isText))break;s=d-1,r+=c+1}return new _s(n,o,s)}static resolveCached(e,n){let o=ny.get(e);if(o)for(let s=0;s<o.elts.length;s++){let a=o.elts[s];if(a.pos==n)return a}else ny.set(e,o=new Q3);let r=o.elts[o.i]=_s.resolve(e,n);return o.i=(o.i+1)%e_,r}}class Q3{constructor(){this.elts=[],this.i=0}}const e_=12,ny=new WeakMap;class As{constructor(e,n,o){this.$from=e,this.$to=n,this.depth=o}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const t_=Object.create(null);let yo=class j1{constructor(e,n,o,r=Ae.none){this.type=e,this.attrs=n,this.marks=r,this.content=o||P.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,o,r=0){this.content.nodesBetween(e,n,o,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,o,r){return this.content.textBetween(e,n,o,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,o){return this.type==e&&Sl(this.attrs,n||e.defaultAttrs||t_)&&Ae.sameSet(this.marks,o||Ae.none)}copy(e=null){return e==this.content?this:new j1(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new j1(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,o=!1){if(e==n)return U.empty;let r=this.resolve(e),s=this.resolve(n),a=o?0:r.sharedDepth(n),l=r.start(a),d=r.node(a).content.cut(r.pos-l,s.pos-l);return new U(d,r.depth-a,s.depth-a)}replace(e,n,o){return X3(this.resolve(e),this.resolve(n),o)}nodeAt(e){for(let n=this;;){let{index:o,offset:r}=n.content.findIndex(e);if(n=n.maybeChild(o),!n)return null;if(r==e||n.isText)return n;e-=r+1}}childAfter(e){let{index:n,offset:o}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:o}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:o}=this.content.findIndex(e);if(o<e)return{node:this.content.child(n),index:n,offset:o};let r=this.content.child(n-1);return{node:r,index:n-1,offset:o-r.nodeSize}}resolve(e){return _s.resolveCached(this,e)}resolveNoCache(e){return _s.resolve(this,e)}rangeHasMark(e,n,o){let r=!1;return n>e&&this.nodesBetween(e,n,s=>(o.isInSet(s.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),oy(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,o=P.empty,r=0,s=o.childCount){let a=this.contentMatchAt(e).matchFragment(o,r,s),l=a&&a.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let c=r;c<s;c++)if(!this.type.allowsMarks(o.child(c).marks))return!1;return!0}canReplaceWith(e,n,o,r){if(r&&!this.type.allowsMarks(r))return!1;let s=this.contentMatchAt(e).matchType(o),a=s&&s.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ae.none;for(let n=0;n<this.marks.length;n++){let o=this.marks[n];o.type.checkAttrs(o.attrs),e=o.addToSet(e)}if(!Ae.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let o;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");o=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,o)}let r=P.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,r,o);return s.type.checkAttrs(s.attrs),s}};yo.prototype.text=void 0;class Al extends yo{constructor(e,n,o,r){if(super(e,n,null,r),!o)throw new RangeError("Empty text nodes are not allowed");this.text=o}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):oy(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Al(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Al(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function oy(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class gr{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let o=new n_(e,n);if(o.next==null)return gr.empty;let r=ry(o);o.next&&o.err("Unexpected trailing text");let s=c_(l_(r));return d_(s,o),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,o=e.childCount){let r=this;for(let s=n;r&&s<o;s++)r=r.matchType(e.child(s).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let o=0;o<e.next.length;o++)if(this.next[n].type==e.next[o].type)return!0;return!1}fillBefore(e,n=!1,o=0){let r=[this];function s(a,l){let c=a.matchFragment(e,o);if(c&&(!n||c.validEnd))return P.from(l.map(d=>d.createAndFill()));for(let d=0;d<a.next.length;d++){let{type:u,next:f}=a.next[d];if(!(u.isText||u.hasRequiredAttrs())&&r.indexOf(f)==-1){r.push(f);let p=s(f,l.concat(u));if(p)return p}}return null}return s(this,[])}findWrapping(e){for(let o=0;o<this.wrapCache.length;o+=2)if(this.wrapCache[o]==e)return this.wrapCache[o+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),o=[{match:this,type:null,via:null}];for(;o.length;){let r=o.shift(),s=r.match;if(s.matchType(e)){let a=[];for(let l=r;l.type;l=l.via)a.push(l.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:l,next:c}=s.next[a];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!r.type||c.validEnd)&&(o.push({match:l.contentMatch,type:l,via:r}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(o){e.push(o);for(let r=0;r<o.next.length;r++)e.indexOf(o.next[r].next)==-1&&n(o.next[r].next)}return n(this),e.map((o,r)=>{let s=r+(o.validEnd?"*":" ")+" ";for(let a=0;a<o.next.length;a++)s+=(a?", ":"")+o.next[a].type.name+"->"+e.indexOf(o.next[a].next);return s}).join(`
`)}}gr.empty=new gr(!0);class n_{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function ry(t){let e=[];do e.push(o_(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function o_(t){let e=[];do e.push(r_(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function r_(t){let e=a_(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=i_(t,e);else break;return e}function iy(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function i_(t,e){let n=iy(t),o=n;return t.eat(",")&&(t.next!="}"?o=iy(t):o=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:o,expr:e}}function s_(t,e){let n=t.nodeTypes,o=n[e];if(o)return[o];let r=[];for(let s in n){let a=n[s];a.isInGroup(e)&&r.push(a)}return r.length==0&&t.err("No node type or group '"+e+"' found"),r}function a_(t){if(t.eat("(")){let e=ry(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=s_(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function l_(t){let e=[[]];return r(s(t,0),n()),e;function n(){return e.push([])-1}function o(a,l,c){let d={term:c,to:l};return e[a].push(d),d}function r(a,l){a.forEach(c=>c.to=l)}function s(a,l){if(a.type=="choice")return a.exprs.reduce((c,d)=>c.concat(s(d,l)),[]);if(a.type=="seq")for(let c=0;;c++){let d=s(a.exprs[c],l);if(c==a.exprs.length-1)return d;r(d,l=n())}else if(a.type=="star"){let c=n();return o(l,c),r(s(a.expr,c),c),[o(c)]}else if(a.type=="plus"){let c=n();return r(s(a.expr,l),c),r(s(a.expr,c),c),[o(c)]}else{if(a.type=="opt")return[o(l)].concat(s(a.expr,l));if(a.type=="range"){let c=l;for(let d=0;d<a.min;d++){let u=n();r(s(a.expr,c),u),c=u}if(a.max==-1)r(s(a.expr,c),c);else for(let d=a.min;d<a.max;d++){let u=n();o(c,u),r(s(a.expr,c),u),c=u}return[o(c)]}else{if(a.type=="name")return[o(l,void 0,a.value)];throw new Error("Unknown expr type")}}}}function sy(t,e){return e-t}function ay(t,e){let n=[];return o(e),n.sort(sy);function o(r){let s=t[r];if(s.length==1&&!s[0].term)return o(s[0].to);n.push(r);for(let a=0;a<s.length;a++){let{term:l,to:c}=s[a];!l&&n.indexOf(c)==-1&&o(c)}}}function c_(t){let e=Object.create(null);return n(ay(t,0));function n(o){let r=[];o.forEach(a=>{t[a].forEach(({term:l,to:c})=>{if(!l)return;let d;for(let u=0;u<r.length;u++)r[u][0]==l&&(d=r[u][1]);ay(t,c).forEach(u=>{d||r.push([l,d=[]]),d.indexOf(u)==-1&&d.push(u)})})});let s=e[o.join(",")]=new gr(o.indexOf(t.length-1)>-1);for(let a=0;a<r.length;a++){let l=r[a][1].sort(sy);s.next.push({type:r[a][0],next:e[l.join(",")]||n(l)})}return s}}function d_(t,e){for(let n=0,o=[t];n<o.length;n++){let r=o[n],s=!r.validEnd,a=[];for(let l=0;l<r.next.length;l++){let{type:c,next:d}=r.next[l];a.push(c.name),s&&!(c.isText||c.hasRequiredAttrs())&&(s=!1),o.indexOf(d)==-1&&o.push(d)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function ly(t){let e=Object.create(null);for(let n in t){let o=t[n];if(!o.hasDefault)return null;e[n]=o.default}return e}function cy(t,e){let n=Object.create(null);for(let o in t){let r=e&&e[o];if(r===void 0){let s=t[o];if(s.hasDefault)r=s.default;else throw new RangeError("No value supplied for attribute "+o)}n[o]=r}return n}function dy(t,e,n,o){for(let r in e)if(!(r in t))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let r in t){let s=t[r];s.validate&&s.validate(e[r])}}function uy(t,e){let n=Object.create(null);if(e)for(let o in e)n[o]=new f_(t,o,e[o]);return n}let fy=class Y3{constructor(e,n,o){this.name=e,this.schema=n,this.spec=o,this.markSet=null,this.groups=o.group?o.group.split(" "):[],this.attrs=uy(e,o.attrs),this.defaultAttrs=ly(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(o.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==gr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:cy(this.attrs,e)}create(e=null,n,o){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new yo(this,this.computeAttrs(e),P.from(n),Ae.setFrom(o))}createChecked(e=null,n,o){return n=P.from(n),this.checkContent(n),new yo(this,this.computeAttrs(e),n,Ae.setFrom(o))}createAndFill(e=null,n,o){if(e=this.computeAttrs(e),n=P.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let r=this.contentMatch.matchFragment(n),s=r&&r.fillBefore(P.empty,!0);return s?new yo(this,e,n.append(s),Ae.setFrom(o)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let o=0;o<e.childCount;o++)if(!this.allowsMarks(e.child(o).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){dy(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let o=0;o<e.length;o++)this.allowsMarkType(e[o].type)?n&&n.push(e[o]):n||(n=e.slice(0,o));return n?n.length?n:Ae.none:e}static compile(e,n){let o=Object.create(null);e.forEach((s,a)=>o[s]=new Y3(s,n,a));let r=n.spec.topNode||"doc";if(!o[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!o.text)throw new RangeError("Every schema needs a 'text' type");for(let s in o.text.attrs)throw new RangeError("The text node type should not have attributes");return o}};function u_(t,e,n){let o=n.split("|");return r=>{let s=r===null?"null":typeof r;if(o.indexOf(s)<0)throw new RangeError(`Expected value of type ${o} for attribute ${e} on type ${t}, got ${s}`)}}class f_{constructor(e,n,o){this.hasDefault=Object.prototype.hasOwnProperty.call(o,"default"),this.default=o.default,this.validate=typeof o.validate=="string"?u_(e,n,o.validate):o.validate}get isRequired(){return!this.hasDefault}}class Tl{constructor(e,n,o,r){this.name=e,this.rank=n,this.schema=o,this.spec=r,this.attrs=uy(e,r.attrs),this.excluded=null;let s=ly(this.attrs);this.instance=s?new Ae(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Ae(this,cy(this.attrs,e))}static compile(e,n){let o=Object.create(null),r=0;return e.forEach((s,a)=>o[s]=new Tl(s,r++,n,a)),o}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){dy(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class py{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let r in e)n[r]=e[r];n.nodes=et.from(e.nodes),n.marks=et.from(e.marks||{}),this.nodes=fy.compile(this.spec.nodes,this),this.marks=Tl.compile(this.spec.marks,this);let o=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let s=this.nodes[r],a=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=o[a]||(o[a]=gr.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?hy(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let r in this.marks){let s=this.marks[r],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:hy(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,o,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof fy){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,o,r)}text(e,n){let o=this.nodes.text;return new Al(o,o.defaultAttrs,e,Ae.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return yo.fromJSON(this,e)}markFromJSON(e){return Ae.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function hy(t,e){let n=[];for(let o=0;o<e.length;o++){let r=e[o],s=t.marks[r],a=s;if(s)n.push(s);else for(let l in t.marks){let c=t.marks[l];(r=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(r)>-1)&&n.push(a=c)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[o]+"'")}return n}function p_(t){return t.tag!=null}function h_(t){return t.style!=null}let Ts=class W1{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let o=this.matchedStyles=[];n.forEach(r=>{if(p_(r))this.tags.push(r);else if(h_(r)){let s=/[^=]*/.exec(r.style)[0];o.indexOf(s)<0&&o.push(s),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let s=e.nodes[r.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let o=new by(this,n,!1);return o.addAll(e,Ae.none,n.from,n.to),o.finish()}parseSlice(e,n={}){let o=new by(this,n,!0);return o.addAll(e,Ae.none,n.from,n.to),U.maxOpen(o.finish())}matchTag(e,n,o){for(let r=o?this.tags.indexOf(o)+1:0;r<this.tags.length;r++){let s=this.tags[r];if(y_(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,n,o,r){for(let s=r?this.styles.indexOf(r)+1:0;s<this.styles.length;s++){let a=this.styles[s],l=a.style;if(!(l.indexOf(e)!=0||a.context&&!o.matchesContext(a.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(a.getAttrs){let c=a.getAttrs(n);if(c===!1)continue;a.attrs=c||void 0}return a}}}static schemaRules(e){let n=[];function o(r){let s=r.priority==null?50:r.priority,a=0;for(;a<n.length;a++){let l=n[a];if((l.priority==null?50:l.priority)<s)break}n.splice(a,0,r)}for(let r in e.marks){let s=e.marks[r].spec.parseDOM;s&&s.forEach(a=>{o(a=wy(a)),a.mark||a.ignore||a.clearMark||(a.mark=r)})}for(let r in e.nodes){let s=e.nodes[r].spec.parseDOM;s&&s.forEach(a=>{o(a=wy(a)),a.node||a.ignore||a.mark||(a.node=r)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new W1(e,W1.schemaRules(e)))}};const my={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},m_={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},gy={ol:!0,ul:!0},Ms=1,wf=2,Ml=4;function yy(t,e,n){return e!=null?(e?Ms:0)|(e==="full"?wf:0):t&&t.whitespace=="pre"?Ms|wf:n&-5}class Ol{constructor(e,n,o,r,s,a){this.type=e,this.attrs=n,this.marks=o,this.solid=r,this.options=a,this.content=[],this.activeMarks=Ae.none,this.match=s||(a&Ml?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(P.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let o=this.type.contentMatch,r;return(r=o.findWrapping(e.type))?(this.match=o,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ms)){let o=this.content[this.content.length-1],r;if(o&&o.isText&&(r=/[ \t\r\n\u000c]+$/.exec(o.text))){let s=o;o.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-r[0].length))}}let n=P.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(P.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!my.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class by{constructor(e,n,o){this.parser=e,this.options=n,this.isOpen=o,this.open=0,this.localPreserveWS=!1;let r=n.topNode,s,a=yy(null,n.preserveWhitespace,0)|(o?Ml:0);r?s=new Ol(r.type,r.attrs,Ae.none,!0,n.topMatch||r.type.contentMatch,a):o?s=new Ol(null,null,Ae.none,!0,null,a):s=new Ol(e.schema.topNodeType,null,Ae.none,!0,null,a),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let o=e.nodeValue,r=this.top,s=r.options&wf?"full":this.localPreserveWS||(r.options&Ms)>0;if(s==="full"||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(o)){if(s)s!=="full"?o=o.replace(/\r?\n|\r/g," "):o=o.replace(/\r\n?/g,`
`);else if(o=o.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(o)&&this.open==this.nodes.length-1){let a=r.content[r.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(o=o.slice(1))}o&&this.insertNode(this.parser.schema.text(o),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,o){let r=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),l;gy.hasOwnProperty(a)&&this.parser.normalizeLists&&g_(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,o));e:if(c?c.ignore:m_.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let d,u=this.needsBlock;if(my.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),d=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let f=c&&c.skip?n:this.readStyles(e,n);f&&this.addAll(e,f),d&&this.sync(s),this.needsBlock=u}else{let d=this.readStyles(e,n);d&&this.addElementByRule(e,c,d,c.consuming===!1?l:void 0)}this.localPreserveWS=r}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let o=e.style;if(o&&o.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let s=this.parser.matchedStyles[r],a=o.getPropertyValue(s);if(a)for(let l=void 0;;){let c=this.parser.matchStyle(s,a,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?n=n.filter(d=>!c.clearMark(d)):n=n.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return n}addElementByRule(e,n,o,r){let s,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),o)||this.leafFallback(e,o);else{let c=this.enter(a,n.attrs||null,o,n.preserveWhitespace);c&&(s=!0,o=c)}else{let c=this.parser.schema.marks[n.mark];o=o.concat(c.create(n.attrs))}let l=this.top;if(a&&a.isLeaf)this.findInside(e);else if(r)this.addElement(e,o,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,o));else{let c=e;typeof n.contentElement=="string"?c=e.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(e):n.contentElement&&(c=n.contentElement),this.findAround(e,c,!0),this.addAll(c,o),this.findAround(e,c,!1)}s&&this.sync(l)&&this.open--}addAll(e,n,o,r){let s=o||0;for(let a=o?e.childNodes[o]:e.firstChild,l=r==null?null:e.childNodes[r];a!=l;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,n);this.findAtPoint(e,s)}findPlace(e,n){let o,r;for(let s=this.open;s>=0;s--){let a=this.nodes[s],l=a.findWrapping(e);if(l&&(!o||o.length>l.length)&&(o=l,r=a,!l.length)||a.solid)break}if(!o)return null;this.sync(r);for(let s=0;s<o.length;s++)n=this.enterInner(o[s],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&(n=this.enterInner(r,null,n))}let o=this.findPlace(e,n);if(o){this.closeExtra();let r=this.top;r.match&&(r.match=r.match.matchType(e.type));let s=Ae.none;for(let a of o.concat(e.marks))(r.type?r.type.allowsMarkType(a.type):Cy(a.type,e.type))&&(s=a.addToSet(s));return r.content.push(e.mark(s)),!0}return!1}enter(e,n,o,r){let s=this.findPlace(e.create(n),o);return s&&(s=this.enterInner(e,n,o,!0,r)),s}enterInner(e,n,o,r=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let l=yy(e,s,a.options);a.options&Ml&&a.content.length==0&&(l|=Ml);let c=Ae.none;return o=o.filter(d=>(a.type?a.type.allowsMarkType(d.type):Cy(d.type,e))?(c=d.addToSet(c),!1):!0),this.nodes.push(new Ol(e,n,c,r,null,l)),this.open++,o}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Ms)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let o=this.nodes[n].content;for(let r=o.length-1;r>=0;r--)e+=o[r].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let o=0;o<this.find.length;o++)this.find[o].node==e&&this.find[o].offset==n&&(this.find[o].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,o){if(e!=n&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&n.compareDocumentPosition(this.find[r].node)&(o?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),o=this.options.context,r=!this.isOpen&&(!o||o.parent.type==this.nodes[0].type),s=-(o?o.depth+1:0)+(r?0:1),a=(l,c)=>{for(;l>=0;l--){let d=n[l];if(d==""){if(l==n.length-1||l==0)continue;for(;c>=s;c--)if(a(l-1,c))return!0;return!1}else{let u=c>0||c==0&&r?this.nodes[c].type:o&&c>=s?o.node(c-s).type:null;if(!u||u.name!=d&&!u.isInGroup(d))return!1;c--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let o=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(o&&o.isTextblock&&o.defaultAttrs)return o}for(let n in this.parser.schema.nodes){let o=this.parser.schema.nodes[n];if(o.isTextblock&&o.defaultAttrs)return o}}}function g_(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let o=e.nodeType==1?e.nodeName.toLowerCase():null;o&&gy.hasOwnProperty(o)&&n?(n.appendChild(e),e=n):o=="li"?n=e:o&&(n=null)}}function y_(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function wy(t){let e={};for(let n in t)e[n]=t[n];return e}function Cy(t,e){let n=e.schema.nodes;for(let o in n){let r=n[o];if(!r.allowsMarkType(t))continue;let s=[],a=l=>{s.push(l);for(let c=0;c<l.edgeCount;c++){let{type:d,next:u}=l.edge(c);if(d==e||s.indexOf(u)<0&&a(u))return!0}};if(a(r.contentMatch))return!0}}class bo{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},o){o||(o=Cf(n).createDocumentFragment());let r=o,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let l=0,c=0;for(;l<s.length&&c<a.marks.length;){let d=a.marks[c];if(!this.marks[d.type.name]){c++;continue}if(!d.eq(s[l][0])||d.type.spec.spanning===!1)break;l++,c++}for(;l<s.length;)r=s.pop()[1];for(;c<a.marks.length;){let d=a.marks[c++],u=this.serializeMark(d,a.isInline,n);u&&(s.push([d,r]),r.appendChild(u.dom),r=u.contentDOM||u.dom)}}r.appendChild(this.serializeNodeInner(a,n))}),o}serializeNodeInner(e,n){let{dom:o,contentDOM:r}=vl(Cf(n),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,r)}return o}serializeNode(e,n={}){let o=this.serializeNodeInner(e,n);for(let r=e.marks.length-1;r>=0;r--){let s=this.serializeMark(e.marks[r],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(o),o=s.dom)}return o}serializeMark(e,n,o={}){let r=this.marks[e.type.name];return r&&vl(Cf(o),r(e,n),null,e.attrs)}static renderSpec(e,n,o=null,r){return vl(e,n,o,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new bo(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=ky(e.nodes);return n.text||(n.text=o=>o.text),n}static marksFromSchema(e){return ky(e.marks)}}function ky(t){let e={};for(let n in t){let o=t[n].spec.toDOM;o&&(e[n]=o)}return e}function Cf(t){return t.document||window.document}const xy=new WeakMap;function b_(t){let e=xy.get(t);return e===void 0&&xy.set(t,e=w_(t)),e}function w_(t){let e=null;function n(o){if(o&&typeof o=="object")if(Array.isArray(o))if(typeof o[0]=="string")e||(e=[]),e.push(o);else for(let r=0;r<o.length;r++)n(o[r]);else for(let r in o)n(o[r])}return n(t),e}function vl(t,e,n,o){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let r=e[0],s;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(o&&(s=b_(o))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=r.indexOf(" ");a>0&&(n=r.slice(0,a),r=r.slice(a+1));let l,c=n?t.createElementNS(n,r):t.createElement(r),d=e[1],u=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){u=2;for(let f in d)if(d[f]!=null){let p=f.indexOf(" ");p>0?c.setAttributeNS(f.slice(0,p),f.slice(p+1),d[f]):c.setAttribute(f,d[f])}}for(let f=u;f<e.length;f++){let p=e[f];if(p===0){if(f<e.length-1||f>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:h,contentDOM:m}=vl(t,p,n,o);if(c.appendChild(h),m){if(l)throw new RangeError("Multiple content holes");l=m}}}return{dom:c,contentDOM:l}}const Sy=65535,Ey=Math.pow(2,16);function C_(t,e){return t+e*Ey}function _y(t){return t&Sy}function k_(t){return(t-(t&Sy))/Ey}const Ay=1,Ty=2,Nl=4,My=8;class kf{constructor(e,n,o){this.pos=e,this.delInfo=n,this.recover=o}get deleted(){return(this.delInfo&My)>0}get deletedBefore(){return(this.delInfo&(Ay|Nl))>0}get deletedAfter(){return(this.delInfo&(Ty|Nl))>0}get deletedAcross(){return(this.delInfo&Nl)>0}}class It{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&It.empty)return It.empty}recover(e){let n=0,o=_y(e);if(!this.inverted)for(let r=0;r<o;r++)n+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[o*3]+n+k_(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,o){let r=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>e)break;let d=this.ranges[l+s],u=this.ranges[l+a],f=c+d;if(e<=f){let p=d?e==c?-1:e==f?1:n:n,h=c+r+(p<0?0:u);if(o)return h;let m=e==(n<0?c:f)?null:C_(l/3,e-c),g=e==c?Ty:e==f?Ay:Nl;return(n<0?e!=c:e!=f)&&(g|=My),new kf(h,g,m)}r+=u-d}return o?e+r:new kf(e+r,0,null)}touches(e,n){let o=0,r=_y(n),s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?o:0);if(c>e)break;let d=this.ranges[l+s],u=c+d;if(e<=u&&l==r*3)return!0;o+=this.ranges[l+a]-d}return!1}forEach(e){let n=this.inverted?2:1,o=this.inverted?1:2;for(let r=0,s=0;r<this.ranges.length;r+=3){let a=this.ranges[r],l=a-(this.inverted?s:0),c=a+(this.inverted?0:s),d=this.ranges[r+n],u=this.ranges[r+o];e(l,l+d,c,c+u),s+=u-d}}invert(){return new It(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?It.empty:new It(e<0?[0,-e,0]:[0,0,e])}}It.empty=new It([]);class Os{constructor(e,n,o=0,r=e?e.length:0){this.mirror=n,this.from=o,this.to=r,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Os(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,o=this._maps.length;n<e._maps.length;n++){let r=e.getMirror(n);this.appendMap(e._maps[n],r!=null&&r<n?o+r:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,o=this._maps.length+e._maps.length;n>=0;n--){let r=e.getMirror(n);this.appendMap(e._maps[n].invert(),r!=null&&r>n?o-r-1:void 0)}}invert(){let e=new Os;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let o=this.from;o<this.to;o++)e=this._maps[o].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,o){let r=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],l=a.mapResult(e,n);if(l.recover!=null){let c=this.getMirror(s);if(c!=null&&c>s&&c<this.to){s=c,e=this._maps[c].recover(l.recover);continue}}r|=l.delInfo,e=l.pos}return o?e:new kf(e,r,null)}}const xf=Object.create(null);class at{getMap(){return It.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let o=xf[n.stepType];if(!o)throw new RangeError(`No step type ${n.stepType} defined`);return o.fromJSON(e,n)}static jsonID(e,n){if(e in xf)throw new RangeError("Duplicate use of step JSON ID "+e);return xf[e]=n,n.prototype.jsonID=e,n}}class je{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new je(e,null)}static fail(e){return new je(null,e)}static fromReplace(e,n,o,r){try{return je.ok(e.replace(n,o,r))}catch(s){if(s instanceof El)return je.fail(s.message);throw s}}}function Sf(t,e,n){let o=[];for(let r=0;r<t.childCount;r++){let s=t.child(r);s.content.size&&(s=s.copy(Sf(s.content,e,s))),s.isInline&&(s=e(s,n,r)),o.push(s)}return P.fromArray(o)}class wo extends at{constructor(e,n,o){super(),this.from=e,this.to=n,this.mark=o}apply(e){let n=e.slice(this.from,this.to),o=e.resolve(this.from),r=o.node(o.sharedDepth(this.to)),s=new U(Sf(n.content,(a,l)=>!a.isAtom||!l.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),r),n.openStart,n.openEnd);return je.fromReplace(e,this.from,this.to,s)}invert(){return new wn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deleted&&o.deleted||n.pos>=o.pos?null:new wo(n.pos,o.pos,this.mark)}merge(e){return e instanceof wo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new wo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new wo(n.from,n.to,e.markFromJSON(n.mark))}}at.jsonID("addMark",wo);class wn extends at{constructor(e,n,o){super(),this.from=e,this.to=n,this.mark=o}apply(e){let n=e.slice(this.from,this.to),o=new U(Sf(n.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),n.openStart,n.openEnd);return je.fromReplace(e,this.from,this.to,o)}invert(){return new wo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deleted&&o.deleted||n.pos>=o.pos?null:new wn(n.pos,o.pos,this.mark)}merge(e){return e instanceof wn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new wn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new wn(n.from,n.to,e.markFromJSON(n.mark))}}at.jsonID("removeMark",wn);class Co extends at{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return je.fail("No node at mark step's position");let o=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return je.fromReplace(e,this.pos,this.pos+1,new U(P.from(o),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let o=this.mark.addToSet(n.marks);if(o.length==n.marks.length){for(let r=0;r<n.marks.length;r++)if(!n.marks[r].isInSet(o))return new Co(this.pos,n.marks[r]);return new Co(this.pos,this.mark)}}return new oi(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Co(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Co(n.pos,e.markFromJSON(n.mark))}}at.jsonID("addNodeMark",Co);class oi extends at{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return je.fail("No node at mark step's position");let o=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return je.fromReplace(e,this.pos,this.pos+1,new U(P.from(o),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Co(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new oi(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new oi(n.pos,e.markFromJSON(n.mark))}}at.jsonID("removeNodeMark",oi);class Ge extends at{constructor(e,n,o,r=!1){super(),this.from=e,this.to=n,this.slice=o,this.structure=r}apply(e){return this.structure&&Ef(e,this.from,this.to)?je.fail("Structure replace would overwrite content"):je.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new It([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ge(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deletedAcross&&o.deletedAcross?null:new Ge(n.pos,Math.max(n.pos,o.pos),this.slice)}merge(e){if(!(e instanceof Ge)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?U.empty:new U(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ge(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?U.empty:new U(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ge(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ge(n.from,n.to,U.fromJSON(e,n.slice),!!n.structure)}}at.jsonID("replace",Ge);class qe extends at{constructor(e,n,o,r,s,a,l=!1){super(),this.from=e,this.to=n,this.gapFrom=o,this.gapTo=r,this.slice=s,this.insert=a,this.structure=l}apply(e){if(this.structure&&(Ef(e,this.from,this.gapFrom)||Ef(e,this.gapTo,this.to)))return je.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return je.fail("Gap is not a flat range");let o=this.slice.insertAt(this.insert,n.content);return o?je.fromReplace(e,this.from,this.to,o):je.fail("Content does not fit in gap")}getMap(){return new It([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new qe(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1),r=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?o.pos:e.map(this.gapTo,1);return n.deletedAcross&&o.deletedAcross||r<n.pos||s>o.pos?null:new qe(n.pos,o.pos,r,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new qe(n.from,n.to,n.gapFrom,n.gapTo,U.fromJSON(e,n.slice),n.insert,!!n.structure)}}at.jsonID("replaceAround",qe);function Ef(t,e,n){let o=t.resolve(e),r=n-e,s=o.depth;for(;r>0&&s>0&&o.indexAfter(s)==o.node(s).childCount;)s--,r--;if(r>0){let a=o.node(s).maybeChild(o.indexAfter(s));for(;r>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,r--}}return!1}function x_(t,e,n,o){let r=[],s=[],a,l;t.doc.nodesBetween(e,n,(c,d,u)=>{if(!c.isInline)return;let f=c.marks;if(!o.isInSet(f)&&u.type.allowsMarkType(o.type)){let p=Math.max(d,e),h=Math.min(d+c.nodeSize,n),m=o.addToSet(f);for(let g=0;g<f.length;g++)f[g].isInSet(m)||(a&&a.to==p&&a.mark.eq(f[g])?a.to=h:r.push(a=new wn(p,h,f[g])));l&&l.to==p?l.to=h:s.push(l=new wo(p,h,o))}}),r.forEach(c=>t.step(c)),s.forEach(c=>t.step(c))}function S_(t,e,n,o){let r=[],s=0;t.doc.nodesBetween(e,n,(a,l)=>{if(!a.isInline)return;s++;let c=null;if(o instanceof Tl){let d=a.marks,u;for(;u=o.isInSet(d);)(c||(c=[])).push(u),d=u.removeFromSet(d)}else o?o.isInSet(a.marks)&&(c=[o]):c=a.marks;if(c&&c.length){let d=Math.min(l+a.nodeSize,n);for(let u=0;u<c.length;u++){let f=c[u],p;for(let h=0;h<r.length;h++){let m=r[h];m.step==s-1&&f.eq(r[h].style)&&(p=m)}p?(p.to=d,p.step=s):r.push({style:f,from:Math.max(l,e),to:d,step:s})}}}),r.forEach(a=>t.step(new wn(a.from,a.to,a.style)))}function _f(t,e,n,o=n.contentMatch,r=!0){let s=t.doc.nodeAt(e),a=[],l=e+1;for(let c=0;c<s.childCount;c++){let d=s.child(c),u=l+d.nodeSize,f=o.matchType(d.type);if(!f)a.push(new Ge(l,u,U.empty));else{o=f;for(let p=0;p<d.marks.length;p++)n.allowsMarkType(d.marks[p].type)||t.step(new wn(l,u,d.marks[p]));if(r&&d.isText&&n.whitespace!="pre"){let p,h=/\r?\n|\r/g,m;for(;p=h.exec(d.text);)m||(m=new U(P.from(n.schema.text(" ",n.allowedMarks(d.marks))),0,0)),a.push(new Ge(l+p.index,l+p.index+p[0].length,m))}}l=u}if(!o.validEnd){let c=o.fillBefore(P.empty,!0);t.replace(l,l,new U(c,0,0))}for(let c=a.length-1;c>=0;c--)t.step(a[c])}function E_(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function ri(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let o=t.depth;;--o){let r=t.$from.node(o),s=t.$from.index(o),a=t.$to.indexAfter(o);if(o<t.depth&&r.canReplace(s,a,n))return o;if(o==0||r.type.spec.isolating||!E_(r,s,a))break}return null}function __(t,e,n){let{$from:o,$to:r,depth:s}=e,a=o.before(s+1),l=r.after(s+1),c=a,d=l,u=P.empty,f=0;for(let m=s,g=!1;m>n;m--)g||o.index(m)>0?(g=!0,u=P.from(o.node(m).copy(u)),f++):c--;let p=P.empty,h=0;for(let m=s,g=!1;m>n;m--)g||r.after(m+1)<r.end(m)?(g=!0,p=P.from(r.node(m).copy(p)),h++):d++;t.step(new qe(c,d,a,l,new U(u.append(p),f,h),u.size-f,!0))}function Af(t,e,n=null,o=t){let r=A_(t,e),s=r&&T_(o,e);return s?r.map(Oy).concat({type:e,attrs:n}).concat(s.map(Oy)):null}function Oy(t){return{type:t,attrs:null}}function A_(t,e){let{parent:n,startIndex:o,endIndex:r}=t,s=n.contentMatchAt(o).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return n.canReplaceWith(o,r,a)?s:null}function T_(t,e){let{parent:n,startIndex:o,endIndex:r}=t,s=n.child(o),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let c=(a.length?a[a.length-1]:e).contentMatch;for(let d=o;c&&d<r;d++)c=c.matchType(n.child(d).type);return!c||!c.validEnd?null:a}function M_(t,e,n){let o=P.empty;for(let a=n.length-1;a>=0;a--){if(o.size){let l=n[a].type.contentMatch.matchFragment(o);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}o=P.from(n[a].type.create(n[a].attrs,o))}let r=e.start,s=e.end;t.step(new qe(r,s,r,s,new U(o,0,0),n.length,!0))}function O_(t,e,n,o,r){if(!o.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(a,l)=>{let c=typeof r=="function"?r(a):r;if(a.isTextblock&&!a.hasMarkup(o,c)&&v_(t.doc,t.mapping.slice(s).map(l),o)){let d=null;if(o.schema.linebreakReplacement){let h=o.whitespace=="pre",m=!!o.contentMatch.matchType(o.schema.linebreakReplacement);h&&!m?d=!1:!h&&m&&(d=!0)}d===!1&&Ny(t,a,l,s),_f(t,t.mapping.slice(s).map(l,1),o,void 0,d===null);let u=t.mapping.slice(s),f=u.map(l,1),p=u.map(l+a.nodeSize,1);return t.step(new qe(f,p,f+1,p-1,new U(P.from(o.create(c,null,a.marks)),0,0),1,!0)),d===!0&&vy(t,a,l,s),!1}})}function vy(t,e,n,o){e.forEach((r,s)=>{if(r.isText){let a,l=/\r?\n|\r/g;for(;a=l.exec(r.text);){let c=t.mapping.slice(o).map(n+1+s+a.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function Ny(t,e,n,o){e.forEach((r,s)=>{if(r.type==r.type.schema.linebreakReplacement){let a=t.mapping.slice(o).map(n+1+s);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function v_(t,e,n){let o=t.resolve(e),r=o.index();return o.parent.canReplaceWith(r,r+1,n)}function N_(t,e,n,o,r){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(o,null,r||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new qe(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new U(P.from(a),0,0),1,!0))}function Fn(t,e,n=1,o){let r=t.resolve(e),s=r.depth-n,a=o&&o[o.length-1]||r.parent;if(s<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!a.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let d=r.depth-1,u=n-2;d>s;d--,u--){let f=r.node(d),p=r.index(d);if(f.type.spec.isolating)return!1;let h=f.content.cutByIndex(p,f.childCount),m=o&&o[u+1];m&&(h=h.replaceChild(0,m.type.create(m.attrs)));let g=o&&o[u]||f;if(!f.canReplace(p+1,f.childCount)||!g.type.validContent(h))return!1}let l=r.indexAfter(s),c=o&&o[0];return r.node(s).canReplaceWith(l,l,c?c.type:r.node(s+1).type)}function I_(t,e,n=1,o){let r=t.doc.resolve(e),s=P.empty,a=P.empty;for(let l=r.depth,c=r.depth-n,d=n-1;l>c;l--,d--){s=P.from(r.node(l).copy(s));let u=o&&o[d];a=P.from(u?u.type.create(u.attrs,a):r.node(l).copy(a))}t.step(new Ge(e,e,new U(s.append(a),n,n),!0))}function ko(t,e){let n=t.resolve(e),o=n.index();return Iy(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(o,o+1)}function B_(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:o}=t.type.schema;for(let r=0;r<e.childCount;r++){let s=e.child(r),a=s.type==o?t.type.schema.nodes.text:s.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function Iy(t,e){return!!(t&&e&&!t.isLeaf&&B_(t,e))}function Il(t,e,n=-1){let o=t.resolve(e);for(let r=o.depth;;r--){let s,a,l=o.index(r);if(r==o.depth?(s=o.nodeBefore,a=o.nodeAfter):n>0?(s=o.node(r+1),l++,a=o.node(r).maybeChild(l)):(s=o.node(r).maybeChild(l-1),a=o.node(r+1)),s&&!s.isTextblock&&Iy(s,a)&&o.node(r).canReplace(l,l+1))return e;if(r==0)break;e=n<0?o.before(r):o.after(r)}}function R_(t,e,n){let o=null,{linebreakReplacement:r}=t.doc.type.schema,s=t.doc.resolve(e-n),a=s.node().type;if(r&&a.inlineContent){let u=a.whitespace=="pre",f=!!a.contentMatch.matchType(r);u&&!f?o=!1:!u&&f&&(o=!0)}let l=t.steps.length;if(o===!1){let u=t.doc.resolve(e+n);Ny(t,u.node(),u.before(),l)}a.inlineContent&&_f(t,e+n-1,a,s.node().contentMatchAt(s.index()),o==null);let c=t.mapping.slice(l),d=c.map(e-n);if(t.step(new Ge(d,c.map(e+n,-1),U.empty,!0)),o===!0){let u=t.doc.resolve(d);vy(t,u.node(),u.before(),t.steps.length)}return t}function P_(t,e,n){let o=t.resolve(e);if(o.parent.canReplaceWith(o.index(),o.index(),n))return e;if(o.parentOffset==0)for(let r=o.depth-1;r>=0;r--){let s=o.index(r);if(o.node(r).canReplaceWith(s,s,n))return o.before(r+1);if(s>0)return null}if(o.parentOffset==o.parent.content.size)for(let r=o.depth-1;r>=0;r--){let s=o.indexAfter(r);if(o.node(r).canReplaceWith(s,s,n))return o.after(r+1);if(s<o.node(r).childCount)return null}return null}function By(t,e,n){let o=t.resolve(e);if(!n.content.size)return e;let r=n.content;for(let s=0;s<n.openStart;s++)r=r.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let a=o.depth;a>=0;a--){let l=a==o.depth?0:o.pos<=(o.start(a+1)+o.end(a+1))/2?-1:1,c=o.index(a)+(l>0?1:0),d=o.node(a),u=!1;if(s==1)u=d.canReplace(c,c,r);else{let f=d.contentMatchAt(c).findWrapping(r.firstChild.type);u=f&&d.canReplaceWith(c,c,f[0])}if(u)return l==0?o.pos:l<0?o.before(a+1):o.after(a+1)}return null}function Bl(t,e,n=e,o=U.empty){if(e==n&&!o.size)return null;let r=t.resolve(e),s=t.resolve(n);return Ry(r,s,o)?new Ge(e,n,o):new D_(r,s,o).fit()}function Ry(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class D_{constructor(e,n,o){this.$from=e,this.$to=n,this.unplaced=o,this.frontier=[],this.placed=P.empty;for(let r=0;r<=e.depth;r++){let s=e.node(r);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=P.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,o=this.$from,r=this.close(e<0?this.$to:o.doc.resolve(e));if(!r)return null;let s=this.placed,a=o.depth,l=r.depth;for(;a&&l&&s.childCount==1;)s=s.firstChild.content,a--,l--;let c=new U(s,a,l);return e>-1?new qe(o.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||o.pos!=this.$to.pos?new Ge(o.pos,r.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,o=0,r=this.unplaced.openEnd;o<e;o++){let s=n.firstChild;if(n.childCount>1&&(r=0),s.type.spec.isolating&&r<=o){e=o;break}n=s.content}for(let n=1;n<=2;n++)for(let o=n==1?e:this.unplaced.openStart;o>=0;o--){let r,s=null;o?(s=Tf(this.unplaced.content,o-1).firstChild,r=s.content):r=this.unplaced.content;let a=r.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:d}=this.frontier[l],u,f=null;if(n==1&&(a?d.matchType(a.type)||(f=d.fillBefore(P.from(a),!1)):s&&c.compatibleContent(s.type)))return{sliceDepth:o,frontierDepth:l,parent:s,inject:f};if(n==2&&a&&(u=d.findWrapping(a.type)))return{sliceDepth:o,frontierDepth:l,parent:s,wrap:u};if(s&&d.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:o}=this.unplaced,r=Tf(e,n);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new U(e,n+1,Math.max(o,r.size+n>=e.size-o?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:o}=this.unplaced,r=Tf(e,n);if(r.childCount<=1&&n>0){let s=e.size-n<=n+r.size;this.unplaced=new U(vs(e,n-1,1),n-1,s?n-1:o)}else this.unplaced=new U(vs(e,n,1),n,o)}placeNodes({sliceDepth:e,frontierDepth:n,parent:o,inject:r,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let a=this.unplaced,l=o?o.content:a.content,c=a.openStart-e,d=0,u=[],{match:f,type:p}=this.frontier[n];if(r){for(let g=0;g<r.childCount;g++)u.push(r.child(g));f=f.matchFragment(r)}let h=l.size+e-(a.content.size-a.openEnd);for(;d<l.childCount;){let g=l.child(d),y=f.matchType(g.type);if(!y)break;d++,(d>1||c==0||g.content.size)&&(f=y,u.push(Py(g.mark(p.allowedMarks(g.marks)),d==1?c:0,d==l.childCount?h:-1)))}let m=d==l.childCount;m||(h=-1),this.placed=Ns(this.placed,n,P.from(u)),this.frontier[n].match=f,m&&h<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,y=l;g<h;g++){let b=y.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),y=b.content}this.unplaced=m?e==0?U.empty:new U(vs(a.content,e-1,1),e-1,h<0?a.openEnd:e-1):new U(vs(a.content,e,d),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Mf(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:o}=this.$to,r=this.$to.after(o);for(;o>1&&r==this.$to.end(--o);)++r;return r}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:o,type:r}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=Mf(e,n,r,o,s);if(a){for(let l=n-1;l>=0;l--){let{match:c,type:d}=this.frontier[l],u=Mf(e,l,d,c,!0);if(!u||u.childCount)continue e}return{depth:n,fit:a,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Ns(this.placed,n.depth,n.fit)),e=n.move;for(let o=n.depth+1;o<=e.depth;o++){let r=e.node(o),s=r.type.contentMatch.fillBefore(r.content,!0,e.index(o));this.openFrontierNode(r.type,r.attrs,s)}return e}openFrontierNode(e,n=null,o){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Ns(this.placed,this.depth,P.from(e.create(n,o))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(P.empty,!0);n.childCount&&(this.placed=Ns(this.placed,this.frontier.length,n))}}function vs(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(vs(t.firstChild.content,e-1,n)))}function Ns(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Ns(t.lastChild.content,e-1,n)))}function Tf(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Py(t,e,n){if(e<=0)return t;let o=t.content;return e>1&&(o=o.replaceChild(0,Py(o.firstChild,e-1,o.childCount==1?n-1:0))),e>0&&(o=t.type.contentMatch.fillBefore(o).append(o),n<=0&&(o=o.append(t.type.contentMatch.matchFragment(o).fillBefore(P.empty,!0)))),t.copy(o)}function Mf(t,e,n,o,r){let s=t.node(e),a=r?t.indexAfter(e):t.index(e);if(a==s.childCount&&!n.compatibleContent(s.type))return null;let l=o.fillBefore(s.content,!0,a);return l&&!$_(n,s.content,a)?l:null}function $_(t,e,n){for(let o=n;o<e.childCount;o++)if(!t.allowsMarks(e.child(o).marks))return!0;return!1}function L_(t){return t.spec.defining||t.spec.definingForContent}function V_(t,e,n,o){if(!o.size)return t.deleteRange(e,n);let r=t.doc.resolve(e),s=t.doc.resolve(n);if(Ry(r,s,o))return t.step(new Ge(e,n,o));let a=$y(r,t.doc.resolve(n));a[a.length-1]==0&&a.pop();let l=-(r.depth+1);a.unshift(l);for(let p=r.depth,h=r.pos-1;p>0;p--,h--){let m=r.node(p).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;a.indexOf(p)>-1?l=p:r.before(p)==h&&a.splice(1,0,-p)}let c=a.indexOf(l),d=[],u=o.openStart;for(let p=o.content,h=0;;h++){let m=p.firstChild;if(d.push(m),h==o.openStart)break;p=m.content}for(let p=u-1;p>=0;p--){let h=d[p],m=L_(h.type);if(m&&!h.sameMarkup(r.node(Math.abs(l)-1)))u=p;else if(m||!h.type.isTextblock)break}for(let p=o.openStart;p>=0;p--){let h=(p+u+1)%(o.openStart+1),m=d[h];if(m)for(let g=0;g<a.length;g++){let y=a[(g+c)%a.length],b=!0;y<0&&(b=!1,y=-y);let C=r.node(y-1),k=r.index(y-1);if(C.canReplaceWith(k,k,m.type,m.marks))return t.replace(r.before(y),b?s.after(y):n,new U(Dy(o.content,0,o.openStart,h),h,o.openEnd))}}let f=t.steps.length;for(let p=a.length-1;p>=0&&(t.replace(e,n,o),!(t.steps.length>f));p--){let h=a[p];h<0||(e=r.before(h),n=s.after(h))}}function Dy(t,e,n,o,r){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(Dy(s.content,e+1,n,o,s)))}if(e>o){let s=r.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(P.empty,!0))}return t}function F_(t,e,n,o){if(!o.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=P_(t.doc,e,o.type);r!=null&&(e=n=r)}t.replaceRange(e,n,new U(P.from(o),0,0))}function z_(t,e,n){let o=t.doc.resolve(e),r=t.doc.resolve(n),s=$y(o,r);for(let a=0;a<s.length;a++){let l=s[a],c=a==s.length-1;if(c&&l==0||o.node(l).type.contentMatch.validEnd)return t.delete(o.start(l),r.end(l));if(l>0&&(c||o.node(l-1).canReplace(o.index(l-1),r.indexAfter(l-1))))return t.delete(o.before(l),r.after(l))}for(let a=1;a<=o.depth&&a<=r.depth;a++)if(e-o.start(a)==o.depth-a&&n>o.end(a)&&r.end(a)-n!=r.depth-a&&o.start(a-1)==r.start(a-1)&&o.node(a-1).canReplace(o.index(a-1),r.index(a-1)))return t.delete(o.before(a),n);t.delete(e,n)}function $y(t,e){let n=[],o=Math.min(t.depth,e.depth);for(let r=o;r>=0;r--){let s=t.start(r);if(s<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(s==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==s-1)&&n.push(r)}return n}class ii extends at{constructor(e,n,o){super(),this.pos=e,this.attr=n,this.value=o}apply(e){let n=e.nodeAt(this.pos);if(!n)return je.fail("No node at attribute step's position");let o=Object.create(null);for(let s in n.attrs)o[s]=n.attrs[s];o[this.attr]=this.value;let r=n.type.create(o,null,n.marks);return je.fromReplace(e,this.pos,this.pos+1,new U(P.from(r),0,n.isLeaf?0:1))}getMap(){return It.empty}invert(e){return new ii(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ii(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ii(n.pos,n.attr,n.value)}}at.jsonID("attr",ii);class Is extends at{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let r in e.attrs)n[r]=e.attrs[r];n[this.attr]=this.value;let o=e.type.create(n,e.content,e.marks);return je.ok(o)}getMap(){return It.empty}invert(e){return new Is(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Is(n.attr,n.value)}}at.jsonID("docAttr",Is);let si=class extends Error{};si=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n},si.prototype=Object.create(Error.prototype),si.prototype.constructor=si,si.prototype.name="TransformError";class Of{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Os}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new si(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,o=U.empty){let r=Bl(this.doc,e,n,o);return r&&this.step(r),this}replaceWith(e,n,o){return this.replace(e,n,new U(P.from(o),0,0))}delete(e,n){return this.replace(e,n,U.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,o){return V_(this,e,n,o),this}replaceRangeWith(e,n,o){return F_(this,e,n,o),this}deleteRange(e,n){return z_(this,e,n),this}lift(e,n){return __(this,e,n),this}join(e,n=1){return R_(this,e,n),this}wrap(e,n){return M_(this,e,n),this}setBlockType(e,n=e,o,r=null){return O_(this,e,n,o,r),this}setNodeMarkup(e,n,o=null,r){return N_(this,e,n,o,r),this}setNodeAttribute(e,n,o){return this.step(new ii(e,n,o)),this}setDocAttribute(e,n){return this.step(new Is(e,n)),this}addNodeMark(e,n){return this.step(new Co(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Ae)){let o=this.doc.nodeAt(e);if(!o)throw new RangeError("No node at position "+e);if(n=n.isInSet(o.marks),!n)return this}return this.step(new oi(e,n)),this}split(e,n=1,o){return I_(this,e,n,o),this}addMark(e,n,o){return x_(this,e,n,o),this}removeMark(e,n,o){return S_(this,e,n,o),this}clearIncompatible(e,n,o){return _f(this,e,n,o),this}}const vf=Object.create(null);let Z=class{constructor(e,n,o){this.$anchor=e,this.$head=n,this.ranges=o||[new Nf(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=U.empty){let o=n.content.lastChild,r=null;for(let l=0;l<n.openEnd;l++)r=o,o=o.lastChild;let s=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:c,$to:d}=a[l],u=e.mapping.slice(s);e.replaceRange(u.map(c.pos),u.map(d.pos),l?U.empty:n),l==0&&Fy(e,s,(o?o.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,n){let o=e.steps.length,r=this.ranges;for(let s=0;s<r.length;s++){let{$from:a,$to:l}=r[s],c=e.mapping.slice(o),d=c.map(a.pos),u=c.map(l.pos);s?e.deleteRange(d,u):(e.replaceRangeWith(d,u,n),Fy(e,o,n.isInline?-1:1))}}static findFrom(e,n,o=!1){let r=e.parent.inlineContent?new J(e):ai(e.node(0),e.parent,e.pos,e.index(),n,o);if(r)return r;for(let s=e.depth-1;s>=0;s--){let a=n<0?ai(e.node(0),e.node(s),e.before(s+1),e.index(s),n,o):ai(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,o);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new pt(e.node(0))}static atStart(e){return ai(e,e,0,0,1)||new pt(e)}static atEnd(e){return ai(e,e,e.content.size,e.childCount,-1)||new pt(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let o=vf[n.type];if(!o)throw new RangeError(`No selection type ${n.type} defined`);return o.fromJSON(e,n)}static jsonID(e,n){if(e in vf)throw new RangeError("Duplicate use of selection JSON ID "+e);return vf[e]=n,n.prototype.jsonID=e,n}getBookmark(){return J.between(this.$anchor,this.$head).getBookmark()}};Z.prototype.visible=!0;class Nf{constructor(e,n){this.$from=e,this.$to=n}}let Ly=!1;function Vy(t){!Ly&&!t.parent.inlineContent&&(Ly=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class J extends Z{constructor(e,n=e){Vy(e),Vy(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let o=e.resolve(n.map(this.head));if(!o.parent.inlineContent)return Z.near(o);let r=e.resolve(n.map(this.anchor));return new J(r.parent.inlineContent?r:o,o)}replace(e,n=U.empty){if(super.replace(e,n),n==U.empty){let o=this.$from.marksAcross(this.$to);o&&e.ensureMarks(o)}}eq(e){return e instanceof J&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Rl(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new J(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,o=n){let r=e.resolve(n);return new this(r,o==n?r:e.resolve(o))}static between(e,n,o){let r=e.pos-n.pos;if((!o||r)&&(o=r>=0?1:-1),!n.parent.inlineContent){let s=Z.findFrom(n,o,!0)||Z.findFrom(n,-o,!0);if(s)n=s.$head;else return Z.near(n,o)}return e.parent.inlineContent||(r==0?e=n:(e=(Z.findFrom(e,-o,!0)||Z.findFrom(e,o,!0)).$anchor,e.pos<n.pos!=r<0&&(e=n))),new J(e,n)}}Z.jsonID("text",J);class Rl{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Rl(e.map(this.anchor),e.map(this.head))}resolve(e){return J.between(e.resolve(this.anchor),e.resolve(this.head))}}class X extends Z{constructor(e){let n=e.nodeAfter,o=e.node(0).resolve(e.pos+n.nodeSize);super(e,o),this.node=n}map(e,n){let{deleted:o,pos:r}=n.mapResult(this.anchor),s=e.resolve(r);return o?Z.near(s):new X(s)}content(){return new U(P.from(this.node),0,0)}eq(e){return e instanceof X&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new If(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new X(e.resolve(n.anchor))}static create(e,n){return new X(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}X.prototype.visible=!1,Z.jsonID("node",X);class If{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:o}=e.mapResult(this.anchor);return n?new Rl(o,o):new If(o)}resolve(e){let n=e.resolve(this.anchor),o=n.nodeAfter;return o&&X.isSelectable(o)?new X(n):Z.near(n)}}class pt extends Z{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=U.empty){if(n==U.empty){e.delete(0,e.doc.content.size);let o=Z.atStart(e.doc);o.eq(e.selection)||e.setSelection(o)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new pt(e)}map(e){return new pt(e)}eq(e){return e instanceof pt}getBookmark(){return H_}}Z.jsonID("all",pt);const H_={map(){return this},resolve(t){return new pt(t)}};function ai(t,e,n,o,r,s=!1){if(e.inlineContent)return J.create(t,n);for(let a=o-(r>0?0:1);r>0?a<e.childCount:a>=0;a+=r){let l=e.child(a);if(l.isAtom){if(!s&&X.isSelectable(l))return X.create(t,n-(r<0?l.nodeSize:0))}else{let c=ai(t,l,n+r,r<0?l.childCount:0,r,s);if(c)return c}n+=l.nodeSize*r}return null}function Fy(t,e,n){let o=t.steps.length-1;if(o<e)return;let r=t.steps[o];if(!(r instanceof Ge||r instanceof qe))return;let s=t.mapping.maps[o],a;s.forEach((l,c,d,u)=>{a==null&&(a=u)}),t.setSelection(Z.near(t.doc.resolve(a),n))}const zy=1,Hy=2,Uy=4;let U_=class extends Of{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|zy)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&zy)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Hy,this}ensureMarks(e){return Ae.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Hy)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let o=this.selection;return n&&(e=e.mark(this.storedMarks||(o.empty?o.$from.marks():o.$from.marksAcross(o.$to)||Ae.none))),o.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,o){let r=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(o==null&&(o=n),o=o??n,!e)return this.deleteRange(n,o);let s=this.storedMarks;if(!s){let a=this.doc.resolve(n);s=o==n?a.marks():a.marksAcross(this.doc.resolve(o))}return this.replaceRangeWith(n,o,r.text(e,s)),this.selection.empty||this.setSelection(Z.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Uy,this}get scrolledIntoView(){return(this.updated&Uy)>0}};function jy(t,e){return!e||!t?t:t.bind(e)}class Bs{constructor(e,n,o){this.name=e,this.init=jy(n.init,o),this.apply=jy(n.apply,o)}}const j_=[new Bs("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Bs("selection",{init(t,e){return t.selection||Z.atStart(e.doc)},apply(t){return t.selection}}),new Bs("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,o){return o.selection.$cursor?t.storedMarks:null}}),new Bs("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Bf{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=j_.slice(),n&&n.forEach(o=>{if(this.pluginsByKey[o.key])throw new RangeError("Adding different instances of a keyed plugin ("+o.key+")");this.plugins.push(o),this.pluginsByKey[o.key]=o,o.spec.state&&this.fields.push(new Bs(o.key,o.spec.state,o))})}}class li{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let o=0;o<this.config.plugins.length;o++)if(o!=n){let r=this.config.plugins[o];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],o=this.applyInner(e),r=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let l=this.config.plugins[a];if(l.spec.appendTransaction){let c=r?r[a].n:0,d=r?r[a].state:this,u=c<n.length&&l.spec.appendTransaction.call(l,c?n.slice(c):n,d,o);if(u&&o.filterTransaction(u,a)){if(u.setMeta("appendedTransaction",e),!r){r=[];for(let f=0;f<this.config.plugins.length;f++)r.push(f<a?{state:o,n:n.length}:{state:this,n:0})}n.push(u),o=o.applyInner(u),s=!0}r&&(r[a]={state:o,n:n.length})}}if(!s)return{state:o,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new li(this.config),o=this.config.fields;for(let r=0;r<o.length;r++){let s=o[r];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new U_(this)}static create(e){let n=new Bf(e.doc?e.doc.type.schema:e.schema,e.plugins),o=new li(n);for(let r=0;r<n.fields.length;r++)o[n.fields[r].name]=n.fields[r].init(e,o);return o}reconfigure(e){let n=new Bf(this.schema,e.plugins),o=n.fields,r=new li(n);for(let s=0;s<o.length;s++){let a=o[s].name;r[a]=this.hasOwnProperty(a)?this[a]:o[s].init(e,r)}return r}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(o=>o.toJSON())),e&&typeof e=="object")for(let o in e){if(o=="doc"||o=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[o],s=r.spec.state;s&&s.toJSON&&(n[o]=s.toJSON.call(r,this[r.key]))}return n}static fromJSON(e,n,o){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new Bf(e.schema,e.plugins),s=new li(r);return r.fields.forEach(a=>{if(a.name=="doc")s.doc=yo.fromJSON(e.schema,n.doc);else if(a.name=="selection")s.selection=Z.fromJSON(s.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(o)for(let l in o){let c=o[l],d=c.spec.state;if(c.key==a.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){s[a.name]=d.fromJSON.call(c,e,n[l],s);return}}s[a.name]=a.init(e,s)}}),s}}function Wy(t,e,n){for(let o in t){let r=t[o];r instanceof Function?r=r.bind(e):o=="handleDOMEvents"&&(r=Wy(r,e,{})),n[o]=r}return n}class he{constructor(e){this.spec=e,this.props={},e.props&&Wy(e.props,this,this.props),this.key=e.key?e.key.key:Ky("plugin")}getState(e){return e[this.key]}}const Rf=Object.create(null);function Ky(t){return t in Rf?t+"$"+ ++Rf[t]:(Rf[t]=0,t+"$")}class me{constructor(e="key"){this.key=Ky(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const tt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},ci=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Pf=null;const zn=function(t,e,n){let o=Pf||(Pf=document.createRange());return o.setEnd(t,n??t.nodeValue.length),o.setStart(t,e||0),o},W_=function(){Pf=null},yr=function(t,e,n,o){return n&&(Gy(t,e,n,o,-1)||Gy(t,e,n,o,1))},K_=/^(img|br|input|textarea|hr)$/i;function Gy(t,e,n,o,r){for(;;){if(t==n&&e==o)return!0;if(e==(r<0?0:Ut(t))){let s=t.parentNode;if(!s||s.nodeType!=1||Rs(t)||K_.test(t.nodeName)||t.contentEditable=="false")return!1;e=tt(t)+(r<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(r<0?-1:0)],t.contentEditable=="false")return!1;e=r<0?Ut(t):0}else return!1}}function Ut(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function G_(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ut(t)}else if(t.parentNode&&!Rs(t))e=tt(t),t=t.parentNode;else return null}}function q_(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Rs(t))e=tt(t)+1,t=t.parentNode;else return null}}function Y_(t,e,n){for(let o=e==0,r=e==Ut(t);o||r;){if(t==n)return!0;let s=tt(t);if(t=t.parentNode,!t)return!1;o=o&&s==0,r=r&&s==Ut(t)}}function Rs(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Pl=function(t){return t.focusNode&&yr(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function br(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function J_(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function X_(t,e,n){if(t.caretPositionFromPoint)try{let o=t.caretPositionFromPoint(e,n);if(o)return{node:o.offsetNode,offset:Math.min(Ut(o.offsetNode),o.offset)}}catch{}if(t.caretRangeFromPoint){let o=t.caretRangeFromPoint(e,n);if(o)return{node:o.startContainer,offset:Math.min(Ut(o.startContainer),o.startOffset)}}}const Cn=typeof navigator<"u"?navigator:null,qy=typeof document<"u"?document:null,xo=Cn&&Cn.userAgent||"",Df=/Edge\/(\d+)/.exec(xo),Yy=/MSIE \d/.exec(xo),$f=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(xo),xt=!!(Yy||$f||Df),So=Yy?document.documentMode:$f?+$f[1]:Df?+Df[1]:0,on=!xt&&/gecko\/(\d+)/i.test(xo);on&&+(/Firefox\/(\d+)/.exec(xo)||[0,0])[1];const Lf=!xt&&/Chrome\/(\d+)/.exec(xo),lt=!!Lf,Jy=Lf?+Lf[1]:0,ht=!xt&&!!Cn&&/Apple Computer/.test(Cn.vendor),di=ht&&(/Mobile\/\w+/.test(xo)||!!Cn&&Cn.maxTouchPoints>2),jt=di||(Cn?/Mac/.test(Cn.platform):!1),Z_=Cn?/Win/.test(Cn.platform):!1,Hn=/Android \d/.test(xo),Ps=!!qy&&"webkitFontSmoothing"in qy.documentElement.style,Q_=Ps?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function eA(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Un(t,e){return typeof t=="number"?t:t[e]}function tA(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,o=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*o}}function Xy(t,e,n){let o=t.someProp("scrollThreshold")||0,r=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=ci(a);continue}let l=a,c=l==s.body,d=c?eA(s):tA(l),u=0,f=0;if(e.top<d.top+Un(o,"top")?f=-(d.top-e.top+Un(r,"top")):e.bottom>d.bottom-Un(o,"bottom")&&(f=e.bottom-e.top>d.bottom-d.top?e.top+Un(r,"top")-d.top:e.bottom-d.bottom+Un(r,"bottom")),e.left<d.left+Un(o,"left")?u=-(d.left-e.left+Un(r,"left")):e.right>d.right-Un(o,"right")&&(u=e.right-d.right+Un(r,"right")),u||f)if(c)s.defaultView.scrollBy(u,f);else{let h=l.scrollLeft,m=l.scrollTop;f&&(l.scrollTop+=f),u&&(l.scrollLeft+=u);let g=l.scrollLeft-h,y=l.scrollTop-m;e={left:e.left-g,top:e.top-y,right:e.right-g,bottom:e.bottom-y}}let p=c?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(p))break;a=p=="absolute"?a.offsetParent:ci(a)}}function nA(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),o,r;for(let s=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let l=t.root.elementFromPoint(s,a);if(!l||l==t.dom||!t.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=n-20){o=l,r=c.top;break}}return{refDOM:o,refTop:r,stack:Zy(t.dom)}}function Zy(t){let e=[],n=t.ownerDocument;for(let o=t;o&&(e.push({dom:o,top:o.scrollTop,left:o.scrollLeft}),t!=n);o=ci(o));return e}function oA({refDOM:t,refTop:e,stack:n}){let o=t?t.getBoundingClientRect().top:0;Qy(n,o==0?0:o-e)}function Qy(t,e){for(let n=0;n<t.length;n++){let{dom:o,top:r,left:s}=t[n];o.scrollTop!=r+e&&(o.scrollTop=r+e),o.scrollLeft!=s&&(o.scrollLeft=s)}}let ui=null;function rA(t){if(t.setActive)return t.setActive();if(ui)return t.focus(ui);let e=Zy(t);t.focus(ui==null?{get preventScroll(){return ui={preventScroll:!0},!0}}:void 0),ui||(ui=!1,Qy(e,0))}function e0(t,e){let n,o=2e8,r,s=0,a=e.top,l=e.top,c,d;for(let u=t.firstChild,f=0;u;u=u.nextSibling,f++){let p;if(u.nodeType==1)p=u.getClientRects();else if(u.nodeType==3)p=zn(u).getClientRects();else continue;for(let h=0;h<p.length;h++){let m=p[h];if(m.top<=a&&m.bottom>=l){a=Math.max(m.bottom,a),l=Math.min(m.top,l);let g=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(g<o){n=u,o=g,r=g&&n.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,u.nodeType==1&&g&&(s=f+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!c&&m.left<=e.left&&m.right>=e.left&&(c=u,d={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!n&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(s=f+1)}}return!n&&c&&(n=c,r=d,o=0),n&&n.nodeType==3?iA(n,r):!n||o&&n.nodeType==1?{node:t,offset:s}:e0(n,r)}function iA(t,e){let n=t.nodeValue.length,o=document.createRange();for(let r=0;r<n;r++){o.setEnd(t,r+1),o.setStart(t,r);let s=Eo(o,1);if(s.top!=s.bottom&&Vf(e,s))return{node:t,offset:r+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function Vf(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function sA(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function aA(t,e,n){let{node:o,offset:r}=e0(e,n),s=-1;if(o.nodeType==1&&!o.firstChild){let a=o.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(o,r,s)}function lA(t,e,n,o){let r=-1;for(let s=e,a=!1;s!=t.dom;){let l=t.docView.nearestDesc(s,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&(!a&&c.left>o.left||c.top>o.top?r=l.posBefore:(!a&&c.right<o.left||c.bottom<o.top)&&(r=l.posAfter),a=!0),!l.contentDOM&&r<0&&!l.node.isText))return(l.node.isBlock?o.top<(c.top+c.bottom)/2:o.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;s=l.dom.parentNode}return r>-1?r:t.docView.posFromDOM(e,n,-1)}function t0(t,e,n){let o=t.childNodes.length;if(o&&n.top<n.bottom)for(let r=Math.max(0,Math.min(o-1,Math.floor(o*(e.top-n.top)/(n.bottom-n.top))-2)),s=r;;){let a=t.childNodes[s];if(a.nodeType==1){let l=a.getClientRects();for(let c=0;c<l.length;c++){let d=l[c];if(Vf(e,d))return t0(a,e,d)}}if((s=(s+1)%o)==r)break}return t}function cA(t,e){let n=t.dom.ownerDocument,o,r=0,s=X_(n,e.left,e.top);s&&({node:o,offset:r}=s);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let d=t.dom.getBoundingClientRect();if(!Vf(e,d)||(a=t0(t.dom,e,d),!a))return null}if(ht)for(let d=a;o&&d;d=ci(d))d.draggable&&(o=void 0);if(a=sA(a,e),o){if(on&&o.nodeType==1&&(r=Math.min(r,o.childNodes.length),r<o.childNodes.length)){let u=o.childNodes[r],f;u.nodeName=="IMG"&&(f=u.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&r++}let d;Ps&&r&&o.nodeType==1&&(d=o.childNodes[r-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&r--,o==t.dom&&r==o.childNodes.length-1&&o.lastChild.nodeType==1&&e.top>o.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(r==0||o.nodeType!=1||o.childNodes[r-1].nodeName!="BR")&&(l=lA(t,o,r,e))}l==null&&(l=aA(t,a,e));let c=t.docView.nearestDesc(a,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function n0(t){return t.top<t.bottom||t.left<t.right}function Eo(t,e){let n=t.getClientRects();if(n.length){let o=n[e<0?0:n.length-1];if(n0(o))return o}return Array.prototype.find.call(n,n0)||t.getBoundingClientRect()}const dA=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function o0(t,e,n){let{node:o,offset:r,atom:s}=t.docView.domFromPos(e,n<0?-1:1),a=Ps||on;if(o.nodeType==3)if(a&&(dA.test(o.nodeValue)||(n<0?!r:r==o.nodeValue.length))){let c=Eo(zn(o,r,r),n);if(on&&r&&/\s/.test(o.nodeValue[r-1])&&r<o.nodeValue.length){let d=Eo(zn(o,r-1,r-1),-1);if(d.top==c.top){let u=Eo(zn(o,r,r+1),-1);if(u.top!=c.top)return Ds(u,u.left<d.left)}}return c}else{let c=r,d=r,u=n<0?1:-1;return n<0&&!r?(d++,u=-1):n>=0&&r==o.nodeValue.length?(c--,u=1):n<0?c--:d++,Ds(Eo(zn(o,c,d),u),u<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&r&&(n<0||r==Ut(o))){let c=o.childNodes[r-1];if(c.nodeType==1)return Ff(c.getBoundingClientRect(),!1)}if(s==null&&r<Ut(o)){let c=o.childNodes[r];if(c.nodeType==1)return Ff(c.getBoundingClientRect(),!0)}return Ff(o.getBoundingClientRect(),n>=0)}if(s==null&&r&&(n<0||r==Ut(o))){let c=o.childNodes[r-1],d=c.nodeType==3?zn(c,Ut(c)-(a?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(d)return Ds(Eo(d,1),!1)}if(s==null&&r<Ut(o)){let c=o.childNodes[r];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let d=c?c.nodeType==3?zn(c,0,a?0:1):c.nodeType==1?c:null:null;if(d)return Ds(Eo(d,-1),!0)}return Ds(Eo(o.nodeType==3?zn(o):o,-n),n>=0)}function Ds(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Ff(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function r0(t,e,n){let o=t.state,r=t.root.activeElement;o!=e&&t.updateState(e),r!=t.dom&&t.focus();try{return n()}finally{o!=e&&t.updateState(o),r!=t.dom&&r&&r.focus()}}function uA(t,e,n){let o=e.selection,r=n=="up"?o.$from:o.$to;return r0(t,e,()=>{let{node:s}=t.docView.domFromPos(r.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let a=o0(t,r.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=zn(l,0,l.nodeValue.length).getClientRects();else continue;for(let d=0;d<c.length;d++){let u=c[d];if(u.bottom>u.top+1&&(n=="up"?a.top-u.top>(u.bottom-a.top)*2:u.bottom-a.bottom>(a.bottom-u.top)*2))return!1}}return!0})}const fA=/[\u0590-\u08ac]/;function pA(t,e,n){let{$head:o}=e.selection;if(!o.parent.isTextblock)return!1;let r=o.parentOffset,s=!r,a=r==o.parent.content.size,l=t.domSelection();return l?!fA.test(o.parent.textContent)||!l.modify?n=="left"||n=="backward"?s:a:r0(t,e,()=>{let{focusNode:c,focusOffset:d,anchorNode:u,anchorOffset:f}=t.domSelectionRange(),p=l.caretBidiLevel;l.modify("move",n,"character");let h=o.depth?t.docView.domAfterPos(o.before()):t.dom,{focusNode:m,focusOffset:g}=t.domSelectionRange(),y=m&&!h.contains(m.nodeType==1?m:m.parentNode)||c==m&&d==g;try{l.collapse(u,f),c&&(c!=u||d!=f)&&l.extend&&l.extend(c,d)}catch{}return p!=null&&(l.caretBidiLevel=p),y}):o.pos==o.start()||o.pos==o.end()}let i0=null,s0=null,a0=!1;function hA(t,e,n){return i0==e&&s0==n?a0:(i0=e,s0=n,a0=n=="up"||n=="down"?uA(t,e,n):pA(t,e,n))}const Wt=0,l0=1,wr=2,kn=3;class $s{constructor(e,n,o,r){this.parent=e,this.children=n,this.dom=o,this.contentDOM=r,this.dirty=Wt,o.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,o){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,o=this.posAtStart;;n++){let r=this.children[n];if(r==e)return o;o+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,o){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(o<0){let s,a;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=n>tt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){r=!1;break}if(s.previousSibling)break}if(r==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){r=!0;break}if(s.nextSibling)break}}return r??o>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let o=!0,r=e;r;r=r.parentNode){let s=this.getDesc(r),a;if(s&&(!n||s.node))if(o&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))o=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let o=n;o;o=o.parent)if(o==this)return n}posFromDOM(e,n,o){for(let r=e;r;r=r.parentNode){let s=this.getDesc(r);if(s)return s.localPosFromDOM(e,n,o)}return-1}descAt(e){for(let n=0,o=0;n<this.children.length;n++){let r=this.children[n],s=o+r.size;if(o==e&&s!=o){for(;!r.border&&r.children.length;)for(let a=0;a<r.children.length;a++){let l=r.children[a];if(l.size){r=l;break}}return r}if(e<s)return r.descAt(e-o-r.border);o=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let o=0,r=0;for(let s=0;o<this.children.length;o++){let a=this.children[o],l=s+a.size;if(l>e||a instanceof u0){r=e-s;break}s=l}if(r)return this.children[o].domFromPos(r-this.children[o].border,n);for(let s;o&&!(s=this.children[o-1]).size&&s instanceof c0&&s.side>=0;o--);if(n<=0){let s,a=!0;for(;s=o?this.children[o-1]:null,!(!s||s.dom.parentNode==this.contentDOM);o--,a=!1);return s&&n&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?tt(s.dom)+1:0}}else{let s,a=!0;for(;s=o<this.children.length?this.children[o]:null,!(!s||s.dom.parentNode==this.contentDOM);o++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?tt(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,o=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,s=-1;for(let a=o,l=0;;l++){let c=this.children[l],d=a+c.size;if(r==-1&&e<=d){let u=a+c.border;if(e>=u&&n<=d-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,n,u);e=a;for(let f=l;f>0;f--){let p=this.children[f-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){r=tt(p.dom)+1;break}e-=p.size}r==-1&&(r=0)}if(r>-1&&(d>n||l==this.children.length-1)){n=d;for(let u=l+1;u<this.children.length;u++){let f=this.children[u];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){s=tt(f.dom);break}n+=f.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=d}return{node:this.contentDOM,from:e,to:n,fromOffset:r,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:o}=this.domFromPos(e,0);if(n.nodeType!=1||o==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[o]}setSelection(e,n,o,r=!1){let s=Math.min(e,n),a=Math.max(e,n);for(let h=0,m=0;h<this.children.length;h++){let g=this.children[h],y=m+g.size;if(s>m&&a<y)return g.setSelection(e-m-g.border,n-m-g.border,o,r);m=y}let l=this.domFromPos(e,e?-1:1),c=n==e?l:this.domFromPos(n,n?-1:1),d=o.root.getSelection(),u=o.domSelectionRange(),f=!1;if((on||ht)&&e==n){let{node:h,offset:m}=l;if(h.nodeType==3){if(f=!!(m&&h.nodeValue[m-1]==`
`),f&&m==h.nodeValue.length)for(let g=h,y;g;g=g.parentNode){if(y=g.nextSibling){y.nodeName=="BR"&&(l=c={node:y.parentNode,offset:tt(y)+1});break}let b=g.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{let g=h.childNodes[m-1];f=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(on&&u.focusNode&&u.focusNode!=c.node&&u.focusNode.nodeType==1){let h=u.focusNode.childNodes[u.focusOffset];h&&h.contentEditable=="false"&&(r=!0)}if(!(r||f&&ht)&&yr(l.node,l.offset,u.anchorNode,u.anchorOffset)&&yr(c.node,c.offset,u.focusNode,u.focusOffset))return;let p=!1;if((d.extend||e==n)&&!f){d.collapse(l.node,l.offset);try{e!=n&&d.extend(c.node,c.offset),p=!0}catch{}}if(!p){if(e>n){let m=l;l=c,c=m}let h=document.createRange();h.setEnd(c.node,c.offset),h.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let o=0,r=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(o==a?e<=a&&n>=o:e<a&&n>o){let l=o+s.border,c=a-s.border;if(e>=l&&n<=c){this.dirty=e==o||n==a?wr:l0,e==l&&n==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=kn:s.markDirty(e-l,n-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?wr:kn}o=a}this.dirty=wr}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let o=e==1?wr:l0;n.dirty<o&&(n.dirty=o)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class c0 extends $s{constructor(e,n,o,r){let s,a=n.type.toDOM;if(typeof a=="function"&&(a=a(o,()=>{if(!s)return r;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(a.nodeType!=1){let l=document.createElement("span");l.appendChild(a),a=l}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Wt&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class mA extends $s{constructor(e,n,o,r){super(e,[],n,null),this.textDOM=o,this.text=r}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Cr extends $s{constructor(e,n,o,r,s){super(e,[],o,r),this.mark=n,this.spec=s}static create(e,n,o,r){let s=r.nodeViews[n.type.name],a=s&&s(n,r,o);return(!a||!a.dom)&&(a=bo.renderSpec(document,n.type.spec.toDOM(n,o),null,n.attrs)),new Cr(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&kn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=kn&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Wt){let o=this.parent;for(;!o.node;)o=o.parent;o.dirty<this.dirty&&(o.dirty=this.dirty),this.dirty=Wt}}slice(e,n,o){let r=Cr.create(this.parent,this.mark,!0,o),s=this.children,a=this.size;n<a&&(s=Hf(s,n,a,o)),e>0&&(s=Hf(s,0,e,o));for(let l=0;l<s.length;l++)s[l].parent=r;return r.children=s,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class _o extends $s{constructor(e,n,o,r,s,a,l,c,d){super(e,[],s,a),this.node=n,this.outerDeco=o,this.innerDeco=r,this.nodeDOM=l}static create(e,n,o,r,s,a){let l=s.nodeViews[n.type.name],c,d=l&&l(n,s,()=>{if(!c)return a;if(c.parent)return c.parent.posBeforeChild(c)},o,r),u=d&&d.dom,f=d&&d.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:f}=bo.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let p=u;return u=h0(u,o,n),d?c=new gA(e,n,o,r,u,f||null,p,d,s,a+1):n.isText?new Dl(e,n,o,r,u,p,s):new _o(e,n,o,r,u,f||null,p,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let o=this.children[n];if(this.dom.contains(o.dom.parentNode)){e.contentElement=o.dom.parentNode;break}}e.contentElement||(e.getContent=()=>P.empty)}return e}matchesNode(e,n,o){return this.dirty==Wt&&e.eq(this.node)&&$l(n,this.outerDeco)&&o.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let o=this.node.inlineContent,r=n,s=e.composing?this.localCompositionInfo(e,n):null,a=s&&s.pos>-1?s:null,l=s&&s.pos<0,c=new bA(this,a&&a.node,e);kA(this.node,this.innerDeco,(d,u,f)=>{d.spec.marks?c.syncToMarks(d.spec.marks,o,e):d.type.side>=0&&!f&&c.syncToMarks(u==this.node.childCount?Ae.none:this.node.child(u).marks,o,e),c.placeWidget(d,e,r)},(d,u,f,p)=>{c.syncToMarks(d.marks,o,e);let h;c.findNodeMatch(d,u,f,p)||l&&e.state.selection.from>r&&e.state.selection.to<r+d.nodeSize&&(h=c.findIndexWithChild(s.node))>-1&&c.updateNodeAt(d,u,f,h,e)||c.updateNextNode(d,u,f,e,p,r)||c.addNode(d,u,f,e,r),r+=d.nodeSize}),c.syncToMarks([],o,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==wr)&&(a&&this.protectLocalComposition(e,a),f0(this.contentDOM,this.children,e),di&&xA(this.dom))}localCompositionInfo(e,n){let{from:o,to:r}=e.state.selection;if(!(e.state.selection instanceof J)||o<n||r>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,l=SA(this.node.content,a,o-n,r-n);return l<0?null:{node:s,pos:l,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:o,text:r}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new mA(this,s,n,r);e.input.compositionNodes.push(a),this.children=Hf(this.children,o,o+r.length,e,a)}update(e,n,o,r){return this.dirty==kn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,o,r),!0)}updateInner(e,n,o,r){this.updateOuterDeco(n),this.node=e,this.innerDeco=o,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Wt}updateOuterDeco(e){if($l(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,o=this.dom;this.dom=p0(this.dom,this.nodeDOM,zf(this.outerDeco,this.node,n),zf(e,this.node,n)),this.dom!=o&&(o.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function d0(t,e,n,o,r){h0(o,e,t);let s=new _o(void 0,t,e,n,o,o,o,r,0);return s.contentDOM&&s.updateChildren(r,0),s}class Dl extends _o{constructor(e,n,o,r,s,a,l){super(e,n,o,r,s,null,a,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,o,r){return this.dirty==kn||this.dirty!=Wt&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Wt||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=Wt,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,o){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,o)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,o){let r=this.node.cut(e,n),s=document.createTextNode(r.text);return new Dl(this.parent,r,this.outerDeco,this.innerDeco,s,s,o)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=kn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class u0 extends $s{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Wt&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class gA extends _o{constructor(e,n,o,r,s,a,l,c,d,u){super(e,n,o,r,s,a,l,d,u),this.spec=c}update(e,n,o,r){if(this.dirty==kn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,o);return s&&this.updateInner(e,n,o,r),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,o,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,o,r){this.spec.setSelection?this.spec.setSelection(e,n,o.root):super.setSelection(e,n,o,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function f0(t,e,n){let o=t.firstChild,r=!1;for(let s=0;s<e.length;s++){let a=e[s],l=a.dom;if(l.parentNode==t){for(;l!=o;)o=m0(o),r=!0;o=o.nextSibling}else r=!0,t.insertBefore(l,o);if(a instanceof Cr){let c=o?o.previousSibling:t.lastChild;f0(a.contentDOM,a.children,n),o=c?c.nextSibling:t.firstChild}}for(;o;)o=m0(o),r=!0;r&&n.trackWrites==t&&(n.trackWrites=null)}const Ls=function(t){t&&(this.nodeName=t)};Ls.prototype=Object.create(null);const kr=[new Ls];function zf(t,e,n){if(t.length==0)return kr;let o=n?kr[0]:new Ls,r=[o];for(let s=0;s<t.length;s++){let a=t[s].type.attrs;if(a){a.nodeName&&r.push(o=new Ls(a.nodeName));for(let l in a){let c=a[l];c!=null&&(n&&r.length==1&&r.push(o=new Ls(e.isInline?"span":"div")),l=="class"?o.class=(o.class?o.class+" ":"")+c:l=="style"?o.style=(o.style?o.style+";":"")+c:l!="nodeName"&&(o[l]=c))}}}return r}function p0(t,e,n,o){if(n==kr&&o==kr)return e;let r=e;for(let s=0;s<o.length;s++){let a=o[s],l=n[s];if(s){let c;l&&l.nodeName==a.nodeName&&r!=t&&(c=r.parentNode)&&c.nodeName.toLowerCase()==a.nodeName||(c=document.createElement(a.nodeName),c.pmIsDeco=!0,c.appendChild(r),l=kr[0]),r=c}yA(r,l||kr[0],a)}return r}function yA(t,e,n){for(let o in e)o!="class"&&o!="style"&&o!="nodeName"&&!(o in n)&&t.removeAttribute(o);for(let o in n)o!="class"&&o!="style"&&o!="nodeName"&&n[o]!=e[o]&&t.setAttribute(o,n[o]);if(e.class!=n.class){let o=e.class?e.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<o.length;s++)r.indexOf(o[s])==-1&&t.classList.remove(o[s]);for(let s=0;s<r.length;s++)o.indexOf(r[s])==-1&&t.classList.add(r[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let o=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=o.exec(e.style);)t.style.removeProperty(r[1])}n.style&&(t.style.cssText+=n.style)}}function h0(t,e,n){return p0(t,t,kr,zf(e,n,t.nodeType!=1))}function $l(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function m0(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class bA{constructor(e,n,o){this.lock=n,this.view=o,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=wA(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let o=e;o<n;o++)this.top.children[o].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,o){let r=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;r<a&&(r==s-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<s;)this.destroyRest(),this.top.dirty=Wt,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let d=this.top.children[c];if(d.matchesMark(e[s])&&!this.isLocked(d.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=Cr.create(this.top,e[s],n,o);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,o,r){let s=-1,a;if(r>=this.preMatch.index&&(a=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,o))s=this.top.children.indexOf(a,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let d=this.top.children[l];if(d.matchesNode(e,n,o)&&!this.preMatch.matched.has(d)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,o,r,s){let a=this.top.children[r];return a.dirty==kn&&a.dom==a.contentDOM&&(a.dirty=wr),a.update(e,n,o,s)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let o=e.pmViewDesc;if(o){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==o)return r}return-1}e=n}}updateNextNode(e,n,o,r,s,a){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof _o){let d=this.preMatch.matched.get(c);if(d!=null&&d!=s)return!1;let u=c.dom,f,p=this.isLocked(u)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=kn&&$l(n,c.outerDeco));if(!p&&c.update(e,n,o,r))return this.destroyBetween(this.index,l),c.dom!=u&&(this.changed=!0),this.index++,!0;if(!p&&(f=this.recreateWrapper(c,e,n,o,r,a)))return this.destroyBetween(this.index,l),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=wr,f.updateChildren(r,a+1),f.dirty=Wt),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,o,r,s,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!$l(o,e.outerDeco)||!r.eq(e.innerDeco))return null;let l=_o.create(this.top,n,o,r,s,a);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,n,o,r,s){let a=_o.create(this.top,e,n,o,r,s);a.contentDOM&&a.updateChildren(r,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,o){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let s=new c0(this.top,e,n,o);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Cr;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Dl)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ht||lt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let o=document.createElement(e);e=="IMG"&&(o.className="ProseMirror-separator",o.alt=""),e=="BR"&&(o.className="ProseMirror-trailingBreak");let r=new u0(this.top,[],o,null);n!=this.top?n.children.push(r):n.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function wA(t,e){let n=e,o=n.children.length,r=t.childCount,s=new Map,a=[];e:for(;r>0;){let l;for(;;)if(o){let d=n.children[o-1];if(d instanceof Cr)n=d,o=d.children.length;else{l=d,o--;break}}else{if(n==e)break e;o=n.parent.children.indexOf(n),n=n.parent}let c=l.node;if(c){if(c!=t.child(r-1))break;--r,s.set(l,r),a.push(l)}}return{index:r,matched:s,matches:a.reverse()}}function CA(t,e){return t.type.side-e.type.side}function kA(t,e,n,o){let r=e.locals(t),s=0;if(r.length==0){for(let d=0;d<t.childCount;d++){let u=t.child(d);o(u,r,e.forChild(s,u),d),s+=u.nodeSize}return}let a=0,l=[],c=null;for(let d=0;;){let u,f;for(;a<r.length&&r[a].to==s;){let y=r[a++];y.widget&&(u?(f||(f=[u])).push(y):u=y)}if(u)if(f){f.sort(CA);for(let y=0;y<f.length;y++)n(f[y],d,!!c)}else n(u,d,!!c);let p,h;if(c)h=-1,p=c,c=null;else if(d<t.childCount)h=d,p=t.child(d++);else break;for(let y=0;y<l.length;y++)l[y].to<=s&&l.splice(y--,1);for(;a<r.length&&r[a].from<=s&&r[a].to>s;)l.push(r[a++]);let m=s+p.nodeSize;if(p.isText){let y=m;a<r.length&&r[a].from<y&&(y=r[a].from);for(let b=0;b<l.length;b++)l[b].to<y&&(y=l[b].to);y<m&&(c=p.cut(y-s),p=p.cut(0,y-s),m=y,h=-1)}else for(;a<r.length&&r[a].to<m;)a++;let g=p.isInline&&!p.isLeaf?l.filter(y=>!y.inline):l.slice();o(p,g,e.forChild(s,p),h),s=m}}function xA(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function SA(t,e,n,o){for(let r=0,s=0;r<t.childCount&&s<=o;){let a=t.child(r++),l=s;if(s+=a.nodeSize,!a.isText)continue;let c=a.text;for(;r<t.childCount;){let d=t.child(r++);if(s+=d.nodeSize,!d.isText)break;c+=d.text}if(s>=n){if(s>=o&&c.slice(o-e.length-l,o-l)==e)return o-e.length;let d=l<o?c.lastIndexOf(e,o-l-1):-1;if(d>=0&&d+e.length+l>=n)return l+d;if(n==o&&c.length>=o+e.length-l&&c.slice(o-l,o-l+e.length)==e)return o}}return-1}function Hf(t,e,n,o,r){let s=[];for(let a=0,l=0;a<t.length;a++){let c=t[a],d=l,u=l+=c.size;d>=n||u<=e?s.push(c):(d<e&&s.push(c.slice(0,e-d,o)),r&&(s.push(r),r=void 0),u>n&&s.push(c.slice(n-d,c.size,o)))}return s}function Uf(t,e=null){let n=t.domSelectionRange(),o=t.state.doc;if(!n.focusNode)return null;let r=t.docView.nearestDesc(n.focusNode),s=r&&r.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l=o.resolve(a),c,d;if(Pl(n)){for(c=a;r&&!r.node;)r=r.parent;let f=r.node;if(r&&f.isAtom&&X.isSelectable(f)&&r.parent&&!(f.isInline&&Y_(n.focusNode,n.focusOffset,r.dom))){let p=r.posBefore;d=new X(a==p?l:o.resolve(p))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=a,p=a;for(let h=0;h<n.rangeCount;h++){let m=n.getRangeAt(h);f=Math.min(f,t.docView.posFromDOM(m.startContainer,m.startOffset,1)),p=Math.max(p,t.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(f<0)return null;[c,a]=p==t.state.selection.anchor?[p,f]:[f,p],l=o.resolve(a)}else c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let u=o.resolve(c);if(!d){let f=e=="pointer"||t.state.selection.head<l.pos&&!s?1:-1;d=Wf(t,u,l,f)}return d}function g0(t){return t.editable?t.hasFocus():S0(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function jn(t,e=!1){let n=t.state.selection;if(C0(t,n),!!g0(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&lt){let o=t.domSelectionRange(),r=t.domObserver.currentSelection;if(o.anchorNode&&r.anchorNode&&yr(o.anchorNode,o.anchorOffset,r.anchorNode,r.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)_A(t);else{let{anchor:o,head:r}=n,s,a;y0&&!(n instanceof J)&&(n.$from.parent.inlineContent||(s=b0(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=b0(t,n.to))),t.docView.setSelection(o,r,t,e),y0&&(s&&w0(s),a&&w0(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&EA(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const y0=ht||lt&&Jy<63;function b0(t,e){let{node:n,offset:o}=t.docView.domFromPos(e,0),r=o<n.childNodes.length?n.childNodes[o]:null,s=o?n.childNodes[o-1]:null;if(ht&&r&&r.contentEditable=="false")return jf(r);if((!r||r.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(r)return jf(r);if(s)return jf(s)}}function jf(t){return t.contentEditable="true",ht&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function w0(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function EA(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),o=n.anchorNode,r=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=o||n.anchorOffset!=r)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!g0(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function _A(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let o=t.cursorWrapper.dom,r=o.nodeName=="IMG";r?n.setStart(o.parentNode,tt(o)+1):n.setStart(o,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!r&&!t.state.selection.visible&&xt&&So<=11&&(o.disabled=!0,o.disabled=!1)}function C0(t,e){if(e instanceof X){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(k0(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else k0(t)}function k0(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Wf(t,e,n,o){return t.someProp("createSelectionBetween",r=>r(t,e,n))||J.between(e,n,o)}function x0(t){return t.editable&&!t.hasFocus()?!1:S0(t)}function S0(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function AA(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return yr(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Kf(t,e){let{$anchor:n,$head:o}=t.selection,r=e>0?n.max(o):n.min(o),s=r.parent.inlineContent?r.depth?t.doc.resolve(e>0?r.after():r.before()):null:r;return s&&Z.findFrom(s,e)}function Ao(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function E0(t,e,n){let o=t.state.selection;if(o instanceof J)if(n.indexOf("s")>-1){let{$head:r}=o,s=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=t.state.doc.resolve(r.pos+s.nodeSize*(e<0?-1:1));return Ao(t,new J(o.$anchor,a))}else if(o.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let r=Kf(t.state,e);return r&&r instanceof X?Ao(t,r):!1}else if(!(jt&&n.indexOf("m")>-1)){let r=o.$head,s=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,a;if(!s||s.isText)return!1;let l=e<0?r.pos-s.nodeSize:r.pos;return s.isAtom||(a=t.docView.descAt(l))&&!a.contentDOM?X.isSelectable(s)?Ao(t,new X(e<0?t.state.doc.resolve(r.pos-s.nodeSize):r)):Ps?Ao(t,new J(t.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(o instanceof X&&o.node.isInline)return Ao(t,new J(e>0?o.$to:o.$from));{let r=Kf(t.state,e);return r?Ao(t,r):!1}}}function Ll(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Vs(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function fi(t,e){return e<0?TA(t):MA(t)}function TA(t){let e=t.domSelectionRange(),n=e.focusNode,o=e.focusOffset;if(!n)return;let r,s,a=!1;for(on&&n.nodeType==1&&o<Ll(n)&&Vs(n.childNodes[o],-1)&&(a=!0);;)if(o>0){if(n.nodeType!=1)break;{let l=n.childNodes[o-1];if(Vs(l,-1))r=n,s=--o;else if(l.nodeType==3)n=l,o=n.nodeValue.length;else break}}else{if(_0(n))break;{let l=n.previousSibling;for(;l&&Vs(l,-1);)r=n.parentNode,s=tt(l),l=l.previousSibling;if(l)n=l,o=Ll(n);else{if(n=n.parentNode,n==t.dom)break;o=0}}}a?Gf(t,n,o):r&&Gf(t,r,s)}function MA(t){let e=t.domSelectionRange(),n=e.focusNode,o=e.focusOffset;if(!n)return;let r=Ll(n),s,a;for(;;)if(o<r){if(n.nodeType!=1)break;let l=n.childNodes[o];if(Vs(l,1))s=n,a=++o;else break}else{if(_0(n))break;{let l=n.nextSibling;for(;l&&Vs(l,1);)s=l.parentNode,a=tt(l)+1,l=l.nextSibling;if(l)n=l,o=0,r=Ll(n);else{if(n=n.parentNode,n==t.dom)break;o=r=0}}}s&&Gf(t,s,a)}function _0(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function OA(t,e){for(;t&&e==t.childNodes.length&&!Rs(t);)e=tt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function vA(t,e){for(;t&&!e&&!Rs(t);)e=tt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Gf(t,e,n){if(e.nodeType!=3){let s,a;(a=OA(e,n))?(e=a,n=0):(s=vA(e,n))&&(e=s,n=s.nodeValue.length)}let o=t.domSelection();if(!o)return;if(Pl(o)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),o.removeAllRanges(),o.addRange(s)}else o.extend&&o.extend(e,n);t.domObserver.setCurSelection();let{state:r}=t;setTimeout(()=>{t.state==r&&jn(t)},50)}function A0(t,e){let n=t.state.doc.resolve(e);if(!(lt||Z_)&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>r.top&&a<r.bottom&&Math.abs(s.left-r.left)>1)return s.left<r.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>r.top&&a<r.bottom&&Math.abs(s.left-r.left)>1)return s.left>r.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function T0(t,e,n){let o=t.state.selection;if(o instanceof J&&!o.empty||n.indexOf("s")>-1||jt&&n.indexOf("m")>-1)return!1;let{$from:r,$to:s}=o;if(!r.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=Kf(t.state,e);if(a&&a instanceof X)return Ao(t,a)}if(!r.parent.inlineContent){let a=e<0?r:s,l=o instanceof pt?Z.near(a,e):Z.findFrom(a,e);return l?Ao(t,l):!1}return!1}function M0(t,e){if(!(t.state.selection instanceof J))return!0;let{$head:n,$anchor:o,empty:r}=t.state.selection;if(!n.sameParent(o))return!0;if(!r)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let a=t.state.tr;return e<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),t.dispatch(a),!0}return!1}function O0(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function NA(t){if(!ht||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let o=e.firstChild;O0(t,o,"true"),setTimeout(()=>O0(t,o,"false"),20)}return!1}function IA(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function BA(t,e){let n=e.keyCode,o=IA(e);if(n==8||jt&&n==72&&o=="c")return M0(t,-1)||fi(t,-1);if(n==46&&!e.shiftKey||jt&&n==68&&o=="c")return M0(t,1)||fi(t,1);if(n==13||n==27)return!0;if(n==37||jt&&n==66&&o=="c"){let r=n==37?A0(t,t.state.selection.from)=="ltr"?-1:1:-1;return E0(t,r,o)||fi(t,r)}else if(n==39||jt&&n==70&&o=="c"){let r=n==39?A0(t,t.state.selection.from)=="ltr"?1:-1:1;return E0(t,r,o)||fi(t,r)}else{if(n==38||jt&&n==80&&o=="c")return T0(t,-1,o)||fi(t,-1);if(n==40||jt&&n==78&&o=="c")return NA(t)||T0(t,1,o)||fi(t,1);if(o==(jt?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function qf(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:o,openStart:r,openEnd:s}=e;for(;r>1&&s>1&&o.childCount==1&&o.firstChild.childCount==1;){r--,s--;let h=o.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),o=h.content}let a=t.someProp("clipboardSerializer")||bo.fromSchema(t.state.schema),l=$0(),c=l.createElement("div");c.appendChild(a.serializeFragment(o,{document:l}));let d=c.firstChild,u,f=0;for(;d&&d.nodeType==1&&(u=P0[d.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let m=l.createElement(u[h]);for(;c.firstChild;)m.appendChild(c.firstChild);c.appendChild(m),f++}d=c.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${r} ${s}${f?` -${f}`:""} ${JSON.stringify(n)}`);let p=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:p,slice:e}}function v0(t,e,n,o,r){let s=r.parent.type.spec.code,a,l;if(!n&&!e)return null;let c=e&&(o||s||!n);if(c){if(t.someProp("transformPastedText",p=>{e=p(e,s||o,t)}),s)return e?new U(P.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):U.empty;let f=t.someProp("clipboardTextParser",p=>p(e,r,o,t));if(f)l=f;else{let p=r.marks(),{schema:h}=t.state,m=bo.fromSchema(h);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let y=a.appendChild(document.createElement("p"));g&&y.appendChild(m.serializeNode(h.text(g,p)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),a=$A(n),Ps&&LA(a);let d=a&&a.querySelector("[data-pm-slice]"),u=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let f=+u[3];f>0;f--){let p=a.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;a=p}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Ts.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(c||u),context:r,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!RA.test(p.parentNode.nodeName)?{ignore:!0}:null}})),u)l=VA(R0(l,+u[1],+u[2]),u[4]);else if(l=U.maxOpen(PA(l.content,r),!0),l.openStart||l.openEnd){let f=0,p=0;for(let h=l.content.firstChild;f<l.openStart&&!h.type.spec.isolating;f++,h=h.firstChild);for(let h=l.content.lastChild;p<l.openEnd&&!h.type.spec.isolating;p++,h=h.lastChild);l=R0(l,f,p)}return t.someProp("transformPasted",f=>{l=f(l,t)}),l}const RA=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function PA(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.index(n)),s,a=[];if(t.forEach(l=>{if(!a)return;let c=r.findWrapping(l.type),d;if(!c)return a=null;if(d=a.length&&s.length&&I0(c,s,l,a[a.length-1],0))a[a.length-1]=d;else{a.length&&(a[a.length-1]=B0(a[a.length-1],s.length));let u=N0(l,c);a.push(u),r=r.matchType(u.type),s=c}}),a)return P.from(a)}return t}function N0(t,e,n=0){for(let o=e.length-1;o>=n;o--)t=e[o].create(null,P.from(t));return t}function I0(t,e,n,o,r){if(r<t.length&&r<e.length&&t[r]==e[r]){let s=I0(t,e,n,o.lastChild,r+1);if(s)return o.copy(o.content.replaceChild(o.childCount-1,s));if(o.contentMatchAt(o.childCount).matchType(r==t.length-1?n.type:t[r+1]))return o.copy(o.content.append(P.from(N0(n,t,r+1))))}}function B0(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,B0(t.lastChild,e-1)),o=t.contentMatchAt(t.childCount).fillBefore(P.empty,!0);return t.copy(n.append(o))}function Yf(t,e,n,o,r,s){let a=e<0?t.firstChild:t.lastChild,l=a.content;return t.childCount>1&&(s=0),r<o-1&&(l=Yf(l,e,n,o,r+1,s)),r>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,s<=r).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(P.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}function R0(t,e,n){return e<t.openStart&&(t=new U(Yf(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new U(Yf(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const P0={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let D0=null;function $0(){return D0||(D0=document.implementation.createHTMLDocument("title"))}let Jf=null;function DA(t){let e=window.trustedTypes;return e?(Jf||(Jf=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Jf.createHTML(t)):t}function $A(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=$0().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(t),r;if((r=o&&P0[o[1].toLowerCase()])&&(t=r.map(s=>"<"+s+">").join("")+t+r.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=DA(t),r)for(let s=0;s<r.length;s++)n=n.querySelector(r[s])||n;return n}function LA(t){let e=t.querySelectorAll(lt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let o=e[n];o.childNodes.length==1&&o.textContent==""&&o.parentNode&&o.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),o)}}function VA(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,o;try{o=JSON.parse(e)}catch{return t}let{content:r,openStart:s,openEnd:a}=t;for(let l=o.length-2;l>=0;l-=2){let c=n.nodes[o[l]];if(!c||c.hasRequiredAttrs())break;r=P.from(c.create(o[l+1],r)),s++,a++}return new U(r,s,a)}const mt={},gt={},FA={touchstart:!0,touchmove:!0};class zA{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function HA(t){for(let e in mt){let n=mt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=o=>{jA(t,o)&&!Zf(t,o)&&(t.editable||!(o.type in gt))&&n(t,o)},FA[e]?{passive:!0}:void 0)}ht&&t.dom.addEventListener("input",()=>null),Xf(t)}function To(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function UA(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Xf(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=o=>Zf(t,o))})}function Zf(t,e){return t.someProp("handleDOMEvents",n=>{let o=n[e.type];return o?o(t,e)||e.defaultPrevented:!1})}function jA(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function WA(t,e){!Zf(t,e)&&mt[e.type]&&(t.editable||!(e.type in gt))&&mt[e.type](t,e)}gt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!V0(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Hn&&lt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),di&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let o=Date.now();t.input.lastIOSEnter=o,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==o&&(t.someProp("handleKeyDown",r=>r(t,br(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",o=>o(t,n))||BA(t,n)?n.preventDefault():To(t,"key")},gt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)},gt.keypress=(t,e)=>{let n=e;if(V0(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||jt&&n.metaKey)return;if(t.someProp("handleKeyPress",r=>r(t,n))){n.preventDefault();return}let o=t.state.selection;if(!(o instanceof J)||!o.$from.sameParent(o.$to)){let r=String.fromCharCode(n.charCode);!/[\r\n]/.test(r)&&!t.someProp("handleTextInput",s=>s(t,o.$from.pos,o.$to.pos,r))&&t.dispatch(t.state.tr.insertText(r).scrollIntoView()),n.preventDefault()}};function Vl(t){return{left:t.clientX,top:t.clientY}}function KA(t,e){let n=e.x-t.clientX,o=e.y-t.clientY;return n*n+o*o<100}function Qf(t,e,n,o,r){if(o==-1)return!1;let s=t.state.doc.resolve(o);for(let a=s.depth+1;a>0;a--)if(t.someProp(e,l=>a>s.depth?l(t,n,s.nodeAfter,s.before(a),r,!0):l(t,n,s.node(a),s.before(a),r,!1)))return!0;return!1}function pi(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let o=t.state.tr.setSelection(e);o.setMeta("pointer",!0),t.dispatch(o)}function GA(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),o=n.nodeAfter;return o&&o.isAtom&&X.isSelectable(o)?(pi(t,new X(n)),!0):!1}function qA(t,e){if(e==-1)return!1;let n=t.state.selection,o,r;n instanceof X&&(o=n.node);let s=t.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let l=a>s.depth?s.nodeAfter:s.node(a);if(X.isSelectable(l)){o&&n.$from.depth>0&&a>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?r=s.before(n.$from.depth):r=s.before(a);break}}return r!=null?(pi(t,X.create(t.state.doc,r)),!0):!1}function YA(t,e,n,o,r){return Qf(t,"handleClickOn",e,n,o)||t.someProp("handleClick",s=>s(t,e,o))||(r?qA(t,n):GA(t,n))}function JA(t,e,n,o){return Qf(t,"handleDoubleClickOn",e,n,o)||t.someProp("handleDoubleClick",r=>r(t,e,o))}function XA(t,e,n,o){return Qf(t,"handleTripleClickOn",e,n,o)||t.someProp("handleTripleClick",r=>r(t,e,o))||ZA(t,n,o)}function ZA(t,e,n){if(n.button!=0)return!1;let o=t.state.doc;if(e==-1)return o.inlineContent?(pi(t,J.create(o,0,o.content.size)),!0):!1;let r=o.resolve(e);for(let s=r.depth+1;s>0;s--){let a=s>r.depth?r.nodeAfter:r.node(s),l=r.before(s);if(a.inlineContent)pi(t,J.create(o,l+1,l+1+a.content.size));else if(X.isSelectable(a))pi(t,X.create(o,l));else continue;return!0}}function ep(t){return Fl(t)}const L0=jt?"metaKey":"ctrlKey";mt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let o=ep(t),r=Date.now(),s="singleClick";r-t.input.lastClick.time<500&&KA(n,t.input.lastClick)&&!n[L0]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:s};let a=t.posAtCoords(Vl(n));a&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new QA(t,a,n,!!o)):(s=="doubleClick"?JA:XA)(t,a.pos,a.inside,n)?n.preventDefault():To(t,"pointer"))};class QA{constructor(e,n,o,r){this.view=e,this.pos=n,this.event=o,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!o[L0],this.allowDefault=o.shiftKey;let s,a;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),a=n.inside;else{let u=e.state.doc.resolve(n.pos);s=u.parent,a=u.depth?u.before():0}const l=r?null:o.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.dom.nodeType==1?c.dom:null;let{selection:d}=e.state;(o.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||d instanceof X&&d.from<=a&&d.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&on&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),To(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>jn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Vl(e))),this.updateAllowDefault(e),this.allowDefault||!n?To(this.view,"pointer"):YA(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ht&&this.mightDrag&&!this.mightDrag.node.isAtom||lt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(pi(this.view,Z.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):To(this.view,"pointer")}move(e){this.updateAllowDefault(e),To(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}mt.touchstart=t=>{t.input.lastTouch=Date.now(),ep(t),To(t,"pointer")},mt.touchmove=t=>{t.input.lastTouch=Date.now(),To(t,"pointer")},mt.contextmenu=t=>ep(t);function V0(t,e){return t.composing?!0:ht&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const e6=Hn?5e3:-1;gt.compositionstart=gt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof J&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(o=>o.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Fl(t,!0),t.markCursor=null;else if(Fl(t,!e.selection.empty),on&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let o=t.domSelectionRange();for(let r=o.focusNode,s=o.focusOffset;r&&r.nodeType==1&&s!=0;){let a=s<0?r.lastChild:r.childNodes[s-1];if(!a)break;if(a.nodeType==3){let l=t.domSelection();l&&l.collapse(a,a.nodeValue.length);break}else r=a,s=-1}}t.input.composing=!0}F0(t,e6)},gt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,F0(t,20))};function F0(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Fl(t),e))}function z0(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=n6());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function t6(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=G_(e.focusNode,e.focusOffset),o=q_(e.focusNode,e.focusOffset);if(n&&o&&n!=o){let r=o.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||o==s)return s;if(!r||!r.isText(o.nodeValue))return o;if(t.input.compositionNode==o){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return o}}return n||o}function n6(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Fl(t,e=!1){if(!(Hn&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),z0(t),e||t.docView&&t.docView.dirty){let n=Uf(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function o6(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let o=getSelection(),r=document.createRange();r.selectNodeContents(e),t.dom.blur(),o.removeAllRanges(),o.addRange(r),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Fs=xt&&So<15||di&&Q_<604;mt.copy=gt.cut=(t,e)=>{let n=e,o=t.state.selection,r=n.type=="cut";if(o.empty)return;let s=Fs?null:n.clipboardData,a=o.content(),{dom:l,text:c}=qf(t,a);s?(n.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",c)):o6(t,l),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function r6(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function i6(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,o=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus();let r=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),o.parentNode&&o.parentNode.removeChild(o),n?zs(t,o.value,null,r,e):zs(t,o.textContent,o.innerHTML,r,e)},50)}function zs(t,e,n,o,r){let s=v0(t,e,n,o,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,r,s||U.empty)))return!0;if(!s)return!1;let a=r6(s),l=a?t.state.tr.replaceSelectionWith(a,o):t.state.tr.replaceSelection(s);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function H0(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}gt.paste=(t,e)=>{let n=e;if(t.composing&&!Hn)return;let o=Fs?null:n.clipboardData,r=t.input.shiftKey&&t.input.lastKeyCode!=45;o&&zs(t,H0(o),o.getData("text/html"),r,n)?n.preventDefault():i6(t,n)};class U0{constructor(e,n,o){this.slice=e,this.move=n,this.node=o}}const s6=jt?"altKey":"ctrlKey";function j0(t,e){let n=t.someProp("dragCopies",o=>!o(e));return n??!e[s6]}mt.dragstart=(t,e)=>{let n=e,o=t.input.mouseDown;if(o&&o.done(),!n.dataTransfer)return;let r=t.state.selection,s=r.empty?null:t.posAtCoords(Vl(n)),a;if(!(s&&s.pos>=r.from&&s.pos<=(r instanceof X?r.to-1:r.to))){if(o&&o.mightDrag)a=X.create(t.state.doc,o.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(a=X.create(t.state.doc,f.posBefore))}}let l=(a||t.state.selection).content(),{dom:c,text:d,slice:u}=qf(t,l);(!n.dataTransfer.files.length||!lt||Jy>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Fs?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",Fs||n.dataTransfer.setData("text/plain",d),t.dragging=new U0(u,j0(t,n),a)},mt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)},gt.dragover=gt.dragenter=(t,e)=>e.preventDefault(),gt.drop=(t,e)=>{let n=e,o=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let r=t.posAtCoords(Vl(n));if(!r)return;let s=t.state.doc.resolve(r.pos),a=o&&o.slice;a?t.someProp("transformPasted",m=>{a=m(a,t)}):a=v0(t,H0(n.dataTransfer),Fs?null:n.dataTransfer.getData("text/html"),!1,s);let l=!!(o&&j0(t,n));if(t.someProp("handleDrop",m=>m(t,n,a||U.empty,l))){n.preventDefault();return}if(!a)return;n.preventDefault();let c=a?By(t.state.doc,s.pos,a):s.pos;c==null&&(c=s.pos);let d=t.state.tr;if(l){let{node:m}=o;m?m.replace(d):d.deleteSelection()}let u=d.mapping.map(c),f=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,p=d.doc;if(f?d.replaceRangeWith(u,u,a.content.firstChild):d.replaceRange(u,u,a),d.doc.eq(p))return;let h=d.doc.resolve(u);if(f&&X.isSelectable(a.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(a.content.firstChild))d.setSelection(new X(h));else{let m=d.mapping.map(c);d.mapping.maps[d.mapping.maps.length-1].forEach((g,y,b,C)=>m=C),d.setSelection(Wf(t,h,d.doc.resolve(m)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))},mt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&jn(t)},20))},mt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},mt.beforeinput=(t,e)=>{if(lt&&Hn&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:o}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=o||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,br(8,"Backspace")))))return;let{$cursor:r}=t.state.selection;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let t in gt)mt[t]=gt[t];function Hs(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class zl{constructor(e,n){this.toDOM=e,this.spec=n||xr,this.side=this.spec.side||0}map(e,n,o,r){let{pos:s,deleted:a}=e.mapResult(n.from+r,this.side<0?-1:1);return a?null:new Fe(s-o,s-o,this)}valid(){return!0}eq(e){return this==e||e instanceof zl&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Hs(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Mo{constructor(e,n){this.attrs=e,this.spec=n||xr}map(e,n,o,r){let s=e.map(n.from+r,this.spec.inclusiveStart?-1:1)-o,a=e.map(n.to+r,this.spec.inclusiveEnd?1:-1)-o;return s>=a?null:new Fe(s,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Mo&&Hs(this.attrs,e.attrs)&&Hs(this.spec,e.spec)}static is(e){return e.type instanceof Mo}destroy(){}}class tp{constructor(e,n){this.attrs=e,this.spec=n||xr}map(e,n,o,r){let s=e.mapResult(n.from+r,1);if(s.deleted)return null;let a=e.mapResult(n.to+r,-1);return a.deleted||a.pos<=s.pos?null:new Fe(s.pos-o,a.pos-o,this)}valid(e,n){let{index:o,offset:r}=e.content.findIndex(n.from),s;return r==n.from&&!(s=e.child(o)).isText&&r+s.nodeSize==n.to}eq(e){return this==e||e instanceof tp&&Hs(this.attrs,e.attrs)&&Hs(this.spec,e.spec)}destroy(){}}class Fe{constructor(e,n,o){this.from=e,this.to=n,this.type=o}copy(e,n){return new Fe(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,o){return this.type.map(e,this,n,o)}static widget(e,n,o){return new Fe(e,e,new zl(n,o))}static inline(e,n,o,r){return new Fe(e,n,new Mo(o,r))}static node(e,n,o,r){return new Fe(e,n,new tp(o,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Mo}get widget(){return this.type instanceof zl}}const hi=[],xr={};class ue{constructor(e,n){this.local=e.length?e:hi,this.children=n.length?n:hi}static create(e,n){return n.length?Hl(n,e,0,xr):ct}find(e,n,o){let r=[];return this.findInner(e??0,n??1e9,r,0,o),r}findInner(e,n,o,r,s){for(let a=0;a<this.local.length;a++){let l=this.local[a];l.from<=n&&l.to>=e&&(!s||s(l.spec))&&o.push(l.copy(l.from+r,l.to+r))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let l=this.children[a]+1;this.children[a+2].findInner(e-l,n-l,o,r+l,s)}}map(e,n,o){return this==ct||e.maps.length==0?this:this.mapInner(e,n,0,0,o||xr)}mapInner(e,n,o,r,s){let a;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,o,r);c&&c.type.valid(n,c)?(a||(a=[])).push(c):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?a6(this.children,a||[],e,n,o,r,s):a?new ue(a.sort(Sr),hi):ct}add(e,n){return n.length?this==ct?ue.create(e,n):this.addInner(e,n,0):this}addInner(e,n,o){let r,s=0;e.forEach((l,c)=>{let d=c+o,u;if(u=K0(n,l,d)){for(r||(r=this.children.slice());s<r.length&&r[s]<c;)s+=3;r[s]==c?r[s+2]=r[s+2].addInner(l,u,d+1):r.splice(s,0,c,c+l.nodeSize,Hl(u,l,d+1,xr)),s+=3}});let a=W0(s?G0(n):n,-o);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||a.splice(l--,1);return new ue(a.length?this.local.concat(a).sort(Sr):this.local,r||this.children)}remove(e){return e.length==0||this==ct?this:this.removeInner(e,0)}removeInner(e,n){let o=this.children,r=this.local;for(let s=0;s<o.length;s+=3){let a,l=o[s]+n,c=o[s+1]+n;for(let u=0,f;u<e.length;u++)(f=e[u])&&f.from>l&&f.to<c&&(e[u]=null,(a||(a=[])).push(f));if(!a)continue;o==this.children&&(o=this.children.slice());let d=o[s+2].removeInner(a,l+1);d!=ct?o[s+2]=d:(o.splice(s,3),s-=3)}if(r.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let l=0;l<r.length;l++)r[l].eq(a,n)&&(r==this.local&&(r=this.local.slice()),r.splice(l--,1))}return o==this.children&&r==this.local?this:r.length||o.length?new ue(r,o):ct}forChild(e,n){if(this==ct)return this;if(n.isLeaf)return ue.empty;let o,r;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(o=this.children[l+2]);break}let s=e+1,a=s+n.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<a&&c.to>s&&c.type instanceof Mo){let d=Math.max(s,c.from)-s,u=Math.min(a,c.to)-s;d<u&&(r||(r=[])).push(c.copy(d,u))}}if(r){let l=new ue(r.sort(Sr),hi);return o?new Oo([l,o]):l}return o||ct}eq(e){if(this==e)return!0;if(!(e instanceof ue)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return np(this.localsInner(e))}localsInner(e){if(this==ct)return hi;if(e.inlineContent||!this.local.some(Mo.is))return this.local;let n=[];for(let o=0;o<this.local.length;o++)this.local[o].type instanceof Mo||n.push(this.local[o]);return n}forEachSet(e){e(this)}}ue.empty=new ue([],[]),ue.removeOverlap=np;const ct=ue.empty;class Oo{constructor(e){this.members=e}map(e,n){const o=this.members.map(r=>r.map(e,n,xr));return Oo.from(o)}forChild(e,n){if(n.isLeaf)return ue.empty;let o=[];for(let r=0;r<this.members.length;r++){let s=this.members[r].forChild(e,n);s!=ct&&(s instanceof Oo?o=o.concat(s.members):o.push(s))}return Oo.from(o)}eq(e){if(!(e instanceof Oo)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,o=!0;for(let r=0;r<this.members.length;r++){let s=this.members[r].localsInner(e);if(s.length)if(!n)n=s;else{o&&(n=n.slice(),o=!1);for(let a=0;a<s.length;a++)n.push(s[a])}}return n?np(o?n:n.sort(Sr)):hi}static from(e){switch(e.length){case 0:return ct;case 1:return e[0];default:return new Oo(e.every(n=>n instanceof ue)?e:e.reduce((n,o)=>n.concat(o instanceof ue?o:o.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function a6(t,e,n,o,r,s,a){let l=t.slice();for(let d=0,u=s;d<n.maps.length;d++){let f=0;n.maps[d].forEach((p,h,m,g)=>{let y=g-m-(h-p);for(let b=0;b<l.length;b+=3){let C=l[b+1];if(C<0||p>C+u-f)continue;let k=l[b]+u-f;h>=k?l[b+1]=p<=k?-2:-1:p>=u&&y&&(l[b]+=y,l[b+1]+=y)}f+=y}),u=n.maps[d].map(u,-1)}let c=!1;for(let d=0;d<l.length;d+=3)if(l[d+1]<0){if(l[d+1]==-2){c=!0,l[d+1]=-1;continue}let u=n.map(t[d]+s),f=u-r;if(f<0||f>=o.content.size){c=!0;continue}let p=n.map(t[d+1]+s,-1),h=p-r,{index:m,offset:g}=o.content.findIndex(f),y=o.maybeChild(m);if(y&&g==f&&g+y.nodeSize==h){let b=l[d+2].mapInner(n,y,u+1,t[d]+s+1,a);b!=ct?(l[d]=f,l[d+1]=h,l[d+2]=b):(l[d+1]=-2,c=!0)}else c=!0}if(c){let d=l6(l,t,e,n,r,s,a),u=Hl(d,o,0,a);e=u.local;for(let f=0;f<l.length;f+=3)l[f+1]<0&&(l.splice(f,3),f-=3);for(let f=0,p=0;f<u.children.length;f+=3){let h=u.children[f];for(;p<l.length&&l[p]<h;)p+=3;l.splice(p,0,u.children[f],u.children[f+1],u.children[f+2])}}return new ue(e.sort(Sr),l)}function W0(t,e){if(!e||!t.length)return t;let n=[];for(let o=0;o<t.length;o++){let r=t[o];n.push(new Fe(r.from+e,r.to+e,r.type))}return n}function l6(t,e,n,o,r,s,a){function l(c,d){for(let u=0;u<c.local.length;u++){let f=c.local[u].map(o,r,d);f?n.push(f):a.onRemove&&a.onRemove(c.local[u].spec)}for(let u=0;u<c.children.length;u+=3)l(c.children[u+2],c.children[u]+d+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&l(t[c+2],e[c]+s+1);return n}function K0(t,e,n){if(e.isLeaf)return null;let o=n+e.nodeSize,r=null;for(let s=0,a;s<t.length;s++)(a=t[s])&&a.from>n&&a.to<o&&((r||(r=[])).push(a),t[s]=null);return r}function G0(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Hl(t,e,n,o){let r=[],s=!1;e.forEach((l,c)=>{let d=K0(t,l,c+n);if(d){s=!0;let u=Hl(d,l,n+c+1,o);u!=ct&&r.push(c,c+l.nodeSize,u)}});let a=W0(s?G0(t):t,-n).sort(Sr);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||(o.onRemove&&o.onRemove(a[l].spec),a.splice(l--,1));return a.length||r.length?new ue(a,r):ct}function Sr(t,e){return t.from-e.from||t.to-e.to}function np(t){let e=t;for(let n=0;n<e.length-1;n++){let o=e[n];if(o.from!=o.to)for(let r=n+1;r<e.length;r++){let s=e[r];if(s.from==o.from){s.to!=o.to&&(e==t&&(e=t.slice()),e[r]=s.copy(s.from,o.to),q0(e,r+1,s.copy(o.to,s.to)));continue}else{s.from<o.to&&(e==t&&(e=t.slice()),e[n]=o.copy(o.from,s.from),q0(e,r,o.copy(s.from,o.to)));break}}}return e}function q0(t,e,n){for(;e<t.length&&Sr(n,t[e])>0;)e++;t.splice(e,0,n)}function op(t){let e=[];return t.someProp("decorations",n=>{let o=n(t.state);o&&o!=ct&&e.push(o)}),t.cursorWrapper&&e.push(ue.create(t.state.doc,[t.cursorWrapper.deco])),Oo.from(e)}const c6={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},d6=xt&&So<=11;class u6{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class f6{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new u6,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(o=>{for(let r=0;r<o.length;r++)this.queue.push(o[r]);xt&&So<=11&&o.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),d6&&(this.onCharData=o=>{this.queue.push({target:o.target,type:"characterData",oldValue:o.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,c6)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(x0(this.view)){if(this.suppressingSelectionUpdates)return jn(this.view);if(xt&&So<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&yr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,o;for(let s=e.focusNode;s;s=ci(s))n.add(s);for(let s=e.anchorNode;s;s=ci(s))if(n.has(s)){o=s;break}let r=o&&this.view.docView.nearestDesc(o);if(r&&r.ignoreMutation({type:"selection",target:o.nodeType==3?o.parentNode:o}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let o=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(o)&&x0(e)&&!this.ignoreSelectionChange(o),s=-1,a=-1,l=!1,c=[];if(e.editable)for(let u=0;u<n.length;u++){let f=this.registerMutation(n[u],c);f&&(s=s<0?f.from:Math.min(f.from,s),a=a<0?f.to:Math.max(f.to,a),f.typeOver&&(l=!0))}if(on&&c.length){let u=c.filter(f=>f.nodeName=="BR");if(u.length==2){let[f,p]=u;f.parentNode&&f.parentNode.parentNode==p.parentNode?p.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let p of u){let h=p.parentNode;h&&h.nodeName=="LI"&&(!f||m6(e,f)!=h)&&p.remove()}}}let d=null;s<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Pl(o)&&(d=Uf(e))&&d.eq(Z.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,jn(e),this.currentSelection.set(o),e.scrollToSelection()):(s>-1||r)&&(s>-1&&(e.docView.markDirty(s,a),p6(e)),this.handleDOMChange(s,a,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(o)||jn(e),this.currentSelection.set(o))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let o=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(o==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!o||o.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let f=e.addedNodes[u];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(o.contentDOM&&o.contentDOM!=o.dom&&!o.contentDOM.contains(e.target))return{from:o.posBefore,to:o.posAfter};let r=e.previousSibling,s=e.nextSibling;if(xt&&So<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:f,nextSibling:p}=e.addedNodes[u];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(r=f),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(s=p)}let a=r&&r.parentNode==e.target?tt(r)+1:0,l=o.localPosFromDOM(e.target,a,-1),c=s&&s.parentNode==e.target?tt(s):e.target.childNodes.length,d=o.localPosFromDOM(e.target,c,1);return{from:l,to:d}}else return e.type=="attributes"?{from:o.posAtStart-o.border,to:o.posAtEnd+o.border}:(this.lastChangedTextNode=e.target,{from:o.posAtStart,to:o.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Y0=new WeakMap,J0=!1;function p6(t){if(!Y0.has(t)&&(Y0.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=on,J0)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),J0=!0}}function X0(t,e){let n=e.startContainer,o=e.startOffset,r=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return yr(a.node,a.offset,r,s)&&([n,o,r,s]=[r,s,n,o]),{anchorNode:n,anchorOffset:o,focusNode:r,focusOffset:s}}function h6(t,e){if(e.getComposedRanges){let r=e.getComposedRanges(t.root)[0];if(r)return X0(t,r)}let n;function o(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",o,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",o,!0),n?X0(t,n):null}function m6(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let o=t.docView.nearestDesc(n,!0);if(o&&o.node.isBlock)return n}return null}function g6(t,e,n){let{node:o,fromOffset:r,toOffset:s,from:a,to:l}=t.docView.parseRange(e,n),c=t.domSelectionRange(),d,u=c.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(d=[{node:u,offset:c.anchorOffset}],Pl(c)||d.push({node:c.focusNode,offset:c.focusOffset})),lt&&t.input.lastKeyCode===8)for(let y=s;y>r;y--){let b=o.childNodes[y-1],C=b.pmViewDesc;if(b.nodeName=="BR"&&!C){s=y;break}if(!C||C.size)break}let f=t.state.doc,p=t.someProp("domParser")||Ts.fromSchema(t.state.schema),h=f.resolve(a),m=null,g=p.parse(o,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:r,to:s,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:y6,context:h});if(d&&d[0].pos!=null){let y=d[0].pos,b=d[1]&&d[1].pos;b==null&&(b=y),m={anchor:y+a,head:b+a}}return{doc:g,sel:m,from:a,to:l}}function y6(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(ht&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||ht&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const b6=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function w6(t,e,n,o,r){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let _=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,A=Uf(t,_);if(A&&!t.state.selection.eq(A)){if(lt&&Hn&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",v=>v(t,br(13,"Enter"))))return;let M=t.state.tr.setSelection(A);_=="pointer"?M.setMeta("pointer",!0):_=="key"&&M.scrollIntoView(),s&&M.setMeta("composition",s),t.dispatch(M)}return}let a=t.state.doc.resolve(e),l=a.sharedDepth(n);e=a.before(l+1),n=t.state.doc.resolve(n).after(l+1);let c=t.state.selection,d=g6(t,e,n),u=t.state.doc,f=u.slice(d.from,d.to),p,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,h="end"):(p=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let m=x6(f.content,d.doc.content,d.from,p,h);if(m&&t.input.domChangeCount++,(di&&t.input.lastIOSEnter>Date.now()-225||Hn)&&r.some(_=>_.nodeType==1&&!b6.test(_.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",_=>_(t,br(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(o&&c instanceof J&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))m={start:c.from,endA:c.to,endB:c.to};else{if(d.sel){let _=Z0(t,t.state.doc,d.sel);if(_&&!_.eq(t.state.selection)){let A=t.state.tr.setSelection(_);s&&A.setMeta("composition",s),t.dispatch(A)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof J&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),xt&&So<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>d.from&&d.doc.textBetween(m.start-d.from-1,m.start-d.from+1)==" "&&(m.start--,m.endA--,m.endB--);let g=d.doc.resolveNoCache(m.start-d.from),y=d.doc.resolveNoCache(m.endB-d.from),b=u.resolve(m.start),C=g.sameParent(y)&&g.parent.inlineContent&&b.end()>=m.endA,k;if((di&&t.input.lastIOSEnter>Date.now()-225&&(!C||r.some(_=>_.nodeName=="DIV"||_.nodeName=="P"))||!C&&g.pos<d.doc.content.size&&(!g.sameParent(y)||!g.parent.inlineContent)&&(k=Z.findFrom(d.doc.resolve(g.pos+1),1,!0))&&k.head>g.pos)&&t.someProp("handleKeyDown",_=>_(t,br(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&k6(u,m.start,m.endA,g,y)&&t.someProp("handleKeyDown",_=>_(t,br(8,"Backspace")))){Hn&&lt&&t.domObserver.suppressSelectionUpdates();return}lt&&m.endB==m.start&&(t.input.lastChromeDelete=Date.now()),Hn&&!C&&g.start()!=y.start()&&y.parentOffset==0&&g.depth==y.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==m.endA&&(m.endB-=2,y=d.doc.resolveNoCache(m.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(_){return _(t,br(13,"Enter"))})},20));let w=m.start,x=m.endA,S,E,T;if(C){if(g.pos==y.pos)xt&&So<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>jn(t),20)),S=t.state.tr.delete(w,x),E=u.resolve(m.start).marksAcross(u.resolve(m.endA));else if(m.endA==m.endB&&(T=C6(g.parent.content.cut(g.parentOffset,y.parentOffset),b.parent.content.cut(b.parentOffset,m.endA-b.start()))))S=t.state.tr,T.type=="add"?S.addMark(w,x,T.mark):S.removeMark(w,x,T.mark);else if(g.parent.child(g.index()).isText&&g.index()==y.index()-(y.textOffset?0:1)){let _=g.parent.textBetween(g.parentOffset,y.parentOffset);if(t.someProp("handleTextInput",A=>A(t,w,x,_)))return;S=t.state.tr.insertText(_,w,x)}}if(S||(S=t.state.tr.replace(w,x,d.doc.slice(m.start-d.from,m.endB-d.from))),d.sel){let _=Z0(t,S.doc,d.sel);_&&!(lt&&t.composing&&_.empty&&(m.start!=m.endB||t.input.lastChromeDelete<Date.now()-100)&&(_.head==w||_.head==S.mapping.map(x)-1)||xt&&_.empty&&_.head==w)&&S.setSelection(_)}E&&S.ensureMarks(E),s&&S.setMeta("composition",s),t.dispatch(S.scrollIntoView())}function Z0(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Wf(t,e.resolve(n.anchor),e.resolve(n.head))}function C6(t,e){let n=t.firstChild.marks,o=e.firstChild.marks,r=n,s=o,a,l,c;for(let u=0;u<o.length;u++)r=o[u].removeFromSet(r);for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);if(r.length==1&&s.length==0)l=r[0],a="add",c=u=>u.mark(l.addToSet(u.marks));else if(r.length==0&&s.length==1)l=s[0],a="remove",c=u=>u.mark(l.removeFromSet(u.marks));else return null;let d=[];for(let u=0;u<e.childCount;u++)d.push(c(e.child(u)));if(P.from(d).eq(t))return{mark:l,type:a}}function k6(t,e,n,o,r){if(n-e<=r.pos-o.pos||rp(o,!0,!1)<r.pos)return!1;let s=t.resolve(e);if(!o.parent.isTextblock){let l=s.nodeAfter;return l!=null&&n==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=t.resolve(rp(s,!0,!0));return!a.parent.isTextblock||a.pos>n||rp(a,!0,!1)<n?!1:o.parent.content.cut(o.parentOffset).eq(a.parent.content)}function rp(t,e,n){let o=t.depth,r=e?t.end():t.pos;for(;o>0&&(e||t.indexAfter(o)==t.node(o).childCount);)o--,r++,e=!1;if(n){let s=t.node(o).maybeChild(t.indexAfter(o));for(;s&&!s.isLeaf;)s=s.firstChild,r++}return r}function x6(t,e,n,o,r){let s=t.findDiffStart(e,n);if(s==null)return null;let{a,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(r=="end"){let c=Math.max(0,s-Math.min(a,l));o-=a+c-s}if(a<s&&t.size<e.size){let c=o<=s&&o>=a?s-o:0;s-=c,s&&s<e.size&&Q0(e.textBetween(s-1,s+1))&&(s+=c?1:-1),l=s+(l-a),a=s}else if(l<s){let c=o<=s&&o>=l?s-o:0;s-=c,s&&s<t.size&&Q0(t.textBetween(s-1,s+1))&&(s+=c?1:-1),a=s+(a-l),l=s}return{start:s,endA:a,endB:l}}function Q0(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class S6{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new zA,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(rb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=nb(this),tb(this),this.nodeViews=ob(this),this.docView=d0(this.state.doc,eb(this),op(this),this.dom,this),this.domObserver=new f6(this,(o,r,s,a)=>w6(this,o,r,s,a)),this.domObserver.start(),HA(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Xf(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(rb),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let o in this._props)n[o]=this._props[o];n.state=this.state;for(let o in e)n[o]=e[o];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var o;let r=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&(z0(this),a=!0),this.state=e;let l=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=ob(this);_6(h,this.nodeViews)&&(this.nodeViews=h,s=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&Xf(this),this.editable=nb(this),tb(this);let c=op(this),d=eb(this),u=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",f=s||!this.docView.matchesNode(e.doc,d,c);(f||!e.selection.eq(r.selection))&&(a=!0);let p=u=="preserve"&&a&&this.dom.style.overflowAnchor==null&&nA(this);if(a){this.domObserver.stop();let h=f&&(xt||lt)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&E6(r.selection,e.selection);if(f){let m=lt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=t6(this)),(s||!this.docView.update(e.doc,d,c,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=d0(e.doc,d,c,this.dom,this)),m&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&AA(this))?jn(this,h):(C0(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((o=this.dragging)===null||o===void 0)&&o.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():p&&oA(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof X){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Xy(this,n.getBoundingClientRect(),e)}else Xy(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let o=this.directPlugins[n];o.spec.view&&this.pluginViews.push(o.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let o=this.state.plugins[n];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let o=this.pluginViews[n];o.update&&o.update(this,e)}}updateDraggedNode(e,n){let o=e.node,r=-1;if(this.state.doc.nodeAt(o.from)==o.node)r=o.from;else{let s=o.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==o.node&&(r=s)}this.dragging=new U0(e.slice,e.move,r<0?void 0:X.create(this.state.doc,r))}someProp(e,n){let o=this._props&&this._props[e],r;if(o!=null&&(r=n?n(o):o))return r;for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a].props[e];if(l!=null&&(r=n?n(l):l))return r}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let l=s[a].props[e];if(l!=null&&(r=n?n(l):l))return r}}hasFocus(){if(xt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&rA(this.dom),jn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return cA(this,e)}coordsAtPos(e,n=1){return o0(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,o=-1){let r=this.docView.posFromDOM(e,n,o);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,n){return hA(this,n||this.state,e)}pasteHTML(e,n){return zs(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return zs(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return qf(this,e)}destroy(){this.docView&&(UA(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],op(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,W_())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return WA(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?ht&&this.root.nodeType===11&&J_(this.dom.ownerDocument)==this.dom&&h6(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function eb(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let o in n)o=="class"?e.class+=" "+n[o]:o=="style"?e.style=(e.style?e.style+";":"")+n[o]:!e[o]&&o!="contenteditable"&&o!="nodeName"&&(e[o]=String(n[o]))}),e.translate||(e.translate="no"),[Fe.node(0,t.state.doc.content.size,e)]}function tb(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Fe.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function nb(t){return!t.someProp("editable",e=>e(t.state)===!1)}function E6(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function ob(t){let e=Object.create(null);function n(o){for(let r in o)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=o[r])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function _6(t,e){let n=0,o=0;for(let r in t){if(t[r]!=e[r])return!0;n++}for(let r in e)o++;return n!=o}function rb(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}for(var vo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ul={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},A6=typeof navigator<"u"&&/Mac/.test(navigator.platform),T6=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),nt=0;nt<10;nt++)vo[48+nt]=vo[96+nt]=String(nt);for(var nt=1;nt<=24;nt++)vo[nt+111]="F"+nt;for(var nt=65;nt<=90;nt++)vo[nt]=String.fromCharCode(nt+32),Ul[nt]=String.fromCharCode(nt);for(var ip in vo)Ul.hasOwnProperty(ip)||(Ul[ip]=vo[ip]);function M6(t){var e=A6&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||T6&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Ul:vo)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const O6=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function v6(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let o,r,s,a;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))o=!0;else if(/^(c|ctrl|control)$/i.test(c))r=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))O6?a=!0:r=!0;else throw new Error("Unrecognized modifier name: "+c)}return o&&(n="Alt-"+n),r&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function N6(t){let e=Object.create(null);for(let n in t)e[v6(n)]=t[n];return e}function sp(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function I6(t){return new he({props:{handleKeyDown:ap(t)}})}function ap(t){let e=N6(t);return function(n,o){let r=M6(o),s,a=e[sp(r,o)];if(a&&a(n.state,n.dispatch,n))return!0;if(r.length==1&&r!=" "){if(o.shiftKey){let l=e[sp(r,o,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((o.shiftKey||o.altKey||o.metaKey||r.charCodeAt(0)>127)&&(s=vo[o.keyCode])&&s!=r){let l=e[sp(s,o)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const Us=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function ib(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const sb=(t,e,n)=>{let o=ib(t,n);if(!o)return!1;let r=lp(o);if(!r){let a=o.blockRange(),l=a&&ri(a);return l==null?!1:(e&&e(t.tr.lift(a,l).scrollIntoView()),!0)}let s=r.nodeBefore;if(mb(t,r,e,-1))return!0;if(o.parent.content.size==0&&(mi(s,"end")||X.isSelectable(s)))for(let a=o.depth;;a--){let l=Bl(t.doc,o.before(a),o.after(a),U.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(mi(s,"end")?Z.findFrom(c.doc.resolve(c.mapping.map(r.pos,-1)),-1):X.create(c.doc,r.pos-s.nodeSize)),e(c.scrollIntoView())}return!0}if(a==1||o.node(a-1).childCount>1)break}return s.isAtom&&r.depth==o.depth-1?(e&&e(t.tr.delete(r.pos-s.nodeSize,r.pos).scrollIntoView()),!0):!1},B6=(t,e,n)=>{let o=ib(t,n);if(!o)return!1;let r=lp(o);return r?ab(t,r,e):!1},R6=(t,e,n)=>{let o=cb(t,n);if(!o)return!1;let r=cp(o);return r?ab(t,r,e):!1};function ab(t,e,n){let o=e.nodeBefore,r=o,s=e.pos-1;for(;!r.isTextblock;s--){if(r.type.spec.isolating)return!1;let u=r.lastChild;if(!u)return!1;r=u}let a=e.nodeAfter,l=a,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let u=l.firstChild;if(!u)return!1;l=u}let d=Bl(t.doc,s,c,U.empty);if(!d||d.from!=s||d instanceof Ge&&d.slice.size>=c-s)return!1;if(n){let u=t.tr.step(d);u.setSelection(J.create(u.doc,s)),n(u.scrollIntoView())}return!0}function mi(t,e,n=!1){for(let o=t;o;o=e=="start"?o.firstChild:o.lastChild){if(o.isTextblock)return!0;if(n&&o.childCount!=1)return!1}return!1}const lb=(t,e,n)=>{let{$head:o,empty:r}=t.selection,s=o;if(!r)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):o.parentOffset>0)return!1;s=lp(o)}let a=s&&s.nodeBefore;return!a||!X.isSelectable(a)?!1:(e&&e(t.tr.setSelection(X.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function lp(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function cb(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const db=(t,e,n)=>{let o=cb(t,n);if(!o)return!1;let r=cp(o);if(!r)return!1;let s=r.nodeAfter;if(mb(t,r,e,1))return!0;if(o.parent.content.size==0&&(mi(s,"start")||X.isSelectable(s))){let a=Bl(t.doc,o.before(),o.after(),U.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(mi(s,"start")?Z.findFrom(l.doc.resolve(l.mapping.map(r.pos)),1):X.create(l.doc,l.mapping.map(r.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&r.depth==o.depth-1?(e&&e(t.tr.delete(r.pos,r.pos+s.nodeSize).scrollIntoView()),!0):!1},ub=(t,e,n)=>{let{$head:o,empty:r}=t.selection,s=o;if(!r)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size)return!1;s=cp(o)}let a=s&&s.nodeAfter;return!a||!X.isSelectable(a)?!1:(e&&e(t.tr.setSelection(X.create(t.doc,s.pos)).scrollIntoView()),!0)};function cp(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const P6=(t,e)=>{let n=t.selection,o=n instanceof X,r;if(o){if(n.node.isTextblock||!ko(t.doc,n.from))return!1;r=n.from}else if(r=Il(t.doc,n.from,-1),r==null)return!1;if(e){let s=t.tr.join(r);o&&s.setSelection(X.create(s.doc,r-t.doc.resolve(r).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},D6=(t,e)=>{let n=t.selection,o;if(n instanceof X){if(n.node.isTextblock||!ko(t.doc,n.to))return!1;o=n.to}else if(o=Il(t.doc,n.to,1),o==null)return!1;return e&&e(t.tr.join(o).scrollIntoView()),!0},$6=(t,e)=>{let{$from:n,$to:o}=t.selection,r=n.blockRange(o),s=r&&ri(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)},fb=(t,e)=>{let{$head:n,$anchor:o}=t.selection;return!n.parent.type.spec.code||!n.sameParent(o)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function dp(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const L6=(t,e)=>{let{$head:n,$anchor:o}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(o))return!1;let r=n.node(-1),s=n.indexAfter(-1),a=dp(r.contentMatchAt(s));if(!a||!r.canReplaceWith(s,s,a))return!1;if(e){let l=n.after(),c=t.tr.replaceWith(l,l,a.createAndFill());c.setSelection(Z.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},pb=(t,e)=>{let n=t.selection,{$from:o,$to:r}=n;if(n instanceof pt||o.parent.inlineContent||r.parent.inlineContent)return!1;let s=dp(r.parent.contentMatchAt(r.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!o.parentOffset&&r.index()<r.parent.childCount?o:r).pos,l=t.tr.insert(a,s.createAndFill());l.setSelection(J.create(l.doc,a+1)),e(l.scrollIntoView())}return!0},hb=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Fn(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let o=n.blockRange(),r=o&&ri(o);return r==null?!1:(e&&e(t.tr.lift(o,r).scrollIntoView()),!0)};function V6(t){return(e,n)=>{let{$from:o,$to:r}=e.selection;if(e.selection instanceof X&&e.selection.node.isBlock)return!o.parentOffset||!Fn(e.doc,o.pos)?!1:(n&&n(e.tr.split(o.pos).scrollIntoView()),!0);if(!o.depth)return!1;let s=[],a,l,c=!1,d=!1;for(let h=o.depth;;h--)if(o.node(h).isBlock){c=o.end(h)==o.pos+(o.depth-h),d=o.start(h)==o.pos-(o.depth-h),l=dp(o.node(h-1).contentMatchAt(o.indexAfter(h-1))),s.unshift(c&&l?{type:l}:null),a=h;break}else{if(h==1)return!1;s.unshift(null)}let u=e.tr;(e.selection instanceof J||e.selection instanceof pt)&&u.deleteSelection();let f=u.mapping.map(o.pos),p=Fn(u.doc,f,s.length,s);if(p||(s[0]=l?{type:l}:null,p=Fn(u.doc,f,s.length,s)),u.split(f,s.length,s),!c&&d&&o.node(a).type!=l){let h=u.mapping.map(o.before(a)),m=u.doc.resolve(h);l&&o.node(a-1).canReplaceWith(m.index(),m.index()+1,l)&&u.setNodeMarkup(u.mapping.map(o.before(a)),l)}return n&&n(u.scrollIntoView()),!0}}const F6=V6(),z6=(t,e)=>{let{$from:n,to:o}=t.selection,r,s=n.sharedDepth(o);return s==0?!1:(r=n.before(s),e&&e(t.tr.setSelection(X.create(t.doc,r))),!0)};function H6(t,e,n){let o=e.nodeBefore,r=e.nodeAfter,s=e.index();return!o||!r||!o.type.compatibleContent(r.type)?!1:!o.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-o.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(r.isTextblock||ko(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function mb(t,e,n,o){let r=e.nodeBefore,s=e.nodeAfter,a,l,c=r.type.spec.isolating||s.type.spec.isolating;if(!c&&H6(t,e,n))return!0;let d=!c&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(a=(l=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&l.matchType(a[0]||s.type).validEnd){if(n){let h=e.pos+s.nodeSize,m=P.empty;for(let b=a.length-1;b>=0;b--)m=P.from(a[b].create(null,m));m=P.from(r.copy(m));let g=t.tr.step(new qe(e.pos-1,h,e.pos,h,new U(m,1,0),a.length,!0)),y=g.doc.resolve(h+2*a.length);y.nodeAfter&&y.nodeAfter.type==r.type&&ko(g.doc,y.pos)&&g.join(y.pos),n(g.scrollIntoView())}return!0}let u=s.type.spec.isolating||o>0&&c?null:Z.findFrom(e,1),f=u&&u.$from.blockRange(u.$to),p=f&&ri(f);if(p!=null&&p>=e.depth)return n&&n(t.tr.lift(f,p).scrollIntoView()),!0;if(d&&mi(s,"start",!0)&&mi(r,"end")){let h=r,m=[];for(;m.push(h),!h.isTextblock;)h=h.lastChild;let g=s,y=1;for(;!g.isTextblock;g=g.firstChild)y++;if(h.canReplace(h.childCount,h.childCount,g.content)){if(n){let b=P.empty;for(let k=m.length-1;k>=0;k--)b=P.from(m[k].copy(b));let C=t.tr.step(new qe(e.pos-m.length,e.pos+s.nodeSize,e.pos+y,e.pos+s.nodeSize-y,new U(b,m.length,0),0,!0));n(C.scrollIntoView())}return!0}}return!1}function gb(t){return function(e,n){let o=e.selection,r=t<0?o.$from:o.$to,s=r.depth;for(;r.node(s).isInline;){if(!s)return!1;s--}return r.node(s).isTextblock?(n&&n(e.tr.setSelection(J.create(e.doc,t<0?r.start(s):r.end(s)))),!0):!1}}const U6=gb(-1),j6=gb(1);function W6(t,e=null){return function(n,o){let{$from:r,$to:s}=n.selection,a=r.blockRange(s),l=a&&Af(a,t,e);return l?(o&&o(n.tr.wrap(a,l).scrollIntoView()),!0):!1}}function yb(t,e=null){return function(n,o){let r=!1;for(let s=0;s<n.selection.ranges.length&&!r;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];n.doc.nodesBetween(a,l,(c,d)=>{if(r)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)r=!0;else{let u=n.doc.resolve(d),f=u.index();r=u.parent.canReplaceWith(f,f+1,t)}})}if(!r)return!1;if(o){let s=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[a];s.setBlockType(l,c,t,e)}o(s.scrollIntoView())}return!0}}function up(...t){return function(e,n,o){for(let r=0;r<t.length;r++)if(t[r](e,n,o))return!0;return!1}}up(Us,sb,lb),up(Us,db,ub),up(fb,pb,hb,F6),typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function K6(t,e=null){return function(n,o){let{$from:r,$to:s}=n.selection,a=r.blockRange(s);if(!a)return!1;let l=o?n.tr:null;return G6(l,a,t,e)?(o&&o(l.scrollIntoView()),!0):!1}}function G6(t,e,n,o=null){let r=!1,s=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=a.resolve(e.start-2);s=new As(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new As(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),r=!0}let l=Af(s,n,o,e);return l?(t&&q6(t,e,l,r,n),!0):!1}function q6(t,e,n,o,r){let s=P.empty;for(let u=n.length-1;u>=0;u--)s=P.from(n[u].type.create(n[u].attrs,s));t.step(new qe(e.start-(o?2:0),e.end,e.start,e.end,new U(s,0,0),n.length,!0));let a=0;for(let u=0;u<n.length;u++)n[u].type==r&&(a=u+1);let l=n.length-a,c=e.start+n.length-(o?2:0),d=e.parent;for(let u=e.startIndex,f=e.endIndex,p=!0;u<f;u++,p=!1)!p&&Fn(t.doc,c,l)&&(t.split(c,l),c+=2*l),c+=d.child(u).nodeSize;return t}function Y6(t){return function(e,n){let{$from:o,$to:r}=e.selection,s=o.blockRange(r,a=>a.childCount>0&&a.firstChild.type==t);return s?n?o.node(s.depth-1).type==t?J6(e,n,t,s):X6(e,n,s):!0:!1}}function J6(t,e,n,o){let r=t.tr,s=o.end,a=o.$to.end(o.depth);s<a&&(r.step(new qe(s-1,a,s,a,new U(P.from(n.create(null,o.parent.copy())),1,0),1,!0)),o=new As(r.doc.resolve(o.$from.pos),r.doc.resolve(a),o.depth));const l=ri(o);if(l==null)return!1;r.lift(o,l);let c=r.doc.resolve(r.mapping.map(s,-1)-1);return ko(r.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&r.join(c.pos),e(r.scrollIntoView()),!0}function X6(t,e,n){let o=t.tr,r=n.parent;for(let h=n.end,m=n.endIndex-1,g=n.startIndex;m>g;m--)h-=r.child(m).nodeSize,o.delete(h-1,h+1);let s=o.doc.resolve(n.start),a=s.nodeAfter;if(o.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,c=n.endIndex==r.childCount,d=s.node(-1),u=s.index(-1);if(!d.canReplace(u+(l?0:1),u+1,a.content.append(c?P.empty:P.from(r))))return!1;let f=s.pos,p=f+a.nodeSize;return o.step(new qe(f-(l?1:0),p+(c?1:0),f+1,p-1,new U((l?P.empty:P.from(r.copy(P.empty))).append(c?P.empty:P.from(r.copy(P.empty))),l?0:1,c?0:1),l?0:1)),e(o.scrollIntoView()),!0}function Z6(t){return function(e,n){let{$from:o,$to:r}=e.selection,s=o.blockRange(r,d=>d.childCount>0&&d.firstChild.type==t);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let l=s.parent,c=l.child(a-1);if(c.type!=t)return!1;if(n){let d=c.lastChild&&c.lastChild.type==l.type,u=P.from(d?t.create():null),f=new U(P.from(t.create(null,P.from(l.type.create(null,u)))),d?3:1,0),p=s.start,h=s.end;n(e.tr.step(new qe(p-(d?3:1),h,p,h,f,1,!0)).scrollIntoView())}return!0}}function jl(t){const{state:e,transaction:n}=t;let{selection:o}=n,{doc:r}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return o},get doc(){return r},get tr(){return o=n.selection,r=n.doc,s=n.storedMarks,n}}}class Wl{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:o}=this,{view:r}=n,{tr:s}=o,a=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...u)=>{const f=c(...u)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:o,editor:r,state:s}=this,{view:a}=r,l=[],c=!!e,d=e||s.tr,u=()=>(!c&&n&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(d),l.every(p=>p===!0)),f={...Object.fromEntries(Object.entries(o).map(([p,h])=>[p,(...g)=>{const y=this.buildProps(d,n),b=h(...g)(y);return l.push(b),f}])),run:u};return f}createCan(e){const{rawCommands:n,state:o}=this,r=!1,s=e||o.tr,a=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(n).map(([c,d])=>[c,(...u)=>d(...u)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(e,n=!0){const{rawCommands:o,editor:r,state:s}=this,{view:a}=r,l={tr:e,editor:r,view:a,state:jl({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(o).map(([c,d])=>[c,(...u)=>d(...u)(l)]))}};return l}}class Q6{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const o=this.callbacks[e];return o&&o.forEach(r=>r.apply(this,n)),this}off(e,n){const o=this.callbacks[e];return o&&(n?this.callbacks[e]=o.filter(r=>r!==n):delete this.callbacks[e]),this}once(e,n){const o=(...r)=>{this.off(e,o),n.apply(this,r)};return this.on(e,o)}removeAllListeners(){this.callbacks={}}}function G(t,e,n){return t.config[e]===void 0&&t.parent?G(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?G(t.parent,e,n):null}):t.config[e]}function Kl(t){const e=t.filter(r=>r.type==="extension"),n=t.filter(r=>r.type==="node"),o=t.filter(r=>r.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:o}}function bb(t){const e=[],{nodeExtensions:n,markExtensions:o}=Kl(t),r=[...n,...o],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage,extensions:r},c=G(a,"addGlobalAttributes",l);if(!c)return;c().forEach(u=>{u.types.forEach(f=>{Object.entries(u.attributes).forEach(([p,h])=>{e.push({type:f,name:p,attribute:{...s,...h}})})})})}),r.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage},c=G(a,"addAttributes",l);if(!c)return;const d=c();Object.entries(d).forEach(([u,f])=>{const p={...s,...f};typeof(p==null?void 0:p.default)=="function"&&(p.default=p.default()),p!=null&&p.isRequired&&(p==null?void 0:p.default)===void 0&&delete p.default,e.push({type:a.name,name:u,attribute:p})})}),e}function Ye(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function ge(...t){return t.filter(e=>!!e).reduce((e,n)=>{const o={...e};return Object.entries(n).forEach(([r,s])=>{if(!o[r]){o[r]=s;return}if(r==="class"){const l=s?String(s).split(" "):[],c=o[r]?o[r].split(" "):[],d=l.filter(u=>!c.includes(u));o[r]=[...c,...d].join(" ")}else if(r==="style"){const l=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],c=o[r]?o[r].split(";").map(u=>u.trim()).filter(Boolean):[],d=new Map;c.forEach(u=>{const[f,p]=u.split(":").map(h=>h.trim());d.set(f,p)}),l.forEach(u=>{const[f,p]=u.split(":").map(h=>h.trim());d.set(f,p)}),o[r]=Array.from(d.entries()).map(([u,f])=>`${u}: ${f}`).join("; ")}else o[r]=s}),o},{})}function fp(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,o)=>ge(n,o),{})}function wb(t){return typeof t=="function"}function se(t,e=void 0,...n){return wb(t)?e?t.bind(e)(...n):t(...n):t}function eT(t={}){return Object.keys(t).length===0&&t.constructor===Object}function tT(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Cb(t,e){return"style"in t?t:{...t,getAttrs:n=>{const o=t.getAttrs?t.getAttrs(n):t.attrs;if(o===!1)return!1;const r=e.reduce((s,a)=>{const l=a.attribute.parseHTML?a.attribute.parseHTML(n):tT(n.getAttribute(a.name));return l==null?s:{...s,[a.name]:l}},{});return{...o,...r}}}}function kb(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&eT(n)?!1:n!=null))}function nT(t,e){var n;const o=bb(t),{nodeExtensions:r,markExtensions:s}=Kl(t),a=(n=r.find(d=>G(d,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(r.map(d=>{const u=o.filter(b=>b.type===d.name),f={name:d.name,options:d.options,storage:d.storage,editor:e},p=t.reduce((b,C)=>{const k=G(C,"extendNodeSchema",f);return{...b,...k?k(d):{}}},{}),h=kb({...p,content:se(G(d,"content",f)),marks:se(G(d,"marks",f)),group:se(G(d,"group",f)),inline:se(G(d,"inline",f)),atom:se(G(d,"atom",f)),selectable:se(G(d,"selectable",f)),draggable:se(G(d,"draggable",f)),code:se(G(d,"code",f)),whitespace:se(G(d,"whitespace",f)),linebreakReplacement:se(G(d,"linebreakReplacement",f)),defining:se(G(d,"defining",f)),isolating:se(G(d,"isolating",f)),attrs:Object.fromEntries(u.map(b=>{var C;return[b.name,{default:(C=b==null?void 0:b.attribute)===null||C===void 0?void 0:C.default}]}))}),m=se(G(d,"parseHTML",f));m&&(h.parseDOM=m.map(b=>Cb(b,u)));const g=G(d,"renderHTML",f);g&&(h.toDOM=b=>g({node:b,HTMLAttributes:fp(b,u)}));const y=G(d,"renderText",f);return y&&(h.toText=y),[d.name,h]})),c=Object.fromEntries(s.map(d=>{const u=o.filter(y=>y.type===d.name),f={name:d.name,options:d.options,storage:d.storage,editor:e},p=t.reduce((y,b)=>{const C=G(b,"extendMarkSchema",f);return{...y,...C?C(d):{}}},{}),h=kb({...p,inclusive:se(G(d,"inclusive",f)),excludes:se(G(d,"excludes",f)),group:se(G(d,"group",f)),spanning:se(G(d,"spanning",f)),code:se(G(d,"code",f)),attrs:Object.fromEntries(u.map(y=>{var b;return[y.name,{default:(b=y==null?void 0:y.attribute)===null||b===void 0?void 0:b.default}]}))}),m=se(G(d,"parseHTML",f));m&&(h.parseDOM=m.map(y=>Cb(y,u)));const g=G(d,"renderHTML",f);return g&&(h.toDOM=y=>g({mark:y,HTMLAttributes:fp(y,u)})),[d.name,h]}));return new py({topNode:a,nodes:l,marks:c})}function pp(t,e){return e.nodes[t]||e.marks[t]||null}function xb(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function hp(t,e){const n=bo.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}const oT=(t,e=500)=>{let n="";const o=t.parentOffset;return t.parent.nodesBetween(Math.max(0,o-e),o,(r,s,a,l)=>{var c,d;const u=((d=(c=r.type.spec).toText)===null||d===void 0?void 0:d.call(c,{node:r,pos:s,parent:a,index:l}))||r.textContent||"%leaf%";n+=r.isAtom&&!r.isText?u:u.slice(0,Math.max(0,o-s))}),n};function mp(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Gl{constructor(e){this.find=e.find,this.handler=e.handler}}const rT=(t,e)=>{if(mp(e))return e.exec(t);const n=e(t);if(!n)return null;const o=[n.text];return o.index=n.index,o.input=t,o.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),o.push(n.replaceWith)),o};function ql(t){var e;const{editor:n,from:o,to:r,text:s,rules:a,plugin:l}=t,{view:c}=n;if(c.composing)return!1;const d=c.state.doc.resolve(o);if(d.parent.type.spec.code||!((e=d.nodeBefore||d.nodeAfter)===null||e===void 0)&&e.marks.find(p=>p.type.spec.code))return!1;let u=!1;const f=oT(d)+s;return a.forEach(p=>{if(u)return;const h=rT(f,p.find);if(!h)return;const m=c.state.tr,g=jl({state:c.state,transaction:m}),y={from:o-(h[0].length-s.length),to:r},{commands:b,chain:C,can:k}=new Wl({editor:n,state:g});p.handler({state:g,range:y,match:h,commands:b,chain:C,can:k})===null||!m.steps.length||(m.setMeta(l,{transform:m,from:o,to:r,text:s}),c.dispatch(m),u=!0)}),u}function iT(t){const{editor:e,rules:n}=t,o=new he({state:{init(){return null},apply(r,s,a){const l=r.getMeta(o);if(l)return l;const c=r.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:u}=c;typeof u=="string"?u=u:u=hp(P.from(u),a.schema);const{from:f}=c,p=f+u.length;ql({editor:e,from:f,to:p,text:u,rules:n,plugin:o})}),r.selectionSet||r.docChanged?null:s}},props:{handleTextInput(r,s,a,l){return ql({editor:e,from:s,to:a,text:l,rules:n,plugin:o})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:s}=r.state.selection;s&&ql({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:o})}),!1)},handleKeyDown(r,s){if(s.key!=="Enter")return!1;const{$cursor:a}=r.state.selection;return a?ql({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:o}):!1}},isInputRules:!0});return o}function sT(t){return Object.prototype.toString.call(t).slice(8,-1)}function Yl(t){return sT(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Jl(t,e){const n={...t};return Yl(t)&&Yl(e)&&Object.keys(e).forEach(o=>{Yl(e[o])&&Yl(t[o])?n[o]=Jl(t[o],e[o]):n[o]=e[o]}),n}class St{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=se(G(this,"addOptions",{name:this.name}))),this.storage=se(G(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new St(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Jl(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new St(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=se(G(n,"addOptions",{name:n.name})),n.storage=se(G(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:o}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const a=r.marks();if(!!!a.find(d=>(d==null?void 0:d.type.name)===n.name))return!1;const c=a.find(d=>(d==null?void 0:d.type.name)===n.name);return c&&o.removeStoredMark(c),o.insertText(" ",r.pos),e.view.dispatch(o),!0}return!1}}function aT(t){return typeof t=="number"}class lT{constructor(e){this.find=e.find,this.handler=e.handler}}const cT=(t,e,n)=>{if(mp(e))return[...t.matchAll(e)];const o=e(t,n);return o?o.map(r=>{const s=[r.text];return s.index=r.index,s.input=t,s.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(r.replaceWith)),s}):[]};function dT(t){const{editor:e,state:n,from:o,to:r,rule:s,pasteEvent:a,dropEvent:l}=t,{commands:c,chain:d,can:u}=new Wl({editor:e,state:n}),f=[];return n.doc.nodesBetween(o,r,(h,m)=>{if(!h.isTextblock||h.type.spec.code)return;const g=Math.max(o,m),y=Math.min(r,m+h.content.size),b=h.textBetween(g-m,y-m,void 0,"");cT(b,s.find,a).forEach(k=>{if(k.index===void 0)return;const w=g+k.index+1,x=w+k[0].length,S={from:n.tr.mapping.map(w),to:n.tr.mapping.map(x)},E=s.handler({state:n,range:S,match:k,commands:c,chain:d,can:u,pasteEvent:a,dropEvent:l});f.push(E)})}),f.every(h=>h!==null)}let Xl=null;const uT=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function fT(t){const{editor:e,rules:n}=t;let o=null,r=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:u,from:f,to:p,rule:h,pasteEvt:m})=>{const g=u.tr,y=jl({state:u,transaction:g});if(!(!dT({editor:e,state:y,from:Math.max(f-1,0),to:p.b-1,rule:h,pasteEvent:m,dropEvent:l})||!g.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return n.map(u=>new he({view(f){const p=m=>{var g;o=!((g=f.dom.parentElement)===null||g===void 0)&&g.contains(m.target)?f.dom.parentElement:null,o&&(Xl=e)},h=()=>{Xl&&(Xl=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(f,p)=>{if(s=o===f.dom.parentElement,l=p,!s){const h=Xl;h&&setTimeout(()=>{const m=h.state.selection;m&&h.commands.deleteRange({from:m.from,to:m.to})},10)}return!1},paste:(f,p)=>{var h;const m=(h=p.clipboardData)===null||h===void 0?void 0:h.getData("text/html");return a=p,r=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(f,p,h)=>{const m=f[0],g=m.getMeta("uiEvent")==="paste"&&!r,y=m.getMeta("uiEvent")==="drop"&&!s,b=m.getMeta("applyPasteRules"),C=!!b;if(!g&&!y&&!C)return;if(C){let{text:x}=b;typeof x=="string"?x=x:x=hp(P.from(x),h.schema);const{from:S}=b,E=S+x.length,T=uT(x);return c({rule:u,state:h,from:S,to:{b:E},pasteEvt:T})}const k=p.doc.content.findDiffStart(h.doc.content),w=p.doc.content.findDiffEnd(h.doc.content);if(!(!aT(k)||!w||k===w.b))return c({rule:u,state:h,from:k,to:w,pasteEvt:a})}}))}function pT(t){const e=t.filter((n,o)=>t.indexOf(n)!==o);return Array.from(new Set(e))}class gi{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=gi.resolve(e),this.schema=nT(this.extensions,n),this.setupExtensions()}static resolve(e){const n=gi.sort(gi.flatten(e)),o=pT(n.map(r=>r.name));return o.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${o.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const o={name:n.name,options:n.options,storage:n.storage},r=G(n,"addExtensions",o);return r?[n,...this.flatten(r())]:n}).flat(10)}static sort(e){return e.sort((o,r)=>{const s=G(o,"priority")||100,a=G(r,"priority")||100;return s>a?-1:s<a?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const o={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:pp(n.name,this.schema)},r=G(n,"addCommands",o);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this,n=gi.sort([...this.extensions].reverse()),o=[],r=[],s=n.map(a=>{const l={name:a.name,options:a.options,storage:a.storage,editor:e,type:pp(a.name,this.schema)},c=[],d=G(a,"addKeyboardShortcuts",l);let u={};if(a.type==="mark"&&G(a,"exitable",l)&&(u.ArrowRight=()=>St.handleExit({editor:e,mark:a})),d){const g=Object.fromEntries(Object.entries(d()).map(([y,b])=>[y,()=>b({editor:e})]));u={...u,...g}}const f=I6(u);c.push(f);const p=G(a,"addInputRules",l);xb(a,e.options.enableInputRules)&&p&&o.push(...p());const h=G(a,"addPasteRules",l);xb(a,e.options.enablePasteRules)&&h&&r.push(...h());const m=G(a,"addProseMirrorPlugins",l);if(m){const g=m();c.push(...g)}return c}).flat();return[iT({editor:e,rules:o}),...fT({editor:e,rules:r}),...s]}get attributes(){return bb(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Kl(this.extensions);return Object.fromEntries(n.filter(o=>!!G(o,"addNodeView")).map(o=>{const r=this.attributes.filter(c=>c.type===o.name),s={name:o.name,options:o.options,storage:o.storage,editor:e,type:Ye(o.name,this.schema)},a=G(o,"addNodeView",s);if(!a)return[];const l=(c,d,u,f,p)=>{const h=fp(c,r);return a()({node:c,view:d,getPos:u,decorations:f,innerDecorations:p,editor:e,extension:o,HTMLAttributes:h})};return[o.name,l]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const o={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:pp(e.name,this.schema)};e.type==="mark"&&(!((n=se(G(e,"keepOnSplit",o)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const r=G(e,"onBeforeCreate",o),s=G(e,"onCreate",o),a=G(e,"onUpdate",o),l=G(e,"onSelectionUpdate",o),c=G(e,"onTransaction",o),d=G(e,"onFocus",o),u=G(e,"onBlur",o),f=G(e,"onDestroy",o);r&&this.editor.on("beforeCreate",r),s&&this.editor.on("create",s),a&&this.editor.on("update",a),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),d&&this.editor.on("focus",d),u&&this.editor.on("blur",u),f&&this.editor.on("destroy",f)})}}class ae{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=se(G(this,"addOptions",{name:this.name}))),this.storage=se(G(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ae(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Jl(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new ae({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=se(G(n,"addOptions",{name:n.name})),n.storage=se(G(n,"addStorage",{name:n.name,options:n.options})),n}}function Sb(t,e,n){const{from:o,to:r}=e,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let l="";return t.nodesBetween(o,r,(c,d,u,f)=>{var p;c.isBlock&&d>o&&(l+=s);const h=a==null?void 0:a[c.type.name];if(h)return u&&(l+=h({node:c,pos:d,parent:u,index:f,range:e})),!1;c.isText&&(l+=(p=c==null?void 0:c.text)===null||p===void 0?void 0:p.slice(Math.max(o,d)-d,r-d))}),l}function gp(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const hT=ae.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new he({key:new me("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:o,selection:r}=e,{ranges:s}=r,a=Math.min(...s.map(u=>u.$from.pos)),l=Math.max(...s.map(u=>u.$to.pos)),c=gp(n);return Sb(o,{from:a,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),mT=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),gT=(t=!1)=>({commands:e})=>e.setContent("",t),yT=()=>({state:t,tr:e,dispatch:n})=>{const{selection:o}=e,{ranges:r}=o;return n&&r.forEach(({$from:s,$to:a})=>{t.doc.nodesBetween(s.pos,a.pos,(l,c)=>{if(l.type.isText)return;const{doc:d,mapping:u}=e,f=d.resolve(u.map(c)),p=d.resolve(u.map(c+l.nodeSize)),h=f.blockRange(p);if(!h)return;const m=ri(h);if(l.type.isTextblock){const{defaultType:g}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(h.start,g)}(m||m===0)&&e.lift(h,m)})}),!0},bT=t=>e=>t(e),wT=()=>({state:t,dispatch:e})=>pb(t,e),CT=(t,e)=>({editor:n,tr:o})=>{const{state:r}=n,s=r.doc.slice(t.from,t.to);o.deleteRange(t.from,t.to);const a=o.mapping.map(e);return o.insert(a,s.content),o.setSelection(new J(o.doc.resolve(a-1))),!0},kT=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,o=n.$anchor.node();if(o.content.size>0)return!1;const r=t.selection.$anchor;for(let s=r.depth;s>0;s-=1)if(r.node(s).type===o.type){if(e){const l=r.before(s),c=r.after(s);t.delete(l,c).scrollIntoView()}return!0}return!1},xT=t=>({tr:e,state:n,dispatch:o})=>{const r=Ye(t,n.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===r){if(o){const c=s.before(a),d=s.after(a);e.delete(c,d).scrollIntoView()}return!0}return!1},ST=t=>({tr:e,dispatch:n})=>{const{from:o,to:r}=t;return n&&e.delete(o,r),!0},ET=()=>({state:t,dispatch:e})=>Us(t,e),_T=()=>({commands:t})=>t.keyboardShortcut("Enter"),AT=()=>({state:t,dispatch:e})=>L6(t,e);function Zl(t,e,n={strict:!0}){const o=Object.keys(e);return o.length?o.every(r=>n.strict?e[r]===t[r]:mp(e[r])?e[r].test(t[r]):e[r]===t[r]):!0}function Eb(t,e,n={}){return t.find(o=>o.type===e&&Zl(Object.fromEntries(Object.keys(n).map(r=>[r,o.attrs[r]])),n))}function _b(t,e,n={}){return!!Eb(t,e,n)}function Ql(t,e,n){var o;if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if((!r.node||!r.node.marks.some(u=>u.type===e))&&(r=t.parent.childBefore(t.parentOffset)),!r.node||!r.node.marks.some(u=>u.type===e)||(n=n||((o=r.node.marks[0])===null||o===void 0?void 0:o.attrs),!Eb([...r.node.marks],e,n)))return;let a=r.index,l=t.start()+r.offset,c=a+1,d=l+r.node.nodeSize;for(;a>0&&_b([...t.parent.child(a-1).marks],e,n);)a-=1,l-=t.parent.child(a).nodeSize;for(;c<t.parent.childCount&&_b([...t.parent.child(c).marks],e,n);)d+=t.parent.child(c).nodeSize,c+=1;return{from:l,to:d}}function No(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const TT=(t,e={})=>({tr:n,state:o,dispatch:r})=>{const s=No(t,o.schema),{doc:a,selection:l}=n,{$from:c,from:d,to:u}=l;if(r){const f=Ql(c,s,e);if(f&&f.from<=d&&f.to>=u){const p=J.create(a,f.from,f.to);n.setSelection(p)}}return!0},MT=t=>e=>{const n=typeof t=="function"?t(e):t;for(let o=0;o<n.length;o+=1)if(n[o](e))return!0;return!1};function yp(t){return t instanceof J}function Wn(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function Ab(t,e=null){if(!e)return null;const n=Z.atStart(t),o=Z.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return o;const r=n.from,s=o.to;return e==="all"?J.create(t,Wn(0,r,s),Wn(t.content.size,r,s)):J.create(t,Wn(e,r,s),Wn(e,r,s))}function Tb(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function ec(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const OT=(t=null,e={})=>({editor:n,view:o,tr:r,dispatch:s})=>{e={scrollIntoView:!0,...e};const a=()=>{(ec()||Tb())&&o.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(o.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(o.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!yp(n.state.selection))return a(),!0;const l=Ab(r.doc,t)||n.state.selection,c=n.state.selection.eq(l);return s&&(c||r.setSelection(l),c&&r.storedMarks&&r.setStoredMarks(r.storedMarks),a()),!0},vT=(t,e)=>n=>t.every((o,r)=>e(o,{...n,index:r})),NT=(t,e)=>({tr:n,commands:o})=>o.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),Mb=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const o=e[n];o.nodeType===3&&o.nodeValue&&/^(\n\s\s|\n)$/.test(o.nodeValue)?t.removeChild(o):o.nodeType===1&&Mb(o)}return t};function tc(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return Mb(n)}function nc(t,e,n){if(t instanceof yo||t instanceof P)return t;n={slice:!0,parseOptions:{},...n};const o=typeof t=="object"&&t!==null,r=typeof t=="string";if(o)try{if(Array.isArray(t)&&t.length>0)return P.fromArray(t.map(l=>e.nodeFromJSON(l)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),nc("",e,n)}if(r){if(n.errorOnInvalidContent){let a=!1,l="";const c=new py({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(a=!0,l=typeof d=="string"?d:d.outerHTML,null)}]}})});if(n.slice?Ts.fromSchema(c).parseSlice(tc(t),n.parseOptions):Ts.fromSchema(c).parse(tc(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const s=Ts.fromSchema(e);return n.slice?s.parseSlice(tc(t),n.parseOptions).content:s.parse(tc(t),n.parseOptions)}return nc("",e,n)}function IT(t,e,n){const o=t.steps.length-1;if(o<e)return;const r=t.steps[o];if(!(r instanceof Ge||r instanceof qe))return;const s=t.mapping.maps[o];let a=0;s.forEach((l,c,d,u)=>{a===0&&(a=u)}),t.setSelection(Z.near(t.doc.resolve(a),n))}const BT=t=>!("type"in t),RT=(t,e,n)=>({tr:o,dispatch:r,editor:s})=>{var a;if(r){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;try{l=nc(e,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(a=n.errorOnInvalidContent)!==null&&a!==void 0?a:s.options.enableContentCheck})}catch(m){return s.emit("contentError",{editor:s,error:m,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:c,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},u=!0,f=!0;if((BT(l)?l:[l]).forEach(m=>{m.check(),u=u?m.isText&&m.marks.length===0:!1,f=f?m.isBlock:!1}),c===d&&f){const{parent:m}=o.doc.resolve(c);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(c-=1,d+=1)}let h;if(u){if(Array.isArray(e))h=e.map(m=>m.text||"").join("");else if(e instanceof P){let m="";e.forEach(g=>{g.text&&(m+=g.text)}),h=m}else typeof e=="object"&&e&&e.text?h=e.text:h=e;o.insertText(h,c,d)}else h=l,o.replaceWith(c,d,h);n.updateSelection&&IT(o,o.steps.length-1,-1),n.applyInputRules&&o.setMeta("applyInputRules",{from:c,text:h}),n.applyPasteRules&&o.setMeta("applyPasteRules",{from:c,text:h})}return!0},PT=()=>({state:t,dispatch:e})=>P6(t,e),DT=()=>({state:t,dispatch:e})=>D6(t,e),$T=()=>({state:t,dispatch:e})=>sb(t,e),LT=()=>({state:t,dispatch:e})=>db(t,e),VT=()=>({state:t,dispatch:e,tr:n})=>{try{const o=Il(t.doc,t.selection.$from.pos,-1);return o==null?!1:(n.join(o,2),e&&e(n),!0)}catch{return!1}},FT=()=>({state:t,dispatch:e,tr:n})=>{try{const o=Il(t.doc,t.selection.$from.pos,1);return o==null?!1:(n.join(o,2),e&&e(n),!0)}catch{return!1}},zT=()=>({state:t,dispatch:e})=>B6(t,e),HT=()=>({state:t,dispatch:e})=>R6(t,e);function Ob(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function UT(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let o,r,s,a;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))o=!0;else if(/^(c|ctrl|control)$/i.test(c))r=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))ec()||Ob()?a=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return o&&(n=`Alt-${n}`),r&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const jT=t=>({editor:e,view:n,tr:o,dispatch:r})=>{const s=UT(t).split(/-(?!$)/),a=s.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),l=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{n.someProp("handleKeyDown",d=>d(n,l))});return c==null||c.steps.forEach(d=>{const u=d.map(o.mapping);u&&r&&o.maybeStep(u)}),!0};function js(t,e,n={}){const{from:o,to:r,empty:s}=t.selection,a=e?Ye(e,t.schema):null,l=[];t.doc.nodesBetween(o,r,(f,p)=>{if(f.isText)return;const h=Math.max(o,p),m=Math.min(r,p+f.nodeSize);l.push({node:f,from:h,to:m})});const c=r-o,d=l.filter(f=>a?a.name===f.node.type.name:!0).filter(f=>Zl(f.node.attrs,n,{strict:!1}));return s?!!d.length:d.reduce((f,p)=>f+p.to-p.from,0)>=c}const WT=(t,e={})=>({state:n,dispatch:o})=>{const r=Ye(t,n.schema);return js(n,r,e)?$6(n,o):!1},KT=()=>({state:t,dispatch:e})=>hb(t,e),GT=t=>({state:e,dispatch:n})=>{const o=Ye(t,e.schema);return Y6(o)(e,n)},qT=()=>({state:t,dispatch:e})=>fb(t,e);function oc(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function vb(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((o,r)=>(n.includes(r)||(o[r]=t[r]),o),{})}const YT=(t,e)=>({tr:n,state:o,dispatch:r})=>{let s=null,a=null;const l=oc(typeof t=="string"?t:t.name,o.schema);return l?(l==="node"&&(s=Ye(t,o.schema)),l==="mark"&&(a=No(t,o.schema)),r&&n.selection.ranges.forEach(c=>{o.doc.nodesBetween(c.$from.pos,c.$to.pos,(d,u)=>{s&&s===d.type&&n.setNodeMarkup(u,void 0,vb(d.attrs,e)),a&&d.marks.length&&d.marks.forEach(f=>{a===f.type&&n.addMark(u,u+d.nodeSize,a.create(vb(f.attrs,e)))})})}),!0):!1},JT=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),XT=()=>({tr:t,dispatch:e})=>{if(e){const n=new pt(t.doc);t.setSelection(n)}return!0},ZT=()=>({state:t,dispatch:e})=>lb(t,e),QT=()=>({state:t,dispatch:e})=>ub(t,e),e8=()=>({state:t,dispatch:e})=>z6(t,e),t8=()=>({state:t,dispatch:e})=>j6(t,e),n8=()=>({state:t,dispatch:e})=>U6(t,e);function bp(t,e,n={},o={}){return nc(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:o.errorOnInvalidContent})}const o8=(t,e=!1,n={},o={})=>({editor:r,tr:s,dispatch:a,commands:l})=>{var c,d;const{doc:u}=s;if(n.preserveWhitespace!=="full"){const f=bp(t,r.schema,n,{errorOnInvalidContent:(c=o.errorOnInvalidContent)!==null&&c!==void 0?c:r.options.enableContentCheck});return a&&s.replaceWith(0,u.content.size,f).setMeta("preventUpdate",!e),!0}return a&&s.setMeta("preventUpdate",!e),l.insertContentAt({from:0,to:u.content.size},t,{parseOptions:n,errorOnInvalidContent:(d=o.errorOnInvalidContent)!==null&&d!==void 0?d:r.options.enableContentCheck})};function wp(t,e){const n=No(e,t.schema),{from:o,to:r,empty:s}=t.selection,a=[];s?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(o,r,c=>{a.push(...c.marks)});const l=a.find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function r8(t,e){const n=new Of(t);return e.forEach(o=>{o.steps.forEach(r=>{n.step(r)})}),n}function i8(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function s8(t,e,n){const o=[];return t.nodesBetween(e.from,e.to,(r,s)=>{n(r)&&o.push({node:r,pos:s})}),o}function Nb(t,e){for(let n=t.depth;n>0;n-=1){const o=t.node(n);if(e(o))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:o}}}function Cp(t){return e=>Nb(e.$from,t)}function Ib(t,e){const n={from:0,to:t.content.size};return Sb(t,n,e)}function a8(t,e){const n=Ye(e,t.schema),{from:o,to:r}=t.selection,s=[];t.doc.nodesBetween(o,r,l=>{s.push(l)});const a=s.reverse().find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function Bb(t,e){const n=oc(typeof e=="string"?e:e.name,t.schema);return n==="node"?a8(t,e):n==="mark"?wp(t,e):{}}function l8(t,e=JSON.stringify){const n={};return t.filter(o=>{const r=e(o);return Object.prototype.hasOwnProperty.call(n,r)?!1:n[r]=!0})}function c8(t){const e=l8(t);return e.length===1?e:e.filter((n,o)=>!e.filter((s,a)=>a!==o).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function d8(t){const{mapping:e,steps:n}=t,o=[];return e.maps.forEach((r,s)=>{const a=[];if(r.ranges.length)r.forEach((l,c)=>{a.push({from:l,to:c})});else{const{from:l,to:c}=n[s];if(l===void 0||c===void 0)return;a.push({from:l,to:c})}a.forEach(({from:l,to:c})=>{const d=e.slice(s).map(l,-1),u=e.slice(s).map(c),f=e.invert().map(d,-1),p=e.invert().map(u);o.push({oldRange:{from:f,to:p},newRange:{from:d,to:u}})})}),c8(o)}function kp(t,e,n){const o=[];return t===e?n.resolve(t).marks().forEach(r=>{const s=n.resolve(t),a=Ql(s,r.type);a&&o.push({mark:r,...a})}):n.nodesBetween(t,e,(r,s)=>{!r||(r==null?void 0:r.nodeSize)===void 0||o.push(...r.marks.map(a=>({from:s,to:s+r.nodeSize,mark:a})))}),o}function rc(t,e,n){return Object.fromEntries(Object.entries(n).filter(([o])=>{const r=t.find(s=>s.type===e&&s.name===o);return r?r.attribute.keepOnSplit:!1}))}function xp(t,e,n={}){const{empty:o,ranges:r}=t.selection,s=e?No(e,t.schema):null;if(o)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>s?s.name===f.type.name:!0).find(f=>Zl(f.attrs,n,{strict:!1}));let a=0;const l=[];if(r.forEach(({$from:f,$to:p})=>{const h=f.pos,m=p.pos;t.doc.nodesBetween(h,m,(g,y)=>{if(!g.isText&&!g.marks.length)return;const b=Math.max(h,y),C=Math.min(m,y+g.nodeSize),k=C-b;a+=k,l.push(...g.marks.map(w=>({mark:w,from:b,to:C})))})}),a===0)return!1;const c=l.filter(f=>s?s.name===f.mark.type.name:!0).filter(f=>Zl(f.mark.attrs,n,{strict:!1})).reduce((f,p)=>f+p.to-p.from,0),d=l.filter(f=>s?f.mark.type!==s&&f.mark.type.excludes(s):!0).reduce((f,p)=>f+p.to-p.from,0);return(c>0?c+d:c)>=a}function ic(t,e,n={}){if(!e)return js(t,null,n)||xp(t,null,n);const o=oc(e,t.schema);return o==="node"?js(t,e,n):o==="mark"?xp(t,e,n):!1}function Sp(t,e){const{nodeExtensions:n}=Kl(e),o=n.find(a=>a.name===t);if(!o)return!1;const r={name:o.name,options:o.options,storage:o.storage},s=se(G(o,"group",r));return typeof s!="string"?!1:s.split(" ").includes("list")}function sc(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var o;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((o=t.text)!==null&&o!==void 0?o:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let r=!0;return t.content.forEach(s=>{r!==!1&&(sc(s,{ignoreWhitespace:n,checkChildren:e})||(r=!1))}),r}return!1}function Rb(t){return t instanceof X}function Pb(t,e,n){const r=t.state.doc.content.size,s=Wn(e,0,r),a=Wn(n,0,r),l=t.coordsAtPos(s),c=t.coordsAtPos(a,-1),d=Math.min(l.top,c.top),u=Math.max(l.bottom,c.bottom),f=Math.min(l.left,c.left),p=Math.max(l.right,c.right),h=p-f,m=u-d,b={top:d,bottom:u,left:f,right:p,width:h,height:m,x:f,y:d};return{...b,toJSON:()=>b}}function u8(t,e,n){var o;const{selection:r}=e;let s=null;if(yp(r)&&(s=r.$cursor),s){const l=(o=t.storedMarks)!==null&&o!==void 0?o:s.marks();return!!n.isInSet(l)||!l.some(c=>c.type.excludes(n))}const{ranges:a}=r;return a.some(({$from:l,$to:c})=>{let d=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,c.pos,(u,f,p)=>{if(d)return!1;if(u.isInline){const h=!p||p.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(n));d=h&&m}return!d}),d})}const f8=(t,e={})=>({tr:n,state:o,dispatch:r})=>{const{selection:s}=n,{empty:a,ranges:l}=s,c=No(t,o.schema);if(r)if(a){const d=wp(o,c);n.addStoredMark(c.create({...d,...e}))}else l.forEach(d=>{const u=d.$from.pos,f=d.$to.pos;o.doc.nodesBetween(u,f,(p,h)=>{const m=Math.max(h,u),g=Math.min(h+p.nodeSize,f);p.marks.find(b=>b.type===c)?p.marks.forEach(b=>{c===b.type&&n.addMark(m,g,c.create({...b.attrs,...e}))}):n.addMark(m,g,c.create(e))})});return u8(o,n,c)},p8=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),h8=(t,e={})=>({state:n,dispatch:o,chain:r})=>{const s=Ye(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?r().command(({commands:l})=>yb(s,{...a,...e})(n)?!0:l.clearNodes()).command(({state:l})=>yb(s,{...a,...e})(l,o)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},m8=t=>({tr:e,dispatch:n})=>{if(n){const{doc:o}=e,r=Wn(t,0,o.content.size),s=X.create(o,r);e.setSelection(s)}return!0},g8=t=>({tr:e,dispatch:n})=>{if(n){const{doc:o}=e,{from:r,to:s}=typeof t=="number"?{from:t,to:t}:t,a=J.atStart(o).from,l=J.atEnd(o).to,c=Wn(r,a,l),d=Wn(s,a,l),u=J.create(o,c,d);e.setSelection(u)}return!0},y8=t=>({state:e,dispatch:n})=>{const o=Ye(t,e.schema);return Z6(o)(e,n)};function Db(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const o=n.filter(r=>e==null?void 0:e.includes(r.type.name));t.tr.ensureMarks(o)}}const b8=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:o,editor:r})=>{const{selection:s,doc:a}=e,{$from:l,$to:c}=s,d=r.extensionManager.attributes,u=rc(d,l.node().type.name,l.node().attrs);if(s instanceof X&&s.node.isBlock)return!l.parentOffset||!Fn(a,l.pos)?!1:(o&&(t&&Db(n,r.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const f=c.parentOffset===c.parent.content.size,p=l.depth===0?void 0:i8(l.node(-1).contentMatchAt(l.indexAfter(-1)));let h=f&&p?[{type:p,attrs:u}]:void 0,m=Fn(e.doc,e.mapping.map(l.pos),1,h);if(!h&&!m&&Fn(e.doc,e.mapping.map(l.pos),1,p?[{type:p}]:void 0)&&(m=!0,h=p?[{type:p,attrs:u}]:void 0),o){if(m&&(s instanceof J&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,h),p&&!f&&!l.parentOffset&&l.parent.type!==p)){const g=e.mapping.map(l.before()),y=e.doc.resolve(g);l.node(-1).canReplaceWith(y.index(),y.index()+1,p)&&e.setNodeMarkup(e.mapping.map(l.before()),p)}t&&Db(n,r.extensionManager.splittableMarks),e.scrollIntoView()}return m},w8=(t,e={})=>({tr:n,state:o,dispatch:r,editor:s})=>{var a;const l=Ye(t,o.schema),{$from:c,$to:d}=o.selection,u=o.selection.node;if(u&&u.isBlock||c.depth<2||!c.sameParent(d))return!1;const f=c.node(-1);if(f.type!==l)return!1;const p=s.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(r){let b=P.empty;const C=c.index(-1)?1:c.index(-2)?2:3;for(let T=c.depth-C;T>=c.depth-3;T-=1)b=P.from(c.node(T).copy(b));const k=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,w={...rc(p,c.node().type.name,c.node().attrs),...e},x=((a=l.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(w))||void 0;b=b.append(P.from(l.createAndFill(null,x)||void 0));const S=c.before(c.depth-(C-1));n.replace(S,c.after(-k),new U(b,4-C,0));let E=-1;n.doc.nodesBetween(S,n.doc.content.size,(T,_)=>{if(E>-1)return!1;T.isTextblock&&T.content.size===0&&(E=_+1)}),E>-1&&n.setSelection(J.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const h=d.pos===c.end()?f.contentMatchAt(0).defaultType:null,m={...rc(p,f.type.name,f.attrs),...e},g={...rc(p,c.node().type.name,c.node().attrs),...e};n.delete(c.pos,d.pos);const y=h?[{type:l,attrs:m},{type:h,attrs:g}]:[{type:l,attrs:m}];if(!Fn(n.doc,c.pos,2))return!1;if(r){const{selection:b,storedMarks:C}=o,{splittableMarks:k}=s.extensionManager,w=C||b.$to.parentOffset&&b.$from.marks();if(n.split(c.pos,2,y).scrollIntoView(),!w||!r)return!0;const x=w.filter(S=>k.includes(S.type.name));n.ensureMarks(x)}return!0},Ep=(t,e)=>{const n=Cp(a=>a.type===e)(t.selection);if(!n)return!0;const o=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(o===void 0)return!0;const r=t.doc.nodeAt(o);return n.node.type===(r==null?void 0:r.type)&&ko(t.doc,n.pos)&&t.join(n.pos),!0},_p=(t,e)=>{const n=Cp(a=>a.type===e)(t.selection);if(!n)return!0;const o=t.doc.resolve(n.start).after(n.depth);if(o===void 0)return!0;const r=t.doc.nodeAt(o);return n.node.type===(r==null?void 0:r.type)&&ko(t.doc,o)&&t.join(o),!0};var C8=Object.freeze({__proto__:null,blur:mT,clearContent:gT,clearNodes:yT,command:bT,createParagraphNear:wT,cut:CT,deleteCurrentNode:kT,deleteNode:xT,deleteRange:ST,deleteSelection:ET,enter:_T,exitCode:AT,extendMarkRange:TT,first:MT,focus:OT,forEach:vT,insertContent:NT,insertContentAt:RT,joinBackward:$T,joinDown:DT,joinForward:LT,joinItemBackward:VT,joinItemForward:FT,joinTextblockBackward:zT,joinTextblockForward:HT,joinUp:PT,keyboardShortcut:jT,lift:WT,liftEmptyBlock:KT,liftListItem:GT,newlineInCode:qT,resetAttributes:YT,scrollIntoView:JT,selectAll:XT,selectNodeBackward:ZT,selectNodeForward:QT,selectParentNode:e8,selectTextblockEnd:t8,selectTextblockStart:n8,setContent:o8,setMark:f8,setMeta:p8,setNode:h8,setNodeSelection:m8,setTextSelection:g8,sinkListItem:y8,splitBlock:b8,splitListItem:w8,toggleList:(t,e,n,o={})=>({editor:r,tr:s,state:a,dispatch:l,chain:c,commands:d,can:u})=>{const{extensions:f,splittableMarks:p}=r.extensionManager,h=Ye(t,a.schema),m=Ye(e,a.schema),{selection:g,storedMarks:y}=a,{$from:b,$to:C}=g,k=b.blockRange(C),w=y||g.$to.parentOffset&&g.$from.marks();if(!k)return!1;const x=Cp(S=>Sp(S.type.name,f))(g);if(k.depth>=1&&x&&k.depth-x.depth<=1){if(x.node.type===h)return d.liftListItem(m);if(Sp(x.node.type.name,f)&&h.validContent(x.node.content)&&l)return c().command(()=>(s.setNodeMarkup(x.pos,h),!0)).command(()=>Ep(s,h)).command(()=>_p(s,h)).run()}return!n||!w||!l?c().command(()=>u().wrapInList(h,o)?!0:d.clearNodes()).wrapInList(h,o).command(()=>Ep(s,h)).command(()=>_p(s,h)).run():c().command(()=>{const S=u().wrapInList(h,o),E=w.filter(T=>p.includes(T.type.name));return s.ensureMarks(E),S?!0:d.clearNodes()}).wrapInList(h,o).command(()=>Ep(s,h)).command(()=>_p(s,h)).run()},toggleMark:(t,e={},n={})=>({state:o,commands:r})=>{const{extendEmptyMarkRange:s=!1}=n,a=No(t,o.schema);return xp(o,a,e)?r.unsetMark(a,{extendEmptyMarkRange:s}):r.setMark(a,e)},toggleNode:(t,e,n={})=>({state:o,commands:r})=>{const s=Ye(t,o.schema),a=Ye(e,o.schema),l=js(o,s,n);let c;return o.selection.$anchor.sameParent(o.selection.$head)&&(c=o.selection.$anchor.parent.attrs),l?r.setNode(a,c):r.setNode(s,{...c,...n})},toggleWrap:(t,e={})=>({state:n,commands:o})=>{const r=Ye(t,n.schema);return js(n,r,e)?o.lift(r):o.wrapIn(r,e)},undoInputRule:()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let o=0;o<n.length;o+=1){const r=n[o];let s;if(r.spec.isInputRules&&(s=r.getState(t))){if(e){const a=t.tr,l=s.transform;for(let c=l.steps.length-1;c>=0;c-=1)a.step(l.steps[c].invert(l.docs[c]));if(s.text){const c=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,t.schema.text(s.text,c))}else a.delete(s.from,s.to)}return!0}}return!1},unsetAllMarks:()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:o,ranges:r}=n;return o||e&&r.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},unsetMark:(t,e={})=>({tr:n,state:o,dispatch:r})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:l}=n,c=No(t,o.schema),{$from:d,empty:u,ranges:f}=l;if(!r)return!0;if(u&&a){let{from:p,to:h}=l;const m=(s=d.marks().find(y=>y.type===c))===null||s===void 0?void 0:s.attrs,g=Ql(d,c,m);g&&(p=g.from,h=g.to),n.removeMark(p,h,c)}else f.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,c)});return n.removeStoredMark(c),!0},updateAttributes:(t,e={})=>({tr:n,state:o,dispatch:r})=>{let s=null,a=null;const l=oc(typeof t=="string"?t:t.name,o.schema);return l?(l==="node"&&(s=Ye(t,o.schema)),l==="mark"&&(a=No(t,o.schema)),r&&n.selection.ranges.forEach(c=>{const d=c.$from.pos,u=c.$to.pos;let f,p,h,m;n.selection.empty?o.doc.nodesBetween(d,u,(g,y)=>{s&&s===g.type&&(h=Math.max(y,d),m=Math.min(y+g.nodeSize,u),f=y,p=g)}):o.doc.nodesBetween(d,u,(g,y)=>{y<d&&s&&s===g.type&&(h=Math.max(y,d),m=Math.min(y+g.nodeSize,u),f=y,p=g),y>=d&&y<=u&&(s&&s===g.type&&n.setNodeMarkup(y,void 0,{...g.attrs,...e}),a&&g.marks.length&&g.marks.forEach(b=>{if(a===b.type){const C=Math.max(y,d),k=Math.min(y+g.nodeSize,u);n.addMark(C,k,a.create({...b.attrs,...e}))}}))}),p&&(f!==void 0&&n.setNodeMarkup(f,void 0,{...p.attrs,...e}),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&n.addMark(h,m,a.create({...g.attrs,...e}))}))}),!0):!1},wrapIn:(t,e={})=>({state:n,dispatch:o})=>{const r=Ye(t,n.schema);return W6(r,e)(n,o)},wrapInList:(t,e={})=>({state:n,dispatch:o})=>{const r=Ye(t,n.schema);return K6(r,e)(n,o)}});const k8=ae.create({name:"commands",addCommands(){return{...C8}}}),x8=ae.create({name:"drop",addProseMirrorPlugins(){return[new he({key:new me("tiptapDrop"),props:{handleDrop:(t,e,n,o)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:o})}}})]}}),S8=ae.create({name:"editable",addProseMirrorPlugins(){return[new he({key:new me("editable"),props:{editable:()=>this.editor.options.editable}})]}}),E8=new me("focusEvents"),_8=ae.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new he({key:E8,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const o=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(o),!1},blur:(e,n)=>{t.isFocused=!1;const o=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(o),!1}}}})]}}),A8=ae.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:l})=>{const{selection:c,doc:d}=l,{empty:u,$anchor:f}=c,{pos:p,parent:h}=f,m=f.parent.isTextblock&&p>0?l.doc.resolve(p-1):f,g=m.parent.type.spec.isolating,y=f.pos-f.parentOffset,b=g&&m.parent.childCount===1?y===f.pos:Z.atStart(d).from===p;return!u||!h.type.isTextblock||h.textContent.length||!b||b&&f.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),o={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...o},s={...o,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return ec()||Ob()?s:r},addProseMirrorPlugins(){return[new he({key:new me("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(g=>g.getMeta("composition")))return;const o=t.some(g=>g.docChanged)&&!e.doc.eq(n.doc),r=t.some(g=>g.getMeta("preventClearDocument"));if(!o||r)return;const{empty:s,from:a,to:l}=e.selection,c=Z.atStart(e.doc).from,d=Z.atEnd(e.doc).to;if(s||!(a===c&&l===d)||!sc(n.doc))return;const p=n.tr,h=jl({state:n,transaction:p}),{commands:m}=new Wl({editor:this.editor,state:h});if(m.clearNodes(),!!p.steps.length)return p}})]}}),T8=ae.create({name:"paste",addProseMirrorPlugins(){return[new he({key:new me("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),M8=ae.create({name:"tabindex",addProseMirrorPlugins(){return[new he({key:new me("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Er{get name(){return this.node.type.name}constructor(e,n,o=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=o,this.resolvedPos=e,this.editor=n,this.currentNode=r}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,o=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,o=this.to-1}this.editor.commands.insertContentAt({from:n,to:o},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Er(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Er(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Er(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,o)=>{const r=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,a=this.pos+o+(s?0:1),l=this.resolvedPos.doc.resolve(a);if(!r&&l.depth<=this.depth)return;const c=new Er(l,this.editor,r,r?n:null);r&&(c.actualDepth=this.depth+1),e.push(new Er(l,this.editor,r,r?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let o=null,r=this.parent;for(;r&&!o;){if(r.node.type.name===e)if(Object.keys(n).length>0){const s=r.node.attrs,a=Object.keys(n);for(let l=0;l<a.length;l+=1){const c=a[l];if(s[c]!==n[c])break}}else o=r;r=r.parent}return o}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},o=!1){let r=[];if(!this.children||this.children.length===0)return r;const s=Object.keys(n);return this.children.forEach(a=>{o&&r.length>0||(a.node.type.name===e&&s.every(c=>n[c]===a.node.attrs[c])&&r.push(a),!(o&&r.length>0)&&(r=r.concat(a.querySelectorAll(e,n,o))))}),r}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const O8=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function v8(t,e,n){const o=document.querySelector("style[data-tiptap-style]");if(o!==null)return o;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}let $b=class extends Q6{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:o,moved:r})=>this.options.onDrop(n,o,r)),this.on("paste",({event:n,slice:o})=>this.options.onPaste(n,o)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=v8(O8,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const o=wb(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:o});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let o=n;if([].concat(e).forEach(s=>{const a=typeof s=="string"?`${s}$`:s.key;o=n.filter(l=>!l.key.startsWith(a))}),n.length===o.length)return;const r=this.state.reconfigure({plugins:o});return this.view.updateState(r),r}createExtensionManager(){var e,n;const r=[...this.options.enableCoreExtensions?[S8,hT.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),k8,_8,A8,M8,x8,T8].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new gi(r,this)}createCommandManager(){this.commandManager=new Wl({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=bp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(a){if(!(a instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(a.message))throw a;this.emit("contentError",{editor:this,error:a,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(l=>l.name!=="collaboration"),this.createExtensionManager()}}),n=bp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const o=Ab(n,this.options.autofocus);this.view=new S6(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:li.create({doc:n,selection:o||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(a)});return}const n=this.state.apply(e),o=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),o&&this.emit("selectionUpdate",{editor:this,transaction:e});const r=e.getMeta("focus"),s=e.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return Bb(this.state,e)}isActive(e,n){const o=typeof e=="string"?e:null,r=typeof e=="string"?n:e;return ic(this.state,o,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return hp(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:o={}}=e||{};return Ib(this.state.doc,{blockSeparator:n,textSerializers:{...gp(this.schema),...o}})}get isEmpty(){return sc(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var o;return((o=this.$doc)===null||o===void 0?void 0:o.querySelector(e,n))||null}$nodes(e,n){var o;return((o=this.$doc)===null||o===void 0?void 0:o.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Er(n,this)}get $doc(){return this.$pos(0)}};function _r(t){return new Gl({find:t.find,handler:({state:e,range:n,match:o})=>{const r=se(t.getAttributes,void 0,o);if(r===!1||r===null)return null;const{tr:s}=e,a=o[o.length-1],l=o[0];if(a){const c=l.search(/\S/),d=n.from+l.indexOf(a),u=d+a.length;if(kp(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(g=>g===t.type&&g!==h.mark.type)).filter(h=>h.to>d).length)return null;u<n.to&&s.delete(u,n.to),d>n.from&&s.delete(n.from+c,d);const p=n.from+c+a.length;s.addMark(n.from+c,p,t.type.create(r||{})),s.removeStoredMark(t.type)}}})}function Lb(t){return new Gl({find:t.find,handler:({state:e,range:n,match:o})=>{const r=se(t.getAttributes,void 0,o)||{},{tr:s}=e,a=n.from;let l=n.to;const c=t.type.create(r);if(o[1]){const d=o[0].lastIndexOf(o[1]);let u=a+d;u>l?u=l:l=u+o[1].length;const f=o[0][o[0].length-1];s.insertText(f,a+o[0].length-1),s.replaceWith(u,l,c)}else if(o[0]){const d=t.type.isInline?a:a-1;s.insert(d,t.type.create(r)).delete(s.mapping.map(a),s.mapping.map(l))}s.scrollIntoView()}})}function Ap(t){return new Gl({find:t.find,handler:({state:e,range:n,match:o})=>{const r=e.doc.resolve(n.from),s=se(t.getAttributes,void 0,o)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function yi(t){return new Gl({find:t.find,handler:({state:e,range:n,match:o,chain:r})=>{const s=se(t.getAttributes,void 0,o)||{},a=e.tr.delete(n.from,n.to),c=a.doc.resolve(n.from).blockRange(),d=c&&Af(c,t.type,s);if(!d)return null;if(a.wrap(c,d),t.keepMarks&&t.editor){const{selection:f,storedMarks:p}=e,{splittableMarks:h}=t.editor.extensionManager,m=p||f.$to.parentOffset&&f.$from.marks();if(m){const g=m.filter(y=>h.includes(y.type.name));a.ensureMarks(g)}}if(t.keepAttributes){const f=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(f,s).run()}const u=a.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&ko(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(o,u))&&a.join(n.from-1)}})}let ve=class K1{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=se(G(this,"addOptions",{name:this.name}))),this.storage=se(G(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new K1(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Jl(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new K1(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=se(G(n,"addOptions",{name:n.name})),n.storage=se(G(n,"addStorage",{name:n.name,options:n.options})),n}};class N8{constructor(e,n,o){this.isDragging=!1,this.component=e,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...o},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.innerDecorations=n.innerDecorations,this.view=n.view,this.HTMLAttributes=n.HTMLAttributes,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var n,o,r,s,a,l,c;const{view:d}=this.editor,u=e.target,f=u.nodeType===3?(n=u.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):u.closest("[data-drag-handle]");if(!this.dom||!((o=this.contentDOM)===null||o===void 0)&&o.contains(u)||!f)return;let p=0,h=0;if(this.dom!==f){const C=this.dom.getBoundingClientRect(),k=f.getBoundingClientRect(),w=(r=e.offsetX)!==null&&r!==void 0?r:(s=e.nativeEvent)===null||s===void 0?void 0:s.offsetX,x=(a=e.offsetY)!==null&&a!==void 0?a:(l=e.nativeEvent)===null||l===void 0?void 0:l.offsetY;p=k.x-C.x+w,h=k.y-C.y+x}const m=this.dom.cloneNode(!0);(c=e.dataTransfer)===null||c===void 0||c.setDragImage(m,p,h);const g=this.getPos();if(typeof g!="number")return;const y=X.create(d.state.doc,g),b=d.state.tr.setSelection(y);d.dispatch(b)}stopEvent(e){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const o=e.target;if(!(this.dom.contains(o)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(o))))return!1;const s=e.type.startsWith("drag"),a=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(o.tagName)||o.isContentEditable)&&!a&&!s)return!0;const{isEditable:c}=this.editor,{isDragging:d}=this,u=!!this.node.type.spec.draggable,f=X.isSelectable(this.node),p=e.type==="copy",h=e.type==="paste",m=e.type==="cut",g=e.type==="mousedown";if(!u&&f&&s&&e.target===this.dom&&e.preventDefault(),u&&s&&!d&&e.target===this.dom)return e.preventDefault(),!1;if(u&&c&&!d&&g){const y=o.closest("[data-drag-handle]");y&&(this.dom===y||this.dom.contains(y))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(d||a||p||h||m||g&&f)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(ec()||Tb())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(o=>o.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:n})=>{const o=this.getPos();return typeof o!="number"?!1:(n.setNodeMarkup(o,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const n=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:n})}}function Io(t){return new lT({find:t.find,handler:({state:e,range:n,match:o,pasteEvent:r})=>{const s=se(t.getAttributes,void 0,o,r);if(s===!1||s===null)return null;const{tr:a}=e,l=o[o.length-1],c=o[0];let d=n.to;if(l){const u=c.search(/\S/),f=n.from+c.indexOf(l),p=f+l.length;if(kp(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(y=>y===t.type&&y!==m.mark.type)).filter(m=>m.to>f).length)return null;p<n.to&&a.delete(p,n.to),f>n.from&&a.delete(n.from+u,f),d=n.from+u+l.length,a.addMark(n.from+u,d,t.type.create(s||{})),a.removeStoredMark(t.type)}}})}function I8(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}var Et="top",Kt="bottom",Gt="right",_t="left",Tp="auto",Ws=[Et,Kt,Gt,_t],bi="start",Ks="end",B8="clippingParents",Vb="viewport",Gs="popper",R8="reference",Fb=Ws.reduce(function(t,e){return t.concat([e+"-"+bi,e+"-"+Ks])},[]),zb=[].concat(Ws,[Tp]).reduce(function(t,e){return t.concat([e,e+"-"+bi,e+"-"+Ks])},[]),P8="beforeRead",D8="read",$8="afterRead",L8="beforeMain",V8="main",F8="afterMain",z8="beforeWrite",H8="write",U8="afterWrite",j8=[P8,D8,$8,L8,V8,F8,z8,H8,U8];function xn(t){return t?(t.nodeName||"").toLowerCase():null}function Bt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ar(t){var e=Bt(t).Element;return t instanceof e||t instanceof Element}function qt(t){var e=Bt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Mp(t){if(typeof ShadowRoot>"u")return!1;var e=Bt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function W8(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var o=e.styles[n]||{},r=e.attributes[n]||{},s=e.elements[n];!qt(s)||!xn(s)||(Object.assign(s.style,o),Object.keys(r).forEach(function(a){var l=r[a];l===!1?s.removeAttribute(a):s.setAttribute(a,l===!0?"":l)}))})}function K8(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(o){var r=e.elements[o],s=e.attributes[o]||{},a=Object.keys(e.styles.hasOwnProperty(o)?e.styles[o]:n[o]),l=a.reduce(function(c,d){return c[d]="",c},{});!qt(r)||!xn(r)||(Object.assign(r.style,l),Object.keys(s).forEach(function(c){r.removeAttribute(c)}))})}}const Hb={name:"applyStyles",enabled:!0,phase:"write",fn:W8,effect:K8,requires:["computeStyles"]};function Sn(t){return t.split("-")[0]}var Tr=Math.max,ac=Math.min,wi=Math.round;function Op(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ub(){return!/^((?!chrome|android).)*safari/i.test(Op())}function Ci(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var o=t.getBoundingClientRect(),r=1,s=1;e&&qt(t)&&(r=t.offsetWidth>0&&wi(o.width)/t.offsetWidth||1,s=t.offsetHeight>0&&wi(o.height)/t.offsetHeight||1);var a=Ar(t)?Bt(t):window,l=a.visualViewport,c=!Ub()&&n,d=(o.left+(c&&l?l.offsetLeft:0))/r,u=(o.top+(c&&l?l.offsetTop:0))/s,f=o.width/r,p=o.height/s;return{width:f,height:p,top:u,right:d+f,bottom:u+p,left:d,x:d,y:u}}function vp(t){var e=Ci(t),n=t.offsetWidth,o=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:o}}function jb(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Mp(n)){var o=e;do{if(o&&t.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Kn(t){return Bt(t).getComputedStyle(t)}function G8(t){return["table","td","th"].indexOf(xn(t))>=0}function Bo(t){return((Ar(t)?t.ownerDocument:t.document)||window.document).documentElement}function lc(t){return xn(t)==="html"?t:t.assignedSlot||t.parentNode||(Mp(t)?t.host:null)||Bo(t)}function Wb(t){return!qt(t)||Kn(t).position==="fixed"?null:t.offsetParent}function q8(t){var e=/firefox/i.test(Op()),n=/Trident/i.test(Op());if(n&&qt(t)){var o=Kn(t);if(o.position==="fixed")return null}var r=lc(t);for(Mp(r)&&(r=r.host);qt(r)&&["html","body"].indexOf(xn(r))<0;){var s=Kn(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function qs(t){for(var e=Bt(t),n=Wb(t);n&&G8(n)&&Kn(n).position==="static";)n=Wb(n);return n&&(xn(n)==="html"||xn(n)==="body"&&Kn(n).position==="static")?e:n||q8(t)||e}function Np(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ys(t,e,n){return Tr(t,ac(e,n))}function Y8(t,e,n){var o=Ys(t,e,n);return o>n?n:o}function Kb(){return{top:0,right:0,bottom:0,left:0}}function Gb(t){return Object.assign({},Kb(),t)}function qb(t,e){return e.reduce(function(n,o){return n[o]=t,n},{})}var J8=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Gb(typeof e!="number"?e:qb(e,Ws))};function X8(t){var e,n=t.state,o=t.name,r=t.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,l=Sn(n.placement),c=Np(l),d=[_t,Gt].indexOf(l)>=0,u=d?"height":"width";if(!(!s||!a)){var f=J8(r.padding,n),p=vp(s),h=c==="y"?Et:_t,m=c==="y"?Kt:Gt,g=n.rects.reference[u]+n.rects.reference[c]-a[c]-n.rects.popper[u],y=a[c]-n.rects.reference[c],b=qs(s),C=b?c==="y"?b.clientHeight||0:b.clientWidth||0:0,k=g/2-y/2,w=f[h],x=C-p[u]-f[m],S=C/2-p[u]/2+k,E=Ys(w,S,x),T=c;n.modifiersData[o]=(e={},e[T]=E,e.centerOffset=E-S,e)}}function Z8(t){var e=t.state,n=t.options,o=n.element,r=o===void 0?"[data-popper-arrow]":o;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||jb(e.elements.popper,r)&&(e.elements.arrow=r))}const Q8={name:"arrow",enabled:!0,phase:"main",fn:X8,effect:Z8,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ki(t){return t.split("-")[1]}var eM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function tM(t,e){var n=t.x,o=t.y,r=e.devicePixelRatio||1;return{x:wi(n*r)/r||0,y:wi(o*r)/r||0}}function Yb(t){var e,n=t.popper,o=t.popperRect,r=t.placement,s=t.variation,a=t.offsets,l=t.position,c=t.gpuAcceleration,d=t.adaptive,u=t.roundOffsets,f=t.isFixed,p=a.x,h=p===void 0?0:p,m=a.y,g=m===void 0?0:m,y=typeof u=="function"?u({x:h,y:g}):{x:h,y:g};h=y.x,g=y.y;var b=a.hasOwnProperty("x"),C=a.hasOwnProperty("y"),k=_t,w=Et,x=window;if(d){var S=qs(n),E="clientHeight",T="clientWidth";if(S===Bt(n)&&(S=Bo(n),Kn(S).position!=="static"&&l==="absolute"&&(E="scrollHeight",T="scrollWidth")),S=S,r===Et||(r===_t||r===Gt)&&s===Ks){w=Kt;var _=f&&S===x&&x.visualViewport?x.visualViewport.height:S[E];g-=_-o.height,g*=c?1:-1}if(r===_t||(r===Et||r===Kt)&&s===Ks){k=Gt;var A=f&&S===x&&x.visualViewport?x.visualViewport.width:S[T];h-=A-o.width,h*=c?1:-1}}var M=Object.assign({position:l},d&&eM),v=u===!0?tM({x:h,y:g},Bt(n)):{x:h,y:g};if(h=v.x,g=v.y,c){var L;return Object.assign({},M,(L={},L[w]=C?"0":"",L[k]=b?"0":"",L.transform=(x.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",L))}return Object.assign({},M,(e={},e[w]=C?g+"px":"",e[k]=b?h+"px":"",e.transform="",e))}function nM(t){var e=t.state,n=t.options,o=n.gpuAcceleration,r=o===void 0?!0:o,s=n.adaptive,a=s===void 0?!0:s,l=n.roundOffsets,c=l===void 0?!0:l,d={placement:Sn(e.placement),variation:ki(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Yb(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Yb(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const oM={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:nM,data:{}};var cc={passive:!0};function rM(t){var e=t.state,n=t.instance,o=t.options,r=o.scroll,s=r===void 0?!0:r,a=o.resize,l=a===void 0?!0:a,c=Bt(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&d.forEach(function(u){u.addEventListener("scroll",n.update,cc)}),l&&c.addEventListener("resize",n.update,cc),function(){s&&d.forEach(function(u){u.removeEventListener("scroll",n.update,cc)}),l&&c.removeEventListener("resize",n.update,cc)}}const iM={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rM,data:{}};var sM={left:"right",right:"left",bottom:"top",top:"bottom"};function dc(t){return t.replace(/left|right|bottom|top/g,function(e){return sM[e]})}var aM={start:"end",end:"start"};function Jb(t){return t.replace(/start|end/g,function(e){return aM[e]})}function Ip(t){var e=Bt(t),n=e.pageXOffset,o=e.pageYOffset;return{scrollLeft:n,scrollTop:o}}function Bp(t){return Ci(Bo(t)).left+Ip(t).scrollLeft}function lM(t,e){var n=Bt(t),o=Bo(t),r=n.visualViewport,s=o.clientWidth,a=o.clientHeight,l=0,c=0;if(r){s=r.width,a=r.height;var d=Ub();(d||!d&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:s,height:a,x:l+Bp(t),y:c}}function cM(t){var e,n=Bo(t),o=Ip(t),r=(e=t.ownerDocument)==null?void 0:e.body,s=Tr(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Tr(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-o.scrollLeft+Bp(t),c=-o.scrollTop;return Kn(r||n).direction==="rtl"&&(l+=Tr(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:a,x:l,y:c}}function Rp(t){var e=Kn(t),n=e.overflow,o=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function Xb(t){return["html","body","#document"].indexOf(xn(t))>=0?t.ownerDocument.body:qt(t)&&Rp(t)?t:Xb(lc(t))}function Js(t,e){var n;e===void 0&&(e=[]);var o=Xb(t),r=o===((n=t.ownerDocument)==null?void 0:n.body),s=Bt(o),a=r?[s].concat(s.visualViewport||[],Rp(o)?o:[]):o,l=e.concat(a);return r?l:l.concat(Js(lc(a)))}function Pp(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function dM(t,e){var n=Ci(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Zb(t,e,n){return e===Vb?Pp(lM(t,n)):Ar(e)?dM(e,n):Pp(cM(Bo(t)))}function uM(t){var e=Js(lc(t)),n=["absolute","fixed"].indexOf(Kn(t).position)>=0,o=n&&qt(t)?qs(t):t;return Ar(o)?e.filter(function(r){return Ar(r)&&jb(r,o)&&xn(r)!=="body"}):[]}function fM(t,e,n,o){var r=e==="clippingParents"?uM(t):[].concat(e),s=[].concat(r,[n]),a=s[0],l=s.reduce(function(c,d){var u=Zb(t,d,o);return c.top=Tr(u.top,c.top),c.right=ac(u.right,c.right),c.bottom=ac(u.bottom,c.bottom),c.left=Tr(u.left,c.left),c},Zb(t,a,o));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Qb(t){var e=t.reference,n=t.element,o=t.placement,r=o?Sn(o):null,s=o?ki(o):null,a=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,c;switch(r){case Et:c={x:a,y:e.y-n.height};break;case Kt:c={x:a,y:e.y+e.height};break;case Gt:c={x:e.x+e.width,y:l};break;case _t:c={x:e.x-n.width,y:l};break;default:c={x:e.x,y:e.y}}var d=r?Np(r):null;if(d!=null){var u=d==="y"?"height":"width";switch(s){case bi:c[d]=c[d]-(e[u]/2-n[u]/2);break;case Ks:c[d]=c[d]+(e[u]/2-n[u]/2);break}}return c}function Xs(t,e){e===void 0&&(e={});var n=e,o=n.placement,r=o===void 0?t.placement:o,s=n.strategy,a=s===void 0?t.strategy:s,l=n.boundary,c=l===void 0?B8:l,d=n.rootBoundary,u=d===void 0?Vb:d,f=n.elementContext,p=f===void 0?Gs:f,h=n.altBoundary,m=h===void 0?!1:h,g=n.padding,y=g===void 0?0:g,b=Gb(typeof y!="number"?y:qb(y,Ws)),C=p===Gs?R8:Gs,k=t.rects.popper,w=t.elements[m?C:p],x=fM(Ar(w)?w:w.contextElement||Bo(t.elements.popper),c,u,a),S=Ci(t.elements.reference),E=Qb({reference:S,element:k,placement:r}),T=Pp(Object.assign({},k,E)),_=p===Gs?T:S,A={top:x.top-_.top+b.top,bottom:_.bottom-x.bottom+b.bottom,left:x.left-_.left+b.left,right:_.right-x.right+b.right},M=t.modifiersData.offset;if(p===Gs&&M){var v=M[r];Object.keys(A).forEach(function(L){var z=[Gt,Kt].indexOf(L)>=0?1:-1,D=[Et,Kt].indexOf(L)>=0?"y":"x";A[L]+=v[D]*z})}return A}function pM(t,e){e===void 0&&(e={});var n=e,o=n.placement,r=n.boundary,s=n.rootBoundary,a=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,d=c===void 0?zb:c,u=ki(o),f=u?l?Fb:Fb.filter(function(m){return ki(m)===u}):Ws,p=f.filter(function(m){return d.indexOf(m)>=0});p.length===0&&(p=f);var h=p.reduce(function(m,g){return m[g]=Xs(t,{placement:g,boundary:r,rootBoundary:s,padding:a})[Sn(g)],m},{});return Object.keys(h).sort(function(m,g){return h[m]-h[g]})}function hM(t){if(Sn(t)===Tp)return[];var e=dc(t);return[Jb(t),e,Jb(e)]}function mM(t){var e=t.state,n=t.options,o=t.name;if(!e.modifiersData[o]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,a=n.altAxis,l=a===void 0?!0:a,c=n.fallbackPlacements,d=n.padding,u=n.boundary,f=n.rootBoundary,p=n.altBoundary,h=n.flipVariations,m=h===void 0?!0:h,g=n.allowedAutoPlacements,y=e.options.placement,b=Sn(y),C=b===y,k=c||(C||!m?[dc(y)]:hM(y)),w=[y].concat(k).reduce(function(ie,de){return ie.concat(Sn(de)===Tp?pM(e,{placement:de,boundary:u,rootBoundary:f,padding:d,flipVariations:m,allowedAutoPlacements:g}):de)},[]),x=e.rects.reference,S=e.rects.popper,E=new Map,T=!0,_=w[0],A=0;A<w.length;A++){var M=w[A],v=Sn(M),L=ki(M)===bi,z=[Et,Kt].indexOf(v)>=0,D=z?"width":"height",B=Xs(e,{placement:M,boundary:u,rootBoundary:f,altBoundary:p,padding:d}),O=z?L?Gt:_t:L?Kt:Et;x[D]>S[D]&&(O=dc(O));var $=dc(O),N=[];if(s&&N.push(B[v]<=0),l&&N.push(B[O]<=0,B[$]<=0),N.every(function(ie){return ie})){_=M,T=!1;break}E.set(M,N)}if(T)for(var I=m?3:1,F=function(de){var pe=w.find(function(Oe){var xe=E.get(Oe);if(xe)return xe.slice(0,de).every(function(Ce){return Ce})});if(pe)return _=pe,"break"},j=I;j>0;j--){var te=F(j);if(te==="break")break}e.placement!==_&&(e.modifiersData[o]._skip=!0,e.placement=_,e.reset=!0)}}const gM={name:"flip",enabled:!0,phase:"main",fn:mM,requiresIfExists:["offset"],data:{_skip:!1}};function ew(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function tw(t){return[Et,Gt,Kt,_t].some(function(e){return t[e]>=0})}function yM(t){var e=t.state,n=t.name,o=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,a=Xs(e,{elementContext:"reference"}),l=Xs(e,{altBoundary:!0}),c=ew(a,o),d=ew(l,r,s),u=tw(c),f=tw(d);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const bM={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:yM};function wM(t,e,n){var o=Sn(t),r=[_t,Et].indexOf(o)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=s[0],l=s[1];return a=a||0,l=(l||0)*r,[_t,Gt].indexOf(o)>=0?{x:l,y:a}:{x:a,y:l}}function CM(t){var e=t.state,n=t.options,o=t.name,r=n.offset,s=r===void 0?[0,0]:r,a=zb.reduce(function(u,f){return u[f]=wM(f,e.rects,s),u},{}),l=a[e.placement],c=l.x,d=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=d),e.modifiersData[o]=a}const kM={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:CM};function xM(t){var e=t.state,n=t.name;e.modifiersData[n]=Qb({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const SM={name:"popperOffsets",enabled:!0,phase:"read",fn:xM,data:{}};function EM(t){return t==="x"?"y":"x"}function _M(t){var e=t.state,n=t.options,o=t.name,r=n.mainAxis,s=r===void 0?!0:r,a=n.altAxis,l=a===void 0?!1:a,c=n.boundary,d=n.rootBoundary,u=n.altBoundary,f=n.padding,p=n.tether,h=p===void 0?!0:p,m=n.tetherOffset,g=m===void 0?0:m,y=Xs(e,{boundary:c,rootBoundary:d,padding:f,altBoundary:u}),b=Sn(e.placement),C=ki(e.placement),k=!C,w=Np(b),x=EM(w),S=e.modifiersData.popperOffsets,E=e.rects.reference,T=e.rects.popper,_=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,A=typeof _=="number"?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,v={x:0,y:0};if(S){if(s){var L,z=w==="y"?Et:_t,D=w==="y"?Kt:Gt,B=w==="y"?"height":"width",O=S[w],$=O+y[z],N=O-y[D],I=h?-T[B]/2:0,F=C===bi?E[B]:T[B],j=C===bi?-T[B]:-E[B],te=e.elements.arrow,ie=h&&te?vp(te):{width:0,height:0},de=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Kb(),pe=de[z],Oe=de[D],xe=Ys(0,E[B],ie[B]),Ce=k?E[B]/2-I-xe-pe-A.mainAxis:F-xe-pe-A.mainAxis,$e=k?-E[B]/2+I+xe+Oe+A.mainAxis:j+xe+Oe+A.mainAxis,en=e.elements.arrow&&qs(e.elements.arrow),vt=en?w==="y"?en.clientTop||0:en.clientLeft||0:0,tn=(L=M==null?void 0:M[w])!=null?L:0,ks=O+Ce-tn-vt,af=O+$e-tn,gl=Ys(h?ac($,ks):$,O,h?Tr(N,af):N);S[w]=gl,v[w]=gl-O}if(l){var yl,lf=w==="x"?Et:_t,cf=w==="x"?Kt:Gt,mo=S[x],pr=x==="y"?"height":"width",bl=mo+y[lf],ti=mo-y[cf],wl=[Et,_t].indexOf(b)!==-1,df=(yl=M==null?void 0:M[x])!=null?yl:0,uf=wl?bl:mo-E[pr]-T[pr]-df+A.altAxis,ff=wl?mo+E[pr]+T[pr]-df-A.altAxis:ti,pf=h&&wl?Y8(uf,mo,ff):Ys(h?uf:bl,mo,h?ff:ti);S[x]=pf,v[x]=pf-mo}e.modifiersData[o]=v}}const AM={name:"preventOverflow",enabled:!0,phase:"main",fn:_M,requiresIfExists:["offset"]};function TM(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function MM(t){return t===Bt(t)||!qt(t)?Ip(t):TM(t)}function OM(t){var e=t.getBoundingClientRect(),n=wi(e.width)/t.offsetWidth||1,o=wi(e.height)/t.offsetHeight||1;return n!==1||o!==1}function vM(t,e,n){n===void 0&&(n=!1);var o=qt(e),r=qt(e)&&OM(e),s=Bo(e),a=Ci(t,r,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(o||!o&&!n)&&((xn(e)!=="body"||Rp(s))&&(l=MM(e)),qt(e)?(c=Ci(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=Bp(s))),{x:a.left+l.scrollLeft-c.x,y:a.top+l.scrollTop-c.y,width:a.width,height:a.height}}function NM(t){var e=new Map,n=new Set,o=[];t.forEach(function(s){e.set(s.name,s)});function r(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var c=e.get(l);c&&r(c)}}),o.push(s)}return t.forEach(function(s){n.has(s.name)||r(s)}),o}function IM(t){var e=NM(t);return j8.reduce(function(n,o){return n.concat(e.filter(function(r){return r.phase===o}))},[])}function BM(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function RM(t){var e=t.reduce(function(n,o){var r=n[o.name];return n[o.name]=r?Object.assign({},r,o,{options:Object.assign({},r.options,o.options),data:Object.assign({},r.data,o.data)}):o,n},{});return Object.keys(e).map(function(n){return e[n]})}var nw={placement:"bottom",modifiers:[],strategy:"absolute"};function ow(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function PM(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,o=n===void 0?[]:n,r=e.defaultOptions,s=r===void 0?nw:r;return function(l,c,d){d===void 0&&(d=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},nw,s),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},f=[],p=!1,h={state:u,setOptions:function(b){var C=typeof b=="function"?b(u.options):b;g(),u.options=Object.assign({},s,u.options,C),u.scrollParents={reference:Ar(l)?Js(l):l.contextElement?Js(l.contextElement):[],popper:Js(c)};var k=IM(RM([].concat(o,u.options.modifiers)));return u.orderedModifiers=k.filter(function(w){return w.enabled}),m(),h.update()},forceUpdate:function(){if(!p){var b=u.elements,C=b.reference,k=b.popper;if(ow(C,k)){u.rects={reference:vM(C,qs(k),u.options.strategy==="fixed"),popper:vp(k)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(A){return u.modifiersData[A.name]=Object.assign({},A.data)});for(var w=0;w<u.orderedModifiers.length;w++){if(u.reset===!0){u.reset=!1,w=-1;continue}var x=u.orderedModifiers[w],S=x.fn,E=x.options,T=E===void 0?{}:E,_=x.name;typeof S=="function"&&(u=S({state:u,options:T,name:_,instance:h})||u)}}}},update:BM(function(){return new Promise(function(y){h.forceUpdate(),y(u)})}),destroy:function(){g(),p=!0}};if(!ow(l,c))return h;h.setOptions(d).then(function(y){!p&&d.onFirstUpdate&&d.onFirstUpdate(y)});function m(){u.orderedModifiers.forEach(function(y){var b=y.name,C=y.options,k=C===void 0?{}:C,w=y.effect;if(typeof w=="function"){var x=w({state:u,name:b,instance:h,options:k}),S=function(){};f.push(x||S)}})}function g(){f.forEach(function(y){return y()}),f=[]}return h}}var DM=[iM,SM,oM,Hb,kM,gM,AM,Q8,bM],$M=PM({defaultModifiers:DM}),LM="tippy-box",rw="tippy-content",VM="tippy-backdrop",iw="tippy-arrow",sw="tippy-svg-arrow",Mr={passive:!0,capture:!0},aw=function(){return document.body};function FM(t,e){return{}.hasOwnProperty.call(t,e)}function Dp(t,e,n){if(Array.isArray(t)){var o=t[e];return o??(Array.isArray(n)?n[e]:n)}return t}function $p(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function lw(t,e){return typeof t=="function"?t.apply(void 0,e):t}function cw(t,e){if(e===0)return t;var n;return function(o){clearTimeout(n),n=setTimeout(function(){t(o)},e)}}function zM(t,e){var n=Object.assign({},t);return e.forEach(function(o){delete n[o]}),n}function HM(t){return t.split(/\s+/).filter(Boolean)}function xi(t){return[].concat(t)}function dw(t,e){t.indexOf(e)===-1&&t.push(e)}function UM(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function jM(t){return t.split("-")[0]}function uc(t){return[].slice.call(t)}function uw(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Zs(){return document.createElement("div")}function Qs(t){return["Element","Fragment"].some(function(e){return $p(t,e)})}function WM(t){return $p(t,"NodeList")}function KM(t){return $p(t,"MouseEvent")}function GM(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function qM(t){return Qs(t)?[t]:WM(t)?uc(t):Array.isArray(t)?t:uc(document.querySelectorAll(t))}function Lp(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function fw(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function YM(t){var e,n=xi(t),o=n[0];return o!=null&&(e=o.ownerDocument)!=null&&e.body?o.ownerDocument:document}function JM(t,e){var n=e.clientX,o=e.clientY;return t.every(function(r){var s=r.popperRect,a=r.popperState,l=r.props,c=l.interactiveBorder,d=jM(a.placement),u=a.modifiersData.offset;if(!u)return!0;var f=d==="bottom"?u.top.y:0,p=d==="top"?u.bottom.y:0,h=d==="right"?u.left.x:0,m=d==="left"?u.right.x:0,g=s.top-o+f>c,y=o-s.bottom-p>c,b=s.left-n+h>c,C=n-s.right-m>c;return g||y||b||C})}function Vp(t,e,n){var o=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){t[o](r,n)})}function pw(t,e){for(var n=e;n;){var o;if(t.contains(n))return!0;n=n.getRootNode==null||(o=n.getRootNode())==null?void 0:o.host}return!1}var En={isTouch:!1},hw=0;function XM(){En.isTouch||(En.isTouch=!0,window.performance&&document.addEventListener("mousemove",mw))}function mw(){var t=performance.now();t-hw<20&&(En.isTouch=!1,document.removeEventListener("mousemove",mw)),hw=t}function ZM(){var t=document.activeElement;if(GM(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function QM(){document.addEventListener("touchstart",XM,Mr),window.addEventListener("blur",ZM)}var e5=typeof window<"u"&&typeof document<"u",t5=e5?!!window.msCrypto:!1;function Si(t){var e=t==="destroy"?"n already-":" ";return[t+"() was called on a"+e+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function gw(t){var e=/[ \t]{2,}/g,n=/^[ \t]*/gm;return t.replace(e," ").replace(n,"").trim()}function n5(t){return gw(`
  %ctippy.js

  %c`+gw(t)+`

  %c This is a development-only message. It will be removed in production.
  `)}function yw(t){return[n5(t),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var ea;process.env.NODE_ENV!=="production"&&o5();function o5(){ea=new Set}function Gn(t,e){if(t&&!ea.has(e)){var n;ea.add(e),(n=console).warn.apply(n,yw(e))}}function Fp(t,e){if(t&&!ea.has(e)){var n;ea.add(e),(n=console).error.apply(n,yw(e))}}function r5(t){var e=!t,n=Object.prototype.toString.call(t)==="[object Object]"&&!t.addEventListener;Fp(e,["tippy() was passed","`"+String(t)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),Fp(n,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var bw={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},i5={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Rt=Object.assign({appendTo:aw,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},bw,i5),s5=Object.keys(Rt),a5=function(e){process.env.NODE_ENV!=="production"&&kw(e,[]);var n=Object.keys(e);n.forEach(function(o){Rt[o]=e[o]})};function ww(t){var e=t.plugins||[],n=e.reduce(function(o,r){var s=r.name,a=r.defaultValue;if(s){var l;o[s]=t[s]!==void 0?t[s]:(l=Rt[s])!=null?l:a}return o},{});return Object.assign({},t,n)}function l5(t,e){var n=e?Object.keys(ww(Object.assign({},Rt,{plugins:e}))):s5,o=n.reduce(function(r,s){var a=(t.getAttribute("data-tippy-"+s)||"").trim();if(!a)return r;if(s==="content")r[s]=a;else try{r[s]=JSON.parse(a)}catch{r[s]=a}return r},{});return o}function Cw(t,e){var n=Object.assign({},e,{content:lw(e.content,[t])},e.ignoreAttributes?{}:l5(t,e.plugins));return n.aria=Object.assign({},Rt.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}function kw(t,e){t===void 0&&(t={}),e===void 0&&(e=[]);var n=Object.keys(t);n.forEach(function(o){var r=zM(Rt,Object.keys(bw)),s=!FM(r,o);s&&(s=e.filter(function(a){return a.name===o}).length===0),Gn(s,["`"+o+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var c5=function(){return"innerHTML"};function zp(t,e){t[c5()]=e}function xw(t){var e=Zs();return t===!0?e.className=iw:(e.className=sw,Qs(t)?e.appendChild(t):zp(e,t)),e}function Sw(t,e){Qs(e.content)?(zp(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?zp(t,e.content):t.textContent=e.content)}function Hp(t){var e=t.firstElementChild,n=uc(e.children);return{box:e,content:n.find(function(o){return o.classList.contains(rw)}),arrow:n.find(function(o){return o.classList.contains(iw)||o.classList.contains(sw)}),backdrop:n.find(function(o){return o.classList.contains(VM)})}}function Ew(t){var e=Zs(),n=Zs();n.className=LM,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var o=Zs();o.className=rw,o.setAttribute("data-state","hidden"),Sw(o,t.props),e.appendChild(n),n.appendChild(o),r(t.props,t.props);function r(s,a){var l=Hp(e),c=l.box,d=l.content,u=l.arrow;a.theme?c.setAttribute("data-theme",a.theme):c.removeAttribute("data-theme"),typeof a.animation=="string"?c.setAttribute("data-animation",a.animation):c.removeAttribute("data-animation"),a.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?c.setAttribute("role",a.role):c.removeAttribute("role"),(s.content!==a.content||s.allowHTML!==a.allowHTML)&&Sw(d,t.props),a.arrow?u?s.arrow!==a.arrow&&(c.removeChild(u),c.appendChild(xw(a.arrow))):c.appendChild(xw(a.arrow)):u&&c.removeChild(u)}return{popper:e,onUpdate:r}}Ew.$$tippy=!0;var d5=1,fc=[],Up=[];function u5(t,e){var n=Cw(t,Object.assign({},Rt,ww(uw(e)))),o,r,s,a=!1,l=!1,c=!1,d=!1,u,f,p,h=[],m=cw(ks,n.interactiveDebounce),g,y=d5++,b=null,C=UM(n.plugins),k={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},w={id:y,reference:t,popper:Zs(),popperInstance:b,props:n,state:k,plugins:C,clearDelayTimeouts:uf,setProps:ff,setContent:pf,show:Zne,hide:Qne,hideWithInteractivity:eoe,enable:wl,disable:df,unmount:toe,destroy:noe};if(!n.render)return process.env.NODE_ENV!=="production"&&Fp(!0,"render() function has not been supplied."),w;var x=n.render(w),S=x.popper,E=x.onUpdate;S.setAttribute("data-tippy-root",""),S.id="tippy-"+w.id,w.popper=S,t._tippy=w,S._tippy=w;var T=C.map(function(R){return R.fn(w)}),_=t.hasAttribute("aria-expanded");return en(),I(),O(),$("onCreate",[w]),n.showOnCreate&&bl(),S.addEventListener("mouseenter",function(){w.props.interactive&&w.state.isVisible&&w.clearDelayTimeouts()}),S.addEventListener("mouseleave",function(){w.props.interactive&&w.props.trigger.indexOf("mouseenter")>=0&&z().addEventListener("mousemove",m)}),w;function A(){var R=w.props.touch;return Array.isArray(R)?R:[R,0]}function M(){return A()[0]==="hold"}function v(){var R;return!!((R=w.props.render)!=null&&R.$$tippy)}function L(){return g||t}function z(){var R=L().parentNode;return R?YM(R):document}function D(){return Hp(S)}function B(R){return w.state.isMounted&&!w.state.isVisible||En.isTouch||u&&u.type==="focus"?0:Dp(w.props.delay,R?0:1,Rt.delay)}function O(R){R===void 0&&(R=!1),S.style.pointerEvents=w.props.interactive&&!R?"":"none",S.style.zIndex=""+w.props.zIndex}function $(R,q,Q){if(Q===void 0&&(Q=!0),T.forEach(function(be){be[R]&&be[R].apply(be,q)}),Q){var Se;(Se=w.props)[R].apply(Se,q)}}function N(){var R=w.props.aria;if(R.content){var q="aria-"+R.content,Q=S.id,Se=xi(w.props.triggerTarget||t);Se.forEach(function(be){var kt=be.getAttribute(q);if(w.state.isVisible)be.setAttribute(q,kt?kt+" "+Q:Q);else{var nn=kt&&kt.replace(Q,"").trim();nn?be.setAttribute(q,nn):be.removeAttribute(q)}})}}function I(){if(!(_||!w.props.aria.expanded)){var R=xi(w.props.triggerTarget||t);R.forEach(function(q){w.props.interactive?q.setAttribute("aria-expanded",w.state.isVisible&&q===L()?"true":"false"):q.removeAttribute("aria-expanded")})}}function F(){z().removeEventListener("mousemove",m),fc=fc.filter(function(R){return R!==m})}function j(R){if(!(En.isTouch&&(c||R.type==="mousedown"))){var q=R.composedPath&&R.composedPath()[0]||R.target;if(!(w.props.interactive&&pw(S,q))){if(xi(w.props.triggerTarget||t).some(function(Q){return pw(Q,q)})){if(En.isTouch||w.state.isVisible&&w.props.trigger.indexOf("click")>=0)return}else $("onClickOutside",[w,R]);w.props.hideOnClick===!0&&(w.clearDelayTimeouts(),w.hide(),l=!0,setTimeout(function(){l=!1}),w.state.isMounted||pe())}}}function te(){c=!0}function ie(){c=!1}function de(){var R=z();R.addEventListener("mousedown",j,!0),R.addEventListener("touchend",j,Mr),R.addEventListener("touchstart",ie,Mr),R.addEventListener("touchmove",te,Mr)}function pe(){var R=z();R.removeEventListener("mousedown",j,!0),R.removeEventListener("touchend",j,Mr),R.removeEventListener("touchstart",ie,Mr),R.removeEventListener("touchmove",te,Mr)}function Oe(R,q){Ce(R,function(){!w.state.isVisible&&S.parentNode&&S.parentNode.contains(S)&&q()})}function xe(R,q){Ce(R,q)}function Ce(R,q){var Q=D().box;function Se(be){be.target===Q&&(Vp(Q,"remove",Se),q())}if(R===0)return q();Vp(Q,"remove",f),Vp(Q,"add",Se),f=Se}function $e(R,q,Q){Q===void 0&&(Q=!1);var Se=xi(w.props.triggerTarget||t);Se.forEach(function(be){be.addEventListener(R,q,Q),h.push({node:be,eventType:R,handler:q,options:Q})})}function en(){M()&&($e("touchstart",tn,{passive:!0}),$e("touchend",af,{passive:!0})),HM(w.props.trigger).forEach(function(R){if(R!=="manual")switch($e(R,tn),R){case"mouseenter":$e("mouseleave",af);break;case"focus":$e(t5?"focusout":"blur",gl);break;case"focusin":$e("focusout",gl);break}})}function vt(){h.forEach(function(R){var q=R.node,Q=R.eventType,Se=R.handler,be=R.options;q.removeEventListener(Q,Se,be)}),h=[]}function tn(R){var q,Q=!1;if(!(!w.state.isEnabled||yl(R)||l)){var Se=((q=u)==null?void 0:q.type)==="focus";u=R,g=R.currentTarget,I(),!w.state.isVisible&&KM(R)&&fc.forEach(function(be){return be(R)}),R.type==="click"&&(w.props.trigger.indexOf("mouseenter")<0||a)&&w.props.hideOnClick!==!1&&w.state.isVisible?Q=!0:bl(R),R.type==="click"&&(a=!Q),Q&&!Se&&ti(R)}}function ks(R){var q=R.target,Q=L().contains(q)||S.contains(q);if(!(R.type==="mousemove"&&Q)){var Se=pr().concat(S).map(function(be){var kt,nn=be._tippy,xs=(kt=nn.popperInstance)==null?void 0:kt.state;return xs?{popperRect:be.getBoundingClientRect(),popperState:xs,props:n}:null}).filter(Boolean);JM(Se,R)&&(F(),ti(R))}}function af(R){var q=yl(R)||w.props.trigger.indexOf("click")>=0&&a;if(!q){if(w.props.interactive){w.hideWithInteractivity(R);return}ti(R)}}function gl(R){w.props.trigger.indexOf("focusin")<0&&R.target!==L()||w.props.interactive&&R.relatedTarget&&S.contains(R.relatedTarget)||ti(R)}function yl(R){return En.isTouch?M()!==R.type.indexOf("touch")>=0:!1}function lf(){cf();var R=w.props,q=R.popperOptions,Q=R.placement,Se=R.offset,be=R.getReferenceClientRect,kt=R.moveTransition,nn=v()?Hp(S).arrow:null,xs=be?{getBoundingClientRect:be,contextElement:be.contextElement||L()}:t,K3={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(hf){var Ss=hf.state;if(v()){var ooe=D(),H1=ooe.box;["placement","reference-hidden","escaped"].forEach(function(mf){mf==="placement"?H1.setAttribute("data-placement",Ss.placement):Ss.attributes.popper["data-popper-"+mf]?H1.setAttribute("data-"+mf,""):H1.removeAttribute("data-"+mf)}),Ss.attributes.popper={}}}},ni=[{name:"offset",options:{offset:Se}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!kt}},K3];v()&&nn&&ni.push({name:"arrow",options:{element:nn,padding:3}}),ni.push.apply(ni,(q==null?void 0:q.modifiers)||[]),w.popperInstance=$M(xs,S,Object.assign({},q,{placement:Q,onFirstUpdate:p,modifiers:ni}))}function cf(){w.popperInstance&&(w.popperInstance.destroy(),w.popperInstance=null)}function mo(){var R=w.props.appendTo,q,Q=L();w.props.interactive&&R===aw||R==="parent"?q=Q.parentNode:q=lw(R,[Q]),q.contains(S)||q.appendChild(S),w.state.isMounted=!0,lf(),process.env.NODE_ENV!=="production"&&Gn(w.props.interactive&&R===Rt.appendTo&&Q.nextElementSibling!==S,["Interactive tippy element may not be accessible via keyboard","navigation because it is not directly after the reference element","in the DOM source order.",`

`,"Using a wrapper <div> or <span> tag around the reference element","solves this by creating a new parentNode context.",`

`,"Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle","keyboard navigation.",`

`,"See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity"].join(" "))}function pr(){return uc(S.querySelectorAll("[data-tippy-root]"))}function bl(R){w.clearDelayTimeouts(),R&&$("onTrigger",[w,R]),de();var q=B(!0),Q=A(),Se=Q[0],be=Q[1];En.isTouch&&Se==="hold"&&be&&(q=be),q?o=setTimeout(function(){w.show()},q):w.show()}function ti(R){if(w.clearDelayTimeouts(),$("onUntrigger",[w,R]),!w.state.isVisible){pe();return}if(!(w.props.trigger.indexOf("mouseenter")>=0&&w.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(R.type)>=0&&a)){var q=B(!1);q?r=setTimeout(function(){w.state.isVisible&&w.hide()},q):s=requestAnimationFrame(function(){w.hide()})}}function wl(){w.state.isEnabled=!0}function df(){w.hide(),w.state.isEnabled=!1}function uf(){clearTimeout(o),clearTimeout(r),cancelAnimationFrame(s)}function ff(R){if(process.env.NODE_ENV!=="production"&&Gn(w.state.isDestroyed,Si("setProps")),!w.state.isDestroyed){$("onBeforeUpdate",[w,R]),vt();var q=w.props,Q=Cw(t,Object.assign({},q,uw(R),{ignoreAttributes:!0}));w.props=Q,en(),q.interactiveDebounce!==Q.interactiveDebounce&&(F(),m=cw(ks,Q.interactiveDebounce)),q.triggerTarget&&!Q.triggerTarget?xi(q.triggerTarget).forEach(function(Se){Se.removeAttribute("aria-expanded")}):Q.triggerTarget&&t.removeAttribute("aria-expanded"),I(),O(),E&&E(q,Q),w.popperInstance&&(lf(),pr().forEach(function(Se){requestAnimationFrame(Se._tippy.popperInstance.forceUpdate)})),$("onAfterUpdate",[w,R])}}function pf(R){w.setProps({content:R})}function Zne(){process.env.NODE_ENV!=="production"&&Gn(w.state.isDestroyed,Si("show"));var R=w.state.isVisible,q=w.state.isDestroyed,Q=!w.state.isEnabled,Se=En.isTouch&&!w.props.touch,be=Dp(w.props.duration,0,Rt.duration);if(!(R||q||Q||Se)&&!L().hasAttribute("disabled")&&($("onShow",[w],!1),w.props.onShow(w)!==!1)){if(w.state.isVisible=!0,v()&&(S.style.visibility="visible"),O(),de(),w.state.isMounted||(S.style.transition="none"),v()){var kt=D(),nn=kt.box,xs=kt.content;Lp([nn,xs],0)}p=function(){var ni;if(!(!w.state.isVisible||d)){if(d=!0,S.offsetHeight,S.style.transition=w.props.moveTransition,v()&&w.props.animation){var z1=D(),hf=z1.box,Ss=z1.content;Lp([hf,Ss],be),fw([hf,Ss],"visible")}N(),I(),dw(Up,w),(ni=w.popperInstance)==null||ni.forceUpdate(),$("onMount",[w]),w.props.animation&&v()&&xe(be,function(){w.state.isShown=!0,$("onShown",[w])})}},mo()}}function Qne(){process.env.NODE_ENV!=="production"&&Gn(w.state.isDestroyed,Si("hide"));var R=!w.state.isVisible,q=w.state.isDestroyed,Q=!w.state.isEnabled,Se=Dp(w.props.duration,1,Rt.duration);if(!(R||q||Q)&&($("onHide",[w],!1),w.props.onHide(w)!==!1)){if(w.state.isVisible=!1,w.state.isShown=!1,d=!1,a=!1,v()&&(S.style.visibility="hidden"),F(),pe(),O(!0),v()){var be=D(),kt=be.box,nn=be.content;w.props.animation&&(Lp([kt,nn],Se),fw([kt,nn],"hidden"))}N(),I(),w.props.animation?v()&&Oe(Se,w.unmount):w.unmount()}}function eoe(R){process.env.NODE_ENV!=="production"&&Gn(w.state.isDestroyed,Si("hideWithInteractivity")),z().addEventListener("mousemove",m),dw(fc,m),m(R)}function toe(){process.env.NODE_ENV!=="production"&&Gn(w.state.isDestroyed,Si("unmount")),w.state.isVisible&&w.hide(),w.state.isMounted&&(cf(),pr().forEach(function(R){R._tippy.unmount()}),S.parentNode&&S.parentNode.removeChild(S),Up=Up.filter(function(R){return R!==w}),w.state.isMounted=!1,$("onHidden",[w]))}function noe(){process.env.NODE_ENV!=="production"&&Gn(w.state.isDestroyed,Si("destroy")),!w.state.isDestroyed&&(w.clearDelayTimeouts(),w.unmount(),vt(),delete t._tippy,w.state.isDestroyed=!0,$("onDestroy",[w]))}}function Ro(t,e){e===void 0&&(e={});var n=Rt.plugins.concat(e.plugins||[]);process.env.NODE_ENV!=="production"&&(r5(t),kw(e,n)),QM();var o=Object.assign({},e,{plugins:n}),r=qM(t);if(process.env.NODE_ENV!=="production"){var s=Qs(o.content),a=r.length>1;Gn(s&&a,["tippy() was passed an Element as the `content` prop, but more than","one tippy instance was created by this invocation. This means the","content element will only be appended to the last tippy instance.",`

`,"Instead, pass the .innerHTML of the element, or use a function that","returns a cloned version of the element instead.",`

`,`1) content: element.innerHTML
`,"2) content: () => element.cloneNode(true)"].join(" "))}var l=r.reduce(function(c,d){var u=d&&u5(d,o);return u&&c.push(u),c},[]);return Qs(t)?l[0]:l}Ro.defaultProps=Rt,Ro.setDefaultProps=a5,Ro.currentInput=En,Object.assign({},Hb,{effect:function(e){var n=e.state,o={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,o.popper),n.styles=o,n.elements.arrow&&Object.assign(n.elements.arrow.style,o.arrow)}});var jp={name:"sticky",defaultValue:!1,fn:function(e){var n=e.reference,o=e.popper;function r(){return e.popperInstance?e.popperInstance.state.elements.reference:n}function s(d){return e.props.sticky===!0||e.props.sticky===d}var a=null,l=null;function c(){var d=s("reference")?r().getBoundingClientRect():null,u=s("popper")?o.getBoundingClientRect():null;(d&&_w(a,d)||u&&_w(l,u))&&e.popperInstance&&e.popperInstance.update(),a=d,l=u,e.state.isMounted&&requestAnimationFrame(c)}return{onMount:function(){e.props.sticky&&c()}}}};function _w(t,e){return t&&e?t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom||t.left!==e.left:!0}Ro.setDefaultProps({render:Ew});class f5{constructor({editor:e,element:n,view:o,tippyOptions:r={},updateDelay:s=250,shouldShow:a}){this.preventHide=!1,this.shouldShow=({view:l,state:c,from:d,to:u})=>{const{doc:f,selection:p}=c,{empty:h}=p,m=!f.textBetween(d,u).length&&yp(c.selection),g=this.element.contains(document.activeElement);return!(!(l.hasFocus()||g)||h||m||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:l})=>{var c;if(this.preventHide){this.preventHide=!1;return}l!=null&&l.relatedTarget&&(!((c=this.element.parentNode)===null||c===void 0)&&c.contains(l.relatedTarget))||(l==null?void 0:l.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=l=>{this.blurHandler({event:l})},this.handleDebouncedUpdate=(l,c)=>{const d=!(c!=null&&c.selection.eq(l.state.selection)),u=!(c!=null&&c.doc.eq(l.state.doc));!d&&!u||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(l,d,u,c)},this.updateDelay))},this.updateHandler=(l,c,d,u)=>{var f,p,h;const{state:m,composing:g}=l,{selection:y}=m;if(g||!c&&!d)return;this.createTooltip();const{ranges:C}=y,k=Math.min(...C.map(S=>S.$from.pos)),w=Math.max(...C.map(S=>S.$to.pos));if(!((f=this.shouldShow)===null||f===void 0?void 0:f.call(this,{editor:this.editor,element:this.element,view:l,state:m,oldState:u,from:k,to:w}))){this.hide();return}(p=this.tippy)===null||p===void 0||p.setProps({getReferenceClientRect:((h=this.tippyOptions)===null||h===void 0?void 0:h.getReferenceClientRect)||(()=>{if(Rb(m.selection)){let S=l.nodeDOM(k);if(S){const E=S.dataset.nodeViewWrapper?S:S.querySelector("[data-node-view-wrapper]");if(E&&(S=E.firstChild),S)return S.getBoundingClientRect()}}return Pb(l,k,w)})}),this.show()},this.editor=e,this.element=n,this.view=o,this.updateDelay=s,a&&(this.shouldShow=a),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=r,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=Ro(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,n){const{state:o}=e,r=o.selection.from!==o.selection.to;if(this.updateDelay>0&&r){this.handleDebouncedUpdate(e,n);return}const s=!(n!=null&&n.selection.eq(e.state.selection)),a=!(n!=null&&n.doc.eq(e.state.doc));this.updateHandler(e,s,a,n)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,n;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Aw=t=>new he({key:typeof t.pluginKey=="string"?new me(t.pluginKey):t.pluginKey,view:e=>new f5({view:e,...t})});ae.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Aw({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});class p5{getTextContent(e){return Ib(e,{textSerializers:gp(this.editor.schema)})}constructor({editor:e,element:n,view:o,tippyOptions:r={},shouldShow:s}){this.preventHide=!1,this.shouldShow=({view:a,state:l})=>{const{selection:c}=l,{$anchor:d,empty:u}=c,f=d.depth===1,p=d.parent.isTextblock&&!d.parent.type.spec.code&&!d.parent.textContent&&d.parent.childCount===0&&!this.getTextContent(d.parent);return!(!a.hasFocus()||!u||!f||!p||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var l;if(this.preventHide){this.preventHide=!1;return}a!=null&&a.relatedTarget&&(!((l=this.element.parentNode)===null||l===void 0)&&l.contains(a.relatedTarget))||(a==null?void 0:a.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=a=>{this.blurHandler({event:a})},this.editor=e,this.element=n,this.view=o,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=r,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=Ro(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,n){var o,r,s;const{state:a}=e,{doc:l,selection:c}=a,{from:d,to:u}=c;if(n&&n.doc.eq(l)&&n.selection.eq(c))return;if(this.createTooltip(),!((o=this.shouldShow)===null||o===void 0?void 0:o.call(this,{editor:this.editor,view:e,state:a,oldState:n}))){this.hide();return}(r=this.tippy)===null||r===void 0||r.setProps({getReferenceClientRect:((s=this.tippyOptions)===null||s===void 0?void 0:s.getReferenceClientRect)||(()=>Pb(e,d,u))}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,n;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Tw=t=>new he({key:typeof t.pluginKey=="string"?new me(t.pluginKey):t.pluginKey,view:e=>new p5({view:e,...t})});ae.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Tw({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});const Ei=i.defineComponent({name:"BubbleMenu",props:{pluginKey:{type:[String,Object],default:"bubbleMenu"},editor:{type:Object,required:!0},updateDelay:{type:Number,default:void 0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(t,{slots:e}){const n=i.ref(null);return i.onMounted(()=>{const{updateDelay:o,editor:r,pluginKey:s,shouldShow:a,tippyOptions:l}=t;r.registerPlugin(Aw({updateDelay:o,editor:r,element:n.value,pluginKey:s,shouldShow:a,tippyOptions:l}))}),i.onBeforeUnmount(()=>{const{pluginKey:o,editor:r}=t;r.unregisterPlugin(o)}),()=>{var o;return i.h("div",{ref:n},(o=e.default)===null||o===void 0?void 0:o.call(e))}}});function Mw(t){return i.customRef((e,n)=>({get(){return e(),t},set(o){t=o,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class Ow extends $b{constructor(e={}){return super(e),this.contentComponent=null,this.appContext=null,this.reactiveState=Mw(this.view.state),this.reactiveExtensionStorage=Mw(this.extensionStorage),this.on("beforeTransaction",({nextState:n})=>{this.reactiveState.value=n,this.reactiveExtensionStorage.value=this.extensionStorage}),i.markRaw(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,n){const o=super.registerPlugin(e,n);return this.reactiveState&&(this.reactiveState.value=o),o}unregisterPlugin(e){const n=super.unregisterPlugin(e);return this.reactiveState&&n&&(this.reactiveState.value=n),n}}const h5=i.defineComponent({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(t){const e=i.ref(),n=i.getCurrentInstance();return i.watchEffect(()=>{const o=t.editor;o&&o.options.element&&e.value&&i.nextTick(()=>{if(!e.value||!o.options.element.firstChild)return;const r=i.unref(e.value);e.value.append(...o.options.element.childNodes),o.contentComponent=n.ctx._,n&&(o.appContext={...n.appContext,provides:n.provides}),o.setOptions({element:r}),o.createNodeViews()})}),i.onBeforeUnmount(()=>{const o=t.editor;o&&(o.contentComponent=null,o.appContext=null)}),{rootEl:e}},render(){return i.h("div",{ref:t=>{this.rootEl=t}})}});i.defineComponent({name:"FloatingMenu",props:{pluginKey:{type:null,default:"floatingMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(t,{slots:e}){const n=i.ref(null);return i.onMounted(()=>{const{pluginKey:o,editor:r,tippyOptions:s,shouldShow:a}=t;r.registerPlugin(Tw({pluginKey:o,editor:r,element:n.value,tippyOptions:s,shouldShow:a}))}),i.onBeforeUnmount(()=>{const{pluginKey:o,editor:r}=t;r.unregisterPlugin(o)}),()=>{var o;return i.h("div",{ref:n},(o=e.default)===null||o===void 0?void 0:o.call(e))}}}),i.defineComponent({name:"NodeViewContent",props:{as:{type:String,default:"div"}},render(){return i.h(this.as,{style:{whiteSpace:"pre-wrap"},"data-node-view-content":""})}});const ta=i.defineComponent({name:"NodeViewWrapper",props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var t,e;return i.h(this.as,{class:this.decorationClasses,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t))}}),m5=(t={})=>{const e=i.shallowRef();return i.onMounted(()=>{e.value=new Ow(t)}),i.onBeforeUnmount(()=>{var n,o,r;const s=(n=e.value)===null||n===void 0?void 0:n.options.element,a=s==null?void 0:s.cloneNode(!0);(o=s==null?void 0:s.parentNode)===null||o===void 0||o.replaceChild(a,s),(r=e.value)===null||r===void 0||r.destroy()}),e};class vw{constructor(e,{props:n={},editor:o}){this.editor=o,this.component=i.markRaw(e),this.el=document.createElement("div"),this.props=i.reactive(n),this.renderedComponent=this.renderComponent()}get element(){return this.renderedComponent.el}get ref(){var e,n,o,r;return!((n=(e=this.renderedComponent.vNode)===null||e===void 0?void 0:e.component)===null||n===void 0)&&n.exposed?this.renderedComponent.vNode.component.exposed:(r=(o=this.renderedComponent.vNode)===null||o===void 0?void 0:o.component)===null||r===void 0?void 0:r.proxy}renderComponent(){let e=i.h(this.component,this.props);return this.editor.appContext&&(e.appContext=this.editor.appContext),typeof document<"u"&&this.el&&i.render(e,this.el),{vNode:e,destroy:()=>{this.el&&i.render(null,this.el),this.el=null,e=null},el:this.el?this.el.firstElementChild:null}}updateProps(e={}){Object.entries(e).forEach(([n,o])=>{this.props[n]=o}),this.renderComponent()}destroy(){this.renderedComponent.destroy()}}const na={editor:{type:Object,required:!0},node:{type:Object,required:!0},decorations:{type:Object,required:!0},selected:{type:Boolean,required:!0},extension:{type:Object,required:!0},getPos:{type:Function,required:!0},updateAttributes:{type:Function,required:!0},deleteNode:{type:Function,required:!0},view:{type:Object,required:!0},innerDecorations:{type:Object,required:!0},HTMLAttributes:{type:Object,required:!0}};class g5 extends N8{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(r={})=>this.updateAttributes(r),deleteNode:()=>this.deleteNode()},n=this.onDragStart.bind(this);this.decorationClasses=i.ref(this.getDecorationClasses());const o=i.defineComponent({extends:{...this.component},props:Object.keys(e),template:this.component.template,setup:r=>{var s,a;return i.provide("onDragStart",n),i.provide("decorationClasses",this.decorationClasses),(a=(s=this.component).setup)===null||a===void 0?void 0:a.call(s,r,{expose:()=>{}})},__scopeId:this.component.__scopeId,__cssModules:this.component.__cssModules,__name:this.component.__name,__file:this.component.__file});this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.renderer=new vw(o,{editor:this.editor,props:e})}get dom(){if(!this.renderer.element||!this.renderer.element.hasAttribute("data-node-view-wrapper"))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.dom.querySelector("[data-node-view-content]")}handleSelectionUpdate(){const{from:e,to:n}=this.editor.state.selection,o=this.getPos();if(typeof o=="number")if(e<=o&&n>=o+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,n,o){const r=s=>{this.decorationClasses.value=this.getDecorationClasses(),this.renderer.updateProps(s)};if(typeof this.options.update=="function"){const s=this.node,a=this.decorations,l=this.innerDecorations;return this.node=e,this.decorations=n,this.innerDecorations=o,this.options.update({oldNode:s,oldDecorations:a,newNode:e,newDecorations:n,oldInnerDecorations:l,innerDecorations:o,updateProps:()=>r({node:e,decorations:n,innerDecorations:o})})}return e.type!==this.node.type?!1:(e===this.node&&this.decorations===n&&this.innerDecorations===o||(this.node=e,this.decorations=n,this.innerDecorations=o,r({node:e,decorations:n,innerDecorations:o})),!0)}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element&&this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element&&this.renderer.element.classList.remove("ProseMirror-selectednode")}getDecorationClasses(){return this.decorations.map(e=>e.type.attrs.class).flat().join(" ")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate)}}function oa(t,e){return n=>{if(!n.editor.contentComponent)return{};const o=typeof t=="function"&&"__vccOpts"in t?t.__vccOpts:t;return new g5(o,n,e)}}const Nw="zhHans",Iw=200,y5=20,Bw=1e5,Rw=16,pc=10,hc=10,mc=2,b5="#262626",w5=["#000000","#262626","#595959","#8C8C8C","#BFBFBF","#D9D9D9","#E9E9E9","#F5F5F5","#FAFAFA","#FFFFFF","#F5222D","#FA541C","#FA8C16","#FADB14","#52C41A","#13C2C2","#1890FF","#2F54EB","#722ED1","#EB2F96","#FFE8E6","#FFECE0","#FFEFD1","#FCFCCA","#E4F7D2","#D3F5F0","#D4EEFC","#DEE8FC","#EFE1FA","#FAE1EB","#FFA39E","#FFBB96","#FFD591","#FFFB8F","#B7EB8F","#87E8DE","#91D5FF","#ADC6FF","#D3ADF7","#FFADD2","#FF4D4F","#FF7A45","#FFA940","#FFEC3D","#73D13D","#36CFC9","#40A9FF","#597EF7","#9254DE","#F759AB","#CF1322","#D4380D","#D46B08","#D4B106","#389E0D","#08979C","#096DD9","#1D39C4","#531DAB","#C41D7F","#820014","#871400","#873800","#614700","#135200","#00474F","#003A8C","#061178","#22075E","#780650"],C5=["10px","11px","12px","14px","16px","18px","20px","22px","24px","26px","28px","36px","48px","72px"],_i="defaut";var gc=(t=>(t[t["size-small"]=480]="size-small",t[t["size-medium"]=640]="size-medium",t["size-large"]="100%",t))(gc||{});const Pw="1",k5={text:["AI","divider","text-bubble","divider","bold","italic","underline","strike","code","link","divider","color","highlight","textAlign"],video:["video-size-small","video-size-medium","video-size-large","divider","remove"]},x5=["Arial","Arial Black","Georgia","Impact","Tahoma","Times New Roman","Verdana","Courier New","Lucida Console","Monaco","monospace"].reduce((t,e)=>(t[e]=e,t),{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ra(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var S5=typeof yc=="object"&&yc&&yc.Object===Object&&yc,Dw=S5,E5=Dw,_5=typeof self=="object"&&self&&self.Object===Object&&self,A5=E5||_5||Function("return this")(),_n=A5,T5=_n,M5=T5.Symbol,ia=M5,$w=ia,Lw=Object.prototype,O5=Lw.hasOwnProperty,v5=Lw.toString,sa=$w?$w.toStringTag:void 0;function N5(t){var e=O5.call(t,sa),n=t[sa];try{t[sa]=void 0;var o=!0}catch{}var r=v5.call(t);return o&&(e?t[sa]=n:delete t[sa]),r}var I5=N5,B5=Object.prototype,R5=B5.toString;function P5(t){return R5.call(t)}var D5=P5,Vw=ia,$5=I5,L5=D5,V5="[object Null]",F5="[object Undefined]",Fw=Vw?Vw.toStringTag:void 0;function z5(t){return t==null?t===void 0?F5:V5:Fw&&Fw in Object(t)?$5(t):L5(t)}var Ai=z5;function H5(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Or=H5,U5=Ai,j5=Or,W5="[object AsyncFunction]",K5="[object Function]",G5="[object GeneratorFunction]",q5="[object Proxy]";function Y5(t){if(!j5(t))return!1;var e=U5(t);return e==K5||e==G5||e==W5||e==q5}var zw=Y5,J5=_n,X5=J5["__core-js_shared__"],Z5=X5,Wp=Z5,Hw=function(){var t=/[^.]+$/.exec(Wp&&Wp.keys&&Wp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Q5(t){return!!Hw&&Hw in t}var eO=Q5,tO=Function.prototype,nO=tO.toString;function oO(t){if(t!=null){try{return nO.call(t)}catch{}try{return t+""}catch{}}return""}var Uw=oO,rO=zw,iO=eO,sO=Or,aO=Uw,lO=/[\\^$.*+?()[\]{}|]/g,cO=/^\[object .+?Constructor\]$/,dO=Function.prototype,uO=Object.prototype,fO=dO.toString,pO=uO.hasOwnProperty,hO=RegExp("^"+fO.call(pO).replace(lO,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mO(t){if(!sO(t)||iO(t))return!1;var e=rO(t)?hO:cO;return e.test(aO(t))}var gO=mO;function yO(t,e){return t==null?void 0:t[e]}var bO=yO,wO=gO,CO=bO;function kO(t,e){var n=CO(t,e);return wO(n)?n:void 0}var vr=kO,xO=vr,SO=xO(Object,"create"),bc=SO,jw=bc;function EO(){this.__data__=jw?jw(null):{},this.size=0}var _O=EO;function AO(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var TO=AO,MO=bc,OO="__lodash_hash_undefined__",vO=Object.prototype,NO=vO.hasOwnProperty;function IO(t){var e=this.__data__;if(MO){var n=e[t];return n===OO?void 0:n}return NO.call(e,t)?e[t]:void 0}var BO=IO,RO=bc,PO=Object.prototype,DO=PO.hasOwnProperty;function $O(t){var e=this.__data__;return RO?e[t]!==void 0:DO.call(e,t)}var LO=$O,VO=bc,FO="__lodash_hash_undefined__";function zO(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=VO&&e===void 0?FO:e,this}var HO=zO,UO=_O,jO=TO,WO=BO,KO=LO,GO=HO;function Ti(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}Ti.prototype.clear=UO,Ti.prototype.delete=jO,Ti.prototype.get=WO,Ti.prototype.has=KO,Ti.prototype.set=GO;var qO=Ti;function YO(){this.__data__=[],this.size=0}var JO=YO;function XO(t,e){return t===e||t!==t&&e!==e}var Ww=XO,ZO=Ww;function QO(t,e){for(var n=t.length;n--;)if(ZO(t[n][0],e))return n;return-1}var wc=QO,ev=wc,tv=Array.prototype,nv=tv.splice;function ov(t){var e=this.__data__,n=ev(e,t);if(n<0)return!1;var o=e.length-1;return n==o?e.pop():nv.call(e,n,1),--this.size,!0}var rv=ov,iv=wc;function sv(t){var e=this.__data__,n=iv(e,t);return n<0?void 0:e[n][1]}var av=sv,lv=wc;function cv(t){return lv(this.__data__,t)>-1}var dv=cv,uv=wc;function fv(t,e){var n=this.__data__,o=uv(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}var pv=fv,hv=JO,mv=rv,gv=av,yv=dv,bv=pv;function Mi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}Mi.prototype.clear=hv,Mi.prototype.delete=mv,Mi.prototype.get=gv,Mi.prototype.has=yv,Mi.prototype.set=bv;var Cc=Mi,wv=vr,Cv=_n,kv=wv(Cv,"Map"),Kp=kv,Kw=qO,xv=Cc,Sv=Kp;function Ev(){this.size=0,this.__data__={hash:new Kw,map:new(Sv||xv),string:new Kw}}var _v=Ev;function Av(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Tv=Av,Mv=Tv;function Ov(t,e){var n=t.__data__;return Mv(e)?n[typeof e=="string"?"string":"hash"]:n.map}var kc=Ov,vv=kc;function Nv(t){var e=vv(this,t).delete(t);return this.size-=e?1:0,e}var Iv=Nv,Bv=kc;function Rv(t){return Bv(this,t).get(t)}var Pv=Rv,Dv=kc;function $v(t){return Dv(this,t).has(t)}var Lv=$v,Vv=kc;function Fv(t,e){var n=Vv(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}var zv=Fv,Hv=_v,Uv=Iv,jv=Pv,Wv=Lv,Kv=zv;function Oi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}Oi.prototype.clear=Hv,Oi.prototype.delete=Uv,Oi.prototype.get=jv,Oi.prototype.has=Wv,Oi.prototype.set=Kv;var Gp=Oi,Gv="__lodash_hash_undefined__";function qv(t){return this.__data__.set(t,Gv),this}var Yv=qv;function Jv(t){return this.__data__.has(t)}var Xv=Jv,Zv=Gp,Qv=Yv,eN=Xv;function xc(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Zv;++e<n;)this.add(t[e])}xc.prototype.add=xc.prototype.push=Qv,xc.prototype.has=eN;var Gw=xc;function tN(t,e,n,o){for(var r=t.length,s=n+(o?1:-1);o?s--:++s<r;)if(e(t[s],s,t))return s;return-1}var nN=tN;function oN(t){return t!==t}var rN=oN;function iN(t,e,n){for(var o=n-1,r=t.length;++o<r;)if(t[o]===e)return o;return-1}var sN=iN,aN=nN,lN=rN,cN=sN;function dN(t,e,n){return e===e?cN(t,e,n):aN(t,lN,n)}var uN=dN,fN=uN;function pN(t,e){var n=t==null?0:t.length;return!!n&&fN(t,e,0)>-1}var hN=pN;function mN(t,e,n){for(var o=-1,r=t==null?0:t.length;++o<r;)if(n(e,t[o]))return!0;return!1}var gN=mN;function yN(t,e){for(var n=-1,o=t==null?0:t.length,r=Array(o);++n<o;)r[n]=e(t[n],n,t);return r}var qw=yN;function bN(t){return function(e){return t(e)}}var qp=bN;function wN(t,e){return t.has(e)}var Yw=wN,CN=Gw,kN=hN,xN=gN,SN=qw,EN=qp,_N=Yw,AN=200;function TN(t,e,n,o){var r=-1,s=kN,a=!0,l=t.length,c=[],d=e.length;if(!l)return c;n&&(e=SN(e,EN(n))),o?(s=xN,a=!1):e.length>=AN&&(s=_N,a=!1,e=new CN(e));e:for(;++r<l;){var u=t[r],f=n==null?u:n(u);if(u=o||u!==0?u:0,a&&f===f){for(var p=d;p--;)if(e[p]===f)continue e;c.push(u)}else s(e,f,o)||c.push(u)}return c}var MN=TN;function ON(t,e){for(var n=-1,o=e.length,r=t.length;++n<o;)t[r+n]=e[n];return t}var Jw=ON;function vN(t){return t!=null&&typeof t=="object"}var Nr=vN,NN=Ai,IN=Nr,BN="[object Arguments]";function RN(t){return IN(t)&&NN(t)==BN}var PN=RN,Xw=PN,DN=Nr,Zw=Object.prototype,$N=Zw.hasOwnProperty,LN=Zw.propertyIsEnumerable,VN=Xw(function(){return arguments}())?Xw:function(t){return DN(t)&&$N.call(t,"callee")&&!LN.call(t,"callee")},Yp=VN,FN=Array.isArray,qn=FN,Qw=ia,zN=Yp,HN=qn,e2=Qw?Qw.isConcatSpreadable:void 0;function UN(t){return HN(t)||zN(t)||!!(e2&&t&&t[e2])}var jN=UN,WN=Jw,KN=jN;function t2(t,e,n,o,r){var s=-1,a=t.length;for(n||(n=KN),r||(r=[]);++s<a;){var l=t[s];e>0&&n(l)?e>1?t2(l,e-1,n,o,r):WN(r,l):o||(r[r.length]=l)}return r}var GN=t2,qN=Cc;function YN(){this.__data__=new qN,this.size=0}var JN=YN;function XN(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var ZN=XN;function QN(t){return this.__data__.get(t)}var eI=QN;function tI(t){return this.__data__.has(t)}var nI=tI,oI=Cc,rI=Kp,iI=Gp,sI=200;function aI(t,e){var n=this.__data__;if(n instanceof oI){var o=n.__data__;if(!rI||o.length<sI-1)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new iI(o)}return n.set(t,e),this.size=n.size,this}var lI=aI,cI=Cc,dI=JN,uI=ZN,fI=eI,pI=nI,hI=lI;function vi(t){var e=this.__data__=new cI(t);this.size=e.size}vi.prototype.clear=dI,vi.prototype.delete=uI,vi.prototype.get=fI,vi.prototype.has=pI,vi.prototype.set=hI;var n2=vi;function mI(t,e){for(var n=-1,o=t==null?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1}var gI=mI,yI=Gw,bI=gI,wI=Yw,CI=1,kI=2;function xI(t,e,n,o,r,s){var a=n&CI,l=t.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var d=s.get(t),u=s.get(e);if(d&&u)return d==e&&u==t;var f=-1,p=!0,h=n&kI?new yI:void 0;for(s.set(t,e),s.set(e,t);++f<l;){var m=t[f],g=e[f];if(o)var y=a?o(g,m,f,e,t,s):o(m,g,f,t,e,s);if(y!==void 0){if(y)continue;p=!1;break}if(h){if(!bI(e,function(b,C){if(!wI(h,C)&&(m===b||r(m,b,n,o,s)))return h.push(C)})){p=!1;break}}else if(!(m===g||r(m,g,n,o,s))){p=!1;break}}return s.delete(t),s.delete(e),p}var o2=xI,SI=_n,EI=SI.Uint8Array,_I=EI;function AI(t){var e=-1,n=Array(t.size);return t.forEach(function(o,r){n[++e]=[r,o]}),n}var TI=AI;function MI(t){var e=-1,n=Array(t.size);return t.forEach(function(o){n[++e]=o}),n}var OI=MI,r2=ia,i2=_I,vI=Ww,NI=o2,II=TI,BI=OI,RI=1,PI=2,DI="[object Boolean]",$I="[object Date]",LI="[object Error]",VI="[object Map]",FI="[object Number]",zI="[object RegExp]",HI="[object Set]",UI="[object String]",jI="[object Symbol]",WI="[object ArrayBuffer]",KI="[object DataView]",s2=r2?r2.prototype:void 0,Jp=s2?s2.valueOf:void 0;function GI(t,e,n,o,r,s,a){switch(n){case KI:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case WI:return!(t.byteLength!=e.byteLength||!s(new i2(t),new i2(e)));case DI:case $I:case FI:return vI(+t,+e);case LI:return t.name==e.name&&t.message==e.message;case zI:case UI:return t==e+"";case VI:var l=II;case HI:var c=o&RI;if(l||(l=BI),t.size!=e.size&&!c)return!1;var d=a.get(t);if(d)return d==e;o|=PI,a.set(t,e);var u=NI(l(t),l(e),o,r,s,a);return a.delete(t),u;case jI:if(Jp)return Jp.call(t)==Jp.call(e)}return!1}var qI=GI,YI=Jw,JI=qn;function XI(t,e,n){var o=e(t);return JI(t)?o:YI(o,n(t))}var ZI=XI;function QI(t,e){for(var n=-1,o=t==null?0:t.length,r=0,s=[];++n<o;){var a=t[n];e(a,n,t)&&(s[r++]=a)}return s}var eB=QI;function tB(){return[]}var nB=tB,oB=eB,rB=nB,iB=Object.prototype,sB=iB.propertyIsEnumerable,a2=Object.getOwnPropertySymbols,aB=a2?function(t){return t==null?[]:(t=Object(t),oB(a2(t),function(e){return sB.call(t,e)}))}:rB,lB=aB;function cB(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}var dB=cB,Sc={exports:{}};function uB(){return!1}var fB=uB;Sc.exports,function(t,e){var n=_n,o=fB,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===r,l=a?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||o;t.exports=d}(Sc,Sc.exports);var l2=Sc.exports,pB=9007199254740991,hB=/^(?:0|[1-9]\d*)$/;function mB(t,e){var n=typeof t;return e=e??pB,!!e&&(n=="number"||n!="symbol"&&hB.test(t))&&t>-1&&t%1==0&&t<e}var c2=mB,gB=9007199254740991;function yB(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=gB}var Xp=yB,bB=Ai,wB=Xp,CB=Nr,kB="[object Arguments]",xB="[object Array]",SB="[object Boolean]",EB="[object Date]",_B="[object Error]",AB="[object Function]",TB="[object Map]",MB="[object Number]",OB="[object Object]",vB="[object RegExp]",NB="[object Set]",IB="[object String]",BB="[object WeakMap]",RB="[object ArrayBuffer]",PB="[object DataView]",DB="[object Float32Array]",$B="[object Float64Array]",LB="[object Int8Array]",VB="[object Int16Array]",FB="[object Int32Array]",zB="[object Uint8Array]",HB="[object Uint8ClampedArray]",UB="[object Uint16Array]",jB="[object Uint32Array]",Ne={};Ne[DB]=Ne[$B]=Ne[LB]=Ne[VB]=Ne[FB]=Ne[zB]=Ne[HB]=Ne[UB]=Ne[jB]=!0,Ne[kB]=Ne[xB]=Ne[RB]=Ne[SB]=Ne[PB]=Ne[EB]=Ne[_B]=Ne[AB]=Ne[TB]=Ne[MB]=Ne[OB]=Ne[vB]=Ne[NB]=Ne[IB]=Ne[BB]=!1;function WB(t){return CB(t)&&wB(t.length)&&!!Ne[bB(t)]}var KB=WB,Ec={exports:{}};Ec.exports,function(t,e){var n=Dw,o=e&&!e.nodeType&&e,r=o&&!0&&t&&!t.nodeType&&t,s=r&&r.exports===o,a=s&&n.process,l=function(){try{var c=r&&r.require&&r.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();t.exports=l}(Ec,Ec.exports);var d2=Ec.exports,GB=KB,qB=qp,u2=d2,f2=u2&&u2.isTypedArray,YB=f2?qB(f2):GB,p2=YB,JB=dB,XB=Yp,ZB=qn,QB=l2,eR=c2,tR=p2,nR=Object.prototype,oR=nR.hasOwnProperty;function rR(t,e){var n=ZB(t),o=!n&&XB(t),r=!n&&!o&&QB(t),s=!n&&!o&&!r&&tR(t),a=n||o||r||s,l=a?JB(t.length,String):[],c=l.length;for(var d in t)(e||oR.call(t,d))&&!(a&&(d=="length"||r&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||eR(d,c)))&&l.push(d);return l}var iR=rR,sR=Object.prototype;function aR(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||sR;return t===n}var lR=aR;function cR(t,e){return function(n){return t(e(n))}}var dR=cR,uR=dR,fR=uR(Object.keys,Object),pR=fR,hR=lR,mR=pR,gR=Object.prototype,yR=gR.hasOwnProperty;function bR(t){if(!hR(t))return mR(t);var e=[];for(var n in Object(t))yR.call(t,n)&&n!="constructor"&&e.push(n);return e}var wR=bR,CR=zw,kR=Xp;function xR(t){return t!=null&&kR(t.length)&&!CR(t)}var h2=xR,SR=iR,ER=wR,_R=h2;function AR(t){return _R(t)?SR(t):ER(t)}var m2=AR,TR=ZI,MR=lB,OR=m2;function vR(t){return TR(t,OR,MR)}var NR=vR,g2=NR,IR=1,BR=Object.prototype,RR=BR.hasOwnProperty;function PR(t,e,n,o,r,s){var a=n&IR,l=g2(t),c=l.length,d=g2(e),u=d.length;if(c!=u&&!a)return!1;for(var f=c;f--;){var p=l[f];if(!(a?p in e:RR.call(e,p)))return!1}var h=s.get(t),m=s.get(e);if(h&&m)return h==e&&m==t;var g=!0;s.set(t,e),s.set(e,t);for(var y=a;++f<c;){p=l[f];var b=t[p],C=e[p];if(o)var k=a?o(C,b,p,e,t,s):o(b,C,p,t,e,s);if(!(k===void 0?b===C||r(b,C,n,o,s):k)){g=!1;break}y||(y=p=="constructor")}if(g&&!y){var w=t.constructor,x=e.constructor;w!=x&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof x=="function"&&x instanceof x)&&(g=!1)}return s.delete(t),s.delete(e),g}var DR=PR,$R=vr,LR=_n,VR=$R(LR,"DataView"),FR=VR,zR=vr,HR=_n,UR=zR(HR,"Promise"),jR=UR,WR=vr,KR=_n,GR=WR(KR,"Set"),qR=GR,YR=vr,JR=_n,XR=YR(JR,"WeakMap"),ZR=XR,Zp=FR,Qp=Kp,eh=jR,th=qR,nh=ZR,y2=Ai,Ni=Uw,b2="[object Map]",QR="[object Object]",w2="[object Promise]",C2="[object Set]",k2="[object WeakMap]",x2="[object DataView]",e7=Ni(Zp),t7=Ni(Qp),n7=Ni(eh),o7=Ni(th),r7=Ni(nh),Ir=y2;(Zp&&Ir(new Zp(new ArrayBuffer(1)))!=x2||Qp&&Ir(new Qp)!=b2||eh&&Ir(eh.resolve())!=w2||th&&Ir(new th)!=C2||nh&&Ir(new nh)!=k2)&&(Ir=function(t){var e=y2(t),n=e==QR?t.constructor:void 0,o=n?Ni(n):"";if(o)switch(o){case e7:return x2;case t7:return b2;case n7:return w2;case o7:return C2;case r7:return k2}return e});var i7=Ir,oh=n2,s7=o2,a7=qI,l7=DR,S2=i7,E2=qn,_2=l2,c7=p2,d7=1,A2="[object Arguments]",T2="[object Array]",_c="[object Object]",u7=Object.prototype,M2=u7.hasOwnProperty;function f7(t,e,n,o,r,s){var a=E2(t),l=E2(e),c=a?T2:S2(t),d=l?T2:S2(e);c=c==A2?_c:c,d=d==A2?_c:d;var u=c==_c,f=d==_c,p=c==d;if(p&&_2(t)){if(!_2(e))return!1;a=!0,u=!1}if(p&&!u)return s||(s=new oh),a||c7(t)?s7(t,e,n,o,r,s):a7(t,e,c,n,o,r,s);if(!(n&d7)){var h=u&&M2.call(t,"__wrapped__"),m=f&&M2.call(e,"__wrapped__");if(h||m){var g=h?t.value():t,y=m?e.value():e;return s||(s=new oh),r(g,y,n,o,s)}}return p?(s||(s=new oh),l7(t,e,n,o,r,s)):!1}var p7=f7,h7=p7,O2=Nr;function v2(t,e,n,o,r){return t===e?!0:t==null||e==null||!O2(t)&&!O2(e)?t!==t&&e!==e:h7(t,e,n,o,v2,r)}var rh=v2,m7=n2,g7=rh,y7=1,b7=2;function w7(t,e,n,o){var r=n.length,s=r,a=!o;if(t==null)return!s;for(t=Object(t);r--;){var l=n[r];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++r<s;){l=n[r];var c=l[0],d=t[c],u=l[1];if(a&&l[2]){if(d===void 0&&!(c in t))return!1}else{var f=new m7;if(o)var p=o(d,u,c,t,e,f);if(!(p===void 0?g7(u,d,y7|b7,o,f):p))return!1}}return!0}var C7=w7,k7=Or;function x7(t){return t===t&&!k7(t)}var N2=x7,S7=N2,E7=m2;function _7(t){for(var e=E7(t),n=e.length;n--;){var o=e[n],r=t[o];e[n]=[o,r,S7(r)]}return e}var A7=_7;function T7(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var I2=T7,M7=C7,O7=A7,v7=I2;function N7(t){var e=O7(t);return e.length==1&&e[0][2]?v7(e[0][0],e[0][1]):function(n){return n===t||M7(n,t,e)}}var I7=N7,B7=Ai,R7=Nr,P7="[object Symbol]";function D7(t){return typeof t=="symbol"||R7(t)&&B7(t)==P7}var Ac=D7,$7=qn,L7=Ac,V7=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,F7=/^\w*$/;function z7(t,e){if($7(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||L7(t)?!0:F7.test(t)||!V7.test(t)||e!=null&&t in Object(e)}var ih=z7,B2=Gp,H7="Expected a function";function sh(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(H7);var n=function(){var o=arguments,r=e?e.apply(this,o):o[0],s=n.cache;if(s.has(r))return s.get(r);var a=t.apply(this,o);return n.cache=s.set(r,a)||s,a};return n.cache=new(sh.Cache||B2),n}sh.Cache=B2;var U7=sh,j7=U7,W7=500;function K7(t){var e=j7(t,function(o){return n.size===W7&&n.clear(),o}),n=e.cache;return e}var G7=K7,q7=G7,Y7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J7=/\\(\\)?/g,X7=q7(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Y7,function(n,o,r,s){e.push(r?s.replace(J7,"$1"):o||n)}),e}),Z7=X7,R2=ia,Q7=qw,eP=qn,tP=Ac,P2=R2?R2.prototype:void 0,D2=P2?P2.toString:void 0;function $2(t){if(typeof t=="string")return t;if(eP(t))return Q7(t,$2)+"";if(tP(t))return D2?D2.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var L2=$2,nP=L2;function oP(t){return t==null?"":nP(t)}var V2=oP,rP=qn,iP=ih,sP=Z7,aP=V2;function lP(t,e){return rP(t)?t:iP(t,e)?[t]:sP(aP(t))}var F2=lP,cP=Ac;function dP(t){if(typeof t=="string"||cP(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Tc=dP,uP=F2,fP=Tc;function pP(t,e){e=uP(e,t);for(var n=0,o=e.length;t!=null&&n<o;)t=t[fP(e[n++])];return n&&n==o?t:void 0}var z2=pP,hP=z2;function mP(t,e,n){var o=t==null?void 0:hP(t,e);return o===void 0?n:o}var gP=mP;function yP(t,e){return t!=null&&e in Object(t)}var bP=yP,wP=F2,CP=Yp,kP=qn,xP=c2,SP=Xp,EP=Tc;function _P(t,e,n){e=wP(e,t);for(var o=-1,r=e.length,s=!1;++o<r;){var a=EP(e[o]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++o!=r?s:(r=t==null?0:t.length,!!r&&SP(r)&&xP(a,r)&&(kP(t)||CP(t)))}var AP=_P,TP=bP,MP=AP;function OP(t,e){return t!=null&&MP(t,e,TP)}var vP=OP,NP=rh,IP=gP,BP=vP,RP=ih,PP=N2,DP=I2,$P=Tc,LP=1,VP=2;function FP(t,e){return RP(t)&&PP(e)?DP($P(t),e):function(n){var o=IP(n,t);return o===void 0&&o===e?BP(n,t):NP(e,o,LP|VP)}}var zP=FP;function HP(t){return t}var ah=HP;function UP(t){return function(e){return e==null?void 0:e[t]}}var H2=UP,jP=z2;function WP(t){return function(e){return jP(e,t)}}var KP=WP,GP=H2,qP=KP,YP=ih,JP=Tc;function XP(t){return YP(t)?GP(JP(t)):qP(t)}var ZP=XP,QP=I7,eD=zP,tD=ah,nD=qn,oD=ZP;function rD(t){return typeof t=="function"?t:t==null?tD:typeof t=="object"?nD(t)?eD(t[0],t[1]):QP(t):oD(t)}var iD=rD;function sD(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var aD=sD,lD=aD,U2=Math.max;function cD(t,e,n){return e=U2(e===void 0?t.length-1:e,0),function(){for(var o=arguments,r=-1,s=U2(o.length-e,0),a=Array(s);++r<s;)a[r]=o[e+r];r=-1;for(var l=Array(e+1);++r<e;)l[r]=o[r];return l[e]=n(a),lD(t,this,l)}}var dD=cD;function uD(t){return function(){return t}}var fD=uD,pD=vr,hD=function(){try{var t=pD(Object,"defineProperty");return t({},"",{}),t}catch{}}(),mD=hD,gD=fD,j2=mD,yD=ah,bD=j2?function(t,e){return j2(t,"toString",{configurable:!0,enumerable:!1,value:gD(e),writable:!0})}:yD,wD=bD,CD=800,kD=16,xD=Date.now;function SD(t){var e=0,n=0;return function(){var o=xD(),r=kD-(o-n);if(n=o,r>0){if(++e>=CD)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var ED=SD,_D=wD,AD=ED,TD=AD(_D),MD=TD,OD=ah,vD=dD,ND=MD;function ID(t,e){return ND(vD(t,e,OD),t+"")}var BD=ID,RD=h2,PD=Nr;function DD(t){return PD(t)&&RD(t)}var $D=DD;function LD(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var VD=LD,FD=MN,zD=GN,HD=iD,UD=BD,lh=$D,jD=VD,WD=UD(function(t,e){var n=jD(e);return lh(n)&&(n=void 0),lh(t)?FD(t,zD(e,1,lh,!0),HD(n)):[]}),KD=WD;const GD=ra(KD);var qD=rh;function YD(t,e){return qD(t,e)}var JD=YD;const XD=ra(JD);var ZD=_n,QD=function(){return ZD.Date.now()},e$=QD,t$=/\s/;function n$(t){for(var e=t.length;e--&&t$.test(t.charAt(e)););return e}var o$=n$,r$=o$,i$=/^\s+/;function s$(t){return t&&t.slice(0,r$(t)+1).replace(i$,"")}var a$=s$,l$=a$,W2=Or,c$=Ac,K2=NaN,d$=/^[-+]0x[0-9a-f]+$/i,u$=/^0b[01]+$/i,f$=/^0o[0-7]+$/i,p$=parseInt;function h$(t){if(typeof t=="number")return t;if(c$(t))return K2;if(W2(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=W2(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=l$(t);var n=u$.test(t);return n||f$.test(t)?p$(t.slice(2),n?2:8):d$.test(t)?K2:+t}var G2=h$,m$=Or,ch=e$,q2=G2,g$="Expected a function",y$=Math.max,b$=Math.min;function w$(t,e,n){var o,r,s,a,l,c,d=0,u=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(g$);e=q2(e)||0,m$(n)&&(u=!!n.leading,f="maxWait"in n,s=f?y$(q2(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p);function h(S){var E=o,T=r;return o=r=void 0,d=S,a=t.apply(T,E),a}function m(S){return d=S,l=setTimeout(b,e),u?h(S):a}function g(S){var E=S-c,T=S-d,_=e-E;return f?b$(_,s-T):_}function y(S){var E=S-c,T=S-d;return c===void 0||E>=e||E<0||f&&T>=s}function b(){var S=ch();if(y(S))return C(S);l=setTimeout(b,g(S))}function C(S){return l=void 0,p&&o?h(S):(o=r=void 0,a)}function k(){l!==void 0&&clearTimeout(l),d=0,o=c=r=l=void 0}function w(){return l===void 0?a:C(ch())}function x(){var S=ch(),E=y(S);if(o=arguments,r=this,c=S,E){if(l===void 0)return m(c);if(f)return clearTimeout(l),l=setTimeout(b,e),h(c)}return l===void 0&&(l=setTimeout(b,e)),a}return x.cancel=k,x.flush=w,x}var Y2=w$;const J2=ra(Y2);var C$=Y2,k$=Or,x$="Expected a function";function S$(t,e,n){var o=!0,r=!0;if(typeof t!="function")throw new TypeError(x$);return k$(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),C$(t,e,{leading:o,maxWait:e,trailing:r})}var E$=S$;const Mc=ra(E$);function _$(t,e,n){var o=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(r);++o<r;)s[o]=t[o+e];return s}var A$=_$,T$=A$;function M$(t,e,n){var o=t.length;return n=n===void 0?o:n,!e&&n>=o?t:T$(t,e,n)}var O$=M$,v$="\\ud800-\\udfff",N$="\\u0300-\\u036f",I$="\\ufe20-\\ufe2f",B$="\\u20d0-\\u20ff",R$=N$+I$+B$,P$="\\ufe0e\\ufe0f",D$="\\u200d",$$=RegExp("["+D$+v$+R$+P$+"]");function L$(t){return $$.test(t)}var dh=L$,V$=Ai,F$=Nr,z$="[object RegExp]";function H$(t){return F$(t)&&V$(t)==z$}var U$=H$,j$=U$,W$=qp,X2=d2,Z2=X2&&X2.isRegExp,K$=Z2?W$(Z2):j$,G$=K$,q$=H2,Y$=q$("length"),J$=Y$,Q2="\\ud800-\\udfff",X$="\\u0300-\\u036f",Z$="\\ufe20-\\ufe2f",Q$="\\u20d0-\\u20ff",eL=X$+Z$+Q$,tL="\\ufe0e\\ufe0f",nL="["+Q2+"]",uh="["+eL+"]",fh="\\ud83c[\\udffb-\\udfff]",oL="(?:"+uh+"|"+fh+")",eC="[^"+Q2+"]",tC="(?:\\ud83c[\\udde6-\\uddff]){2}",nC="[\\ud800-\\udbff][\\udc00-\\udfff]",rL="\\u200d",oC=oL+"?",rC="["+tL+"]?",iL="(?:"+rL+"(?:"+[eC,tC,nC].join("|")+")"+rC+oC+")*",sL=rC+oC+iL,aL="(?:"+[eC+uh+"?",uh,tC,nC,nL].join("|")+")",iC=RegExp(fh+"(?="+fh+")|"+aL+sL,"g");function lL(t){for(var e=iC.lastIndex=0;iC.test(t);)++e;return e}var cL=lL,dL=J$,uL=dh,fL=cL;function pL(t){return uL(t)?fL(t):dL(t)}var hL=pL;function mL(t){return t.split("")}var gL=mL,sC="\\ud800-\\udfff",yL="\\u0300-\\u036f",bL="\\ufe20-\\ufe2f",wL="\\u20d0-\\u20ff",CL=yL+bL+wL,kL="\\ufe0e\\ufe0f",xL="["+sC+"]",ph="["+CL+"]",hh="\\ud83c[\\udffb-\\udfff]",SL="(?:"+ph+"|"+hh+")",aC="[^"+sC+"]",lC="(?:\\ud83c[\\udde6-\\uddff]){2}",cC="[\\ud800-\\udbff][\\udc00-\\udfff]",EL="\\u200d",dC=SL+"?",uC="["+kL+"]?",_L="(?:"+EL+"(?:"+[aC,lC,cC].join("|")+")"+uC+dC+")*",AL=uC+dC+_L,TL="(?:"+[aC+ph+"?",ph,lC,cC,xL].join("|")+")",ML=RegExp(hh+"(?="+hh+")|"+TL+AL,"g");function OL(t){return t.match(ML)||[]}var vL=OL,NL=gL,IL=dh,BL=vL;function RL(t){return IL(t)?BL(t):NL(t)}var PL=RL,DL=G2,$L=1/0,LL=17976931348623157e292;function VL(t){if(!t)return t===0?t:0;if(t=DL(t),t===$L||t===-1/0){var e=t<0?-1:1;return e*LL}return t===t?t:0}var FL=VL,zL=FL;function HL(t){var e=zL(t),n=e%1;return e===e?n?e-n:e:0}var UL=HL,fC=L2,jL=O$,WL=dh,KL=Or,GL=G$,qL=hL,YL=PL,JL=UL,pC=V2,XL=30,ZL="...",QL=/\w*$/;function e9(t,e){var n=XL,o=ZL;if(KL(e)){var r="separator"in e?e.separator:r;n="length"in e?JL(e.length):n,o="omission"in e?fC(e.omission):o}t=pC(t);var s=t.length;if(WL(t)){var a=YL(t);s=a.length}if(n>=s)return t;var l=n-qL(o);if(l<1)return o;var c=a?jL(a,0,l).join(""):t.slice(0,l);if(r===void 0)return c+o;if(a&&(l+=c.length-l),GL(r)){if(t.slice(l).search(r)){var d,u=c;for(r.global||(r=RegExp(r.source,pC(QL.exec(r))+"g")),r.lastIndex=0;d=r.exec(u);)var f=d.index;c=c.slice(0,f===void 0?l:f)}}else if(t.indexOf(fC(r),l)!=l){var p=c.lastIndexOf(r);p>-1&&(c=c.slice(0,p))}return c+o}var t9=e9;const n9=ra(t9),Oc=(t,e="px")=>{if(!t)return t;const n=mh(t)?String(t):t,o=parseFloat(n),r=n.match(/[a-zA-Z%]+$/),s=r?r[0]:e;return isNaN(o)?t:o+s};function o9(t,e,n){return t<e?e:t>n?n:t}const mh=t=>typeof t=="number",r9=t=>typeof t=="function";function we(t,e){const{extensions:n=[]}=t.extensionManager??{};return!!n.find(r=>r.name===e)}const hC={"editor.remove":"","editor.copy":"","editor.words":"","editor.characters":"","editor.default":"","editor.recent":"","editor.moremark":"","editor.nofill":"","editor.format":"","editor.close":"","editor.modify":"","editor.preview.tooltip":"","editor.draghandle.tooltip":"","editor.copyToClipboard":"","editor.importWord.tooltip":"Word","editor.importWord.success":"","editor.importWord.fileTooLarge":"","editor.importWord.error":",","editor.slash":" '/' ","editor.slash.empty":"","editor.slash.format":"","editor.slash.insert":"","editor.slash.embed":"","editor.content":"","editor.size.small.tooltip":"","editor.size.medium.tooltip":"","editor.size.large.tooltip":"","editor.bold.tooltip":"","editor.italic.tooltip":"","editor.underline.tooltip":"","editor.strike.tooltip":"","editor.color.tooltip":"","editor.color.more":"","editor.lineheight.tooltip":"","editor.highlight.tooltip":"","editor.heading.tooltip":"","editor.heading.h1.tooltip":" 1","editor.heading.h2.tooltip":" 2","editor.heading.h3.tooltip":" 3","editor.heading.h4.tooltip":" 4","editor.heading.h5.tooltip":" 5","editor.heading.h6.tooltip":" 6","editor.paragraph.tooltip":"","editor.textalign.tooltip":"","editor.textalign.left.tooltip":"","editor.textalign.center.tooltip":"","editor.textalign.right.tooltip":"","editor.textalign.justify.tooltip":"","editor.fontFamily.tooltip":"","editor.fontFamily.default":"","editor.fontSize.tooltip":"","editor.fontSize.default.tooltip":"","editor.superscript.tooltip":"","editor.subscript.tooltip":"","editor.bulletlist.tooltip":"","editor.bulletlist.disc.tooltip":"","editor.bulletlist.circle.tooltip":"","editor.bulletlist.square.tooltip":"","editor.orderedlist.tooltip":"","editor.orderedlist.decimal.tooltip":"","editor.orderedlist.decimalLeadingZero.tooltip":"","editor.orderedlist.lowerRoman.tooltip":"","editor.orderedlist.upperRoman.tooltip":"","editor.orderedlist.lowerLatin.tooltip":"","editor.orderedlist.upperLatin.tooltip":"","editor.orderedlist.tradChineseInformal.tooltip":"","editor.orderedlist.simpChineseFormal.tooltip":"","editor.tasklist.tooltip":"","editor.indent":"","editor.indent.tooltip":"","editor.outdent.tooltip":"","editor.columns.tooltip":"","editor.link.tooltip":"","editor.link.unlink.tooltip":"","editor.link.open.tooltip":"","editor.link.edit.tooltip":"","editor.link.dialog.title":"","editor.link.dialog.link":"","editor.link.dialog.text":"","editor.link.dialog.openInNewTab":"","editor.link.dialog.link.placeholder":"","editor.link.dialog.text.placeholder":"","editor.link.dialog.button.apply":"","editor.image.tooltip":"","editor.image.menu.flipX":"","editor.image.menu.flipY":"","editor.image.menu.size":"","editor.image.menu.size.width":"","editor.image.menu.size.height":"","editor.image.dragger.tooltip":"","editor.image.float.left.tooltip":"","editor.image.float.none.tooltip":"","editor.image.float.right.tooltip":"","editor.image.dialog.title":"","editor.image.dialog.tab.url":"","editor.image.dialog.tab.upload":"","editor.image.dialog.uploading":"","editor.image.dialog.form.link":"","editor.image.dialog.placeholder":"","editor.image.dialog.form.alt":"","editor.image.dialog.form.aspectRatio":"","editor.image.dialog.form.file":"","editor.image.dialog.button.apply":"","editor.video.tooltip":"","editor.video.dialog.tab.upload":"","editor.video.dialog.uploading":"","editor.video.dialog.title":"","editor.video.dialog.link":"","editor.video.dialog.placeholder":"","editor.video.dialog.button.apply":"","editor.table.tooltip":"","editor.table.menu.insert_table":"","editor.table.menu.insert_table.with_header_row":"","editor.table.menu.insertColumnBefore":"","editor.table.menu.insertColumnAfter":"","editor.table.menu.deleteColumn":"","editor.table.menu.insertRowAbove":"","editor.table.menu.insertRowBelow":"","editor.table.menu.deleteRow":"","editor.table.menu.mergeCells":"","editor.table.menu.splitCells":"","editor.table.menu.deleteTable":"","editor.table.menu.setCellsBgColor":"","editor.blockquote.tooltip":"","editor.horizontalrule.tooltip":"","editor.code.tooltip":"","editor.codeblock.tooltip":"","editor.clear.tooltip":"","editor.undo.tooltip":"","editor.redo.tooltip":"","editor.fullscreen.tooltip.fullscreen":"","editor.fullscreen.tooltip.exit":"","editor.imageUpload.fileTypeNotSupported":"","editor.imageUpload.fileSizeTooBig":", ","editor.AI.placeholder":" ...","editor.AI.generating":"","editor.AI.insert":"","editor.AI.replace":"","editor.AI.regenerate":"","editor.AI.close":"","editor.AI.stop":"","editor.AI.ask":"","editor.AI.error":"AI ","editor.AI.editorNotFound":"","editor.AI.noSelection":"","editor.AI.unknownError":"","editor.AI.noCachedPrompt":"","editor.AI.regenerateError":"","editor.AI.shortcutError":"","editor.menubar.file":"","editor.menubar.edit":"","editor.menubar.view":"","editor.menubar.insert":"","editor.menubar.format":"","editor.menubar.menu.newDoc":"","editor.menubar.menu.restoreLastDraft":"","editor.menubar.menu.print":"","editor.menubar.menu.cut":"","editor.menubar.menu.copy":"","editor.menubar.menu.paste":"","editor.menubar.menu.pasteAsText":"","editor.menubar.menu.selectAll":"","editor.menubar.menu.preview":"","editor.menubar.menu.spellCheck":"","editor.findAndReplace.tooltip":"","editor.findAndReplace.find":"","editor.findAndReplace.replace":"","editor.findAndReplace.replaceAll":"","editor.findAndReplace.caseSensitive":"","editor.printer.tooltip":"","editor.AI.shortcuts.generate.title":"","editor.AI.shortcuts.generate.improve":"","editor.AI.shortcuts.generate.shorter":"","editor.AI.shortcuts.generate.longer":"","editor.AI.shortcuts.generate.summarize":"","editor.AI.shortcuts.generate.continue":"","editor.AI.shortcuts.tone.title":"","editor.AI.shortcuts.tone.professional":"","editor.AI.shortcuts.tone.casual":"","editor.AI.shortcuts.tone.direct":"","editor.AI.shortcuts.tone.confident":"","editor.AI.shortcuts.tone.friendly":"","editor.AI.shortcuts.translate.title":"","editor.AI.shortcuts.translate.english":"","editor.AI.shortcuts.translate.chinese":"","editor.AI.shortcuts.translate.spanish":"","editor.AI.shortcuts.translate.german":"","editor.AI.shortcuts.translate.french":"","editor.AI.shortcuts.translate.portuguese":"","editor.AI.shortcuts.translate.korean":"","editor.AI.shortcuts.translate.japanese":"","editor.AI.shortcuts.translate.hindi":"","editor.AI.shortcuts.translate.russian":"","editor.AI.shortcuts.translate.arabic":"","editor.AI.shortcuts.style.title":"","editor.AI.shortcuts.style.business":"","editor.AI.shortcuts.style.legal":"","editor.AI.shortcuts.style.journalism":"","editor.AI.shortcuts.style.medical":"","editor.AI.shortcuts.style.poetic":"","editor.codeblock.selectLang":"","editor.codeblock.copy":"","editor.codeblock.lineNumbers":"/","editor.codeblock.wordWrap":"","editor.codeblock.tabSize":""},mC={"editor.remove":"Remove","editor.copy":"Copy","editor.words":"WORDS","editor.characters":"CHARACTERS","editor.default":"Default","editor.recent":"Recently Used","editor.nofill":"Remove Color","editor.format":"Format Painter","editor.close":"Close","editor.modify":"Modify","editor.preview.tooltip":"Preview","editor.draghandle.tooltip":"Click And Drag","editor.copyToClipboard":"CopyToClipboard","editor.importWord.tooltip":"Import from Word","editor.importWord.success":"Import Success","editor.importWord.fileTooLarge":"File is Too large","editor.importWord.error":"Import Failed, File not supported","editor.slash":"Press '/' for commands","editor.slash.empty":"No Result","editor.slash.format":"Format","editor.slash.insert":"Insert","editor.slash.embed":"Embed Services","editor.content":"Please input content","editor.moremark":"More Text Styles","editor.size.small.tooltip":"Small","editor.size.medium.tooltip":"Medium","editor.size.large.tooltip":"Cover","editor.bold.tooltip":"Bold","editor.italic.tooltip":"Italic","editor.underline.tooltip":"Underline","editor.strike.tooltip":"Strike","editor.color.tooltip":"Color","editor.color.more":"Color Picker","editor.highlight.tooltip":"Highlight","editor.lineheight.tooltip":"Line Height","editor.heading.tooltip":"Headings","editor.heading.h1.tooltip":"Heading 1","editor.heading.h2.tooltip":"Heading 2","editor.heading.h3.tooltip":"Heading 3","editor.heading.h4.tooltip":"Heading 4","editor.heading.h5.tooltip":"Heading 5","editor.heading.h6.tooltip":"Heading 6","editor.paragraph.tooltip":"Paragraph","editor.textalign.tooltip":"Align","editor.textalign.left.tooltip":"Left","editor.textalign.center.tooltip":"Center","editor.textalign.right.tooltip":"Right","editor.textalign.justify.tooltip":"Justify","editor.indent":"Indent","editor.indent.indent":"Increase Indent","editor.indent.outdent":"Decrease Indent","editor.fontFamily.tooltip":"Font family","editor.fontFamily.default":"Default","editor.fontSize.tooltip":"Font size","editor.fontSize.default.tooltip":"Default","editor.superscript.tooltip":"Superscript","editor.subscript.tooltip":"Subscript","editor.bulletlist.tooltip":"Bullet List","editor.bulletlist.disc.tooltip":"Disc","editor.bulletlist.circle.tooltip":"Circle","editor.bulletlist.square.tooltip":"Square","editor.orderedlist.tooltip":"Ordered List","editor.orderedlist.decimal.tooltip":"Decimal","editor.orderedlist.decimalLeadingZero.tooltip":"Decimal with leading zero","editor.orderedlist.lowerRoman.tooltip":"Lower Roman","editor.orderedlist.upperRoman.tooltip":"Upper Roman","editor.orderedlist.lowerLatin.tooltip":"Lower Latin","editor.orderedlist.upperLatin.tooltip":"Upper Latin","editor.orderedlist.tradChineseInformal.tooltip":"Trad Chinese Informal","editor.orderedlist.simpChineseFormal.tooltip":"Simp Chinese Informal","editor.tasklist.tooltip":"Task List","editor.indent.tooltip":"Indent","editor.outdent.tooltip":"Outdent","editor.columns.tooltip":"Columns","editor.link.tooltip":"Link","editor.link.unlink.tooltip":"UnLink","editor.link.open.tooltip":"Open Link","editor.link.edit.tooltip":"Edit Link","editor.link.dialog.title":"Insert Link","editor.link.dialog.link":"Link","editor.link.dialog.text":"Text","editor.link.dialog.openInNewTab":"Open In New Tab","editor.link.dialog.link.placeholder":"Link Address","editor.link.dialog.text.placeholder":"Add Description","editor.link.dialog.button.apply":"Apply","editor.image.tooltip":"Image","editor.image.menu.flipX":"Flip vertical","editor.image.menu.flipY":"Flip horizontal","editor.image.menu.size":"Set Size","editor.image.menu.size.width":"Width","editor.image.menu.size.height":"Height","editor.image.dragger.tooltip":"Click or drag the image to the area to upload","editor.image.float.left.tooltip":"Float left","editor.image.float.none.tooltip":"Float none","editor.image.float.right.tooltip":"Float right","editor.image.dialog.title":"Add an image","editor.image.dialog.tab.url":"Url","editor.image.dialog.tab.upload":"Upload","editor.image.dialog.uploading":"Uploading","editor.image.dialog.form.link":"Link","editor.image.dialog.placeholder":"Link","editor.image.dialog.form.alt":"Alt","editor.image.dialog.form.aspectRatio":"Lock original aspect ratio","editor.image.dialog.form.file":"File","editor.image.dialog.button.apply":"apply","editor.video.tooltip":"Video","editor.video.dialog.tab.upload":"Upload","editor.video.dialog.uploading":"Uploading","editor.video.dialog.title":"Embed or upload a video","editor.video.dialog.link":"link","editor.video.dialog.placeholder":"Link","editor.video.dialog.button.apply":"apply","editor.table.tooltip":"Table","editor.table.menu.insert_table":"Insert Table","editor.table.menu.insert_table.with_header_row":"With header row","editor.table.menu.insertColumnBefore":"Insert Column Before","editor.table.menu.insertColumnAfter":"Insert Column After","editor.table.menu.deleteColumn":"Delete Column","editor.table.menu.insertRowAbove":"Insert Row Above","editor.table.menu.insertRowBelow":"Insert Row Below","editor.table.menu.deleteRow":"Delete Row","editor.table.menu.mergeCells":"Merge Cells","editor.table.menu.splitCells":"Split Cells","editor.table.menu.deleteTable":"Delete Table","editor.table.menu.setCellsBgColor":"Cell Background Color","editor.blockquote.tooltip":"Blockquote","editor.horizontalrule.tooltip":"Horizontal Rule","editor.code.tooltip":"Code","editor.codeblock.tooltip":"Code Block","editor.clear.tooltip":"Clear Format","editor.undo.tooltip":"Undo","editor.redo.tooltip":"Redo","editor.fullscreen.tooltip.fullscreen":"Fullscreen","editor.fullscreen.tooltip.exit":"Fullscreen Exit","editor.imageUpload.fileTypeNotSupported":"File type not supported","editor.imageUpload.fileSizeTooBig":"File size too big, Maximum size is","editor.AI.placeholder":"Ask AI ...","editor.AI.generating":"Generating","editor.AI.insert":"Insert below selection","editor.AI.replace":"Replace selected content","editor.AI.regenerate":"Regenerate","editor.AI.close":"Close","editor.AI.stop":"Stop","editor.AI.ask":"Ask AI","editor.AI.error":"AI Error","editor.AI.editorNotFound":"Editor not found","editor.AI.noSelection":"Please select some text first","editor.AI.unknownError":"An unknown error occurred","editor.AI.noCachedPrompt":"No cached prompt found","editor.AI.regenerateError":"Failed to regenerate response","editor.AI.shortcutError":"Failed to execute shortcut","editor.menubar.file":"File","editor.menubar.edit":"Edit","editor.menubar.view":"View","editor.menubar.insert":"Insert","editor.menubar.format":"Format","editor.menubar.menu.newDoc":"New Document","editor.menubar.menu.restoreLastDraft":"Restore last draft","editor.menubar.menu.print":"Print","editor.menubar.menu.cut":"Cut","editor.menubar.menu.copy":"Copy","editor.menubar.menu.paste":"Paste","editor.menubar.menu.pasteAsText":"Paste as text","editor.menubar.menu.selectAll":"Select all","editor.menubar.menu.preview":"Preview","editor.menubar.menu.spellCheck":"Spell check","editor.findAndReplace.tooltip":"Find and replace","editor.findAndReplace.find":"Find","editor.findAndReplace.replace":"Replace","editor.findAndReplace.replaceAll":"Replace All","editor.findAndReplace.caseSensitive":"Case Sensitive","editor.printer.tooltip":"Print","editor.AI.shortcuts.generate.title":"Generate from selection","editor.AI.shortcuts.generate.improve":"Improve writing","editor.AI.shortcuts.generate.shorter":"Make shorter","editor.AI.shortcuts.generate.longer":"Make longer","editor.AI.shortcuts.generate.summarize":"Summarize","editor.AI.shortcuts.generate.continue":"Continue","editor.AI.shortcuts.tone.title":"Change Tone","editor.AI.shortcuts.tone.professional":"Professional","editor.AI.shortcuts.tone.casual":"Casual","editor.AI.shortcuts.tone.direct":"Direct","editor.AI.shortcuts.tone.confident":"Confident","editor.AI.shortcuts.tone.friendly":"Friendly","editor.AI.shortcuts.translate.title":"Translate","editor.AI.shortcuts.translate.english":"English","editor.AI.shortcuts.translate.chinese":"Simplified Chinese","editor.AI.shortcuts.translate.spanish":"Spanish","editor.AI.shortcuts.translate.german":"German","editor.AI.shortcuts.translate.french":"French","editor.AI.shortcuts.translate.portuguese":"Portuguese","editor.AI.shortcuts.translate.korean":"Korean","editor.AI.shortcuts.translate.japanese":"Japanese","editor.AI.shortcuts.translate.hindi":"Hindi","editor.AI.shortcuts.translate.russian":"Russian","editor.AI.shortcuts.translate.arabic":"Arabic","editor.AI.shortcuts.style.title":"Change Style","editor.AI.shortcuts.style.business":"Business","editor.AI.shortcuts.style.legal":"Legal","editor.AI.shortcuts.style.journalism":"Journalism","editor.AI.shortcuts.style.medical":"Medical","editor.AI.shortcuts.style.poetic":"Poetic","editor.codeblock.selectLang":"Select Language","editor.codeblock.copy":"Copy Code","editor.codeblock.lineNumbers":"Toggle Line Numbers","editor.codeblock.wordWrap":"Toggle Word Wrap","editor.codeblock.tabSize":"Tab Size"};function i9(t){return t=t||new Map,{all:t,on(e,n){const o=t.get(e);o?o.push(n):t.set(e,[n])},off(e,n){const o=t.get(e);o&&(n?o.splice(o.indexOf(n)>>>0,1):t.set(e,[]))},emit(e,n){let o=t.get(e);o&&o.slice().map(r=>{r(n)}),o=t.get("*"),o&&o.slice().map(r=>{r(e,n)})}}}const Ii={lang:Nw,message:{zhHans:hC,en:mC}};class s9{constructor(){Cl(this,"emitter");this.emitter=i9()}get lang(){return Ii.lang}set lang(e){if(!this.isLangSupported(e)){console.warn(`Can't find the current language "${e}", Using language "${Ii.lang}" by default`);return}Ii.lang=e,this.emitter.emit("lang",e)}get message(){return Ii.message}set message(e){Ii.message=e}loadLangMessage(e){return this.message[e]}isLangSupported(e){return Object.keys(this.message).includes(e)}setLang(e){this.lang=e}registerWatchLang(e){return this.emitter.on("lang",e),{unsubscribe:()=>{this.emitter.off("lang",e)}}}setMessage(e,n){this.message[e]=n}buildLocalesHandler(e){e||(e=this.lang);const n=this.loadLangMessage(e);return function(r){return n[r]||r}}}const gh=new s9,Ee=()=>{const t=i.ref(Ii.lang),e=i.computed(()=>gh.buildLocalesHandler(i.unref(t)));return i.watchEffect(n=>{const o=gh.registerWatchLang(r=>{t.value=r});n(()=>{o.unsubscribe()})}),{lang:t,t:e}},a9=i.reactive({extensions:[]});function l9(){return{state:a9}}function Bi(t){return i.getCurrentScope()?(i.onScopeDispose(t),!0):!1}function c9(){const t=new Set,e=r=>{t.delete(r)};return{on:r=>{t.add(r);const s=()=>e(r);return Bi(s),{off:s}},off:e,trigger:(...r)=>Promise.all(Array.from(t).map(s=>s(...r)))}}function d9(t){let e=!1,n;const o=i.effectScope(!0);return(...r)=>(e||(n=o.run(()=>t(...r)),e=!0),n)}function Ri(t){return typeof t=="function"?t():i.unref(t)}const yh=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const u9=t=>typeof t<"u",gC=t=>t!=null,f9=Object.prototype.toString,p9=t=>f9.call(t)==="[object Object]",Po=()=>{},h9=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),m9=g9();function g9(){var t,e;return yh&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function y9(t,e){function n(...o){return new Promise((r,s)=>{Promise.resolve(t(()=>e.apply(this,o),{fn:e,thisArg:this,args:o})).then(r).catch(s)})}return n}const yC=t=>t();function b9(t=yC){const e=i.ref(!0);function n(){e.value=!1}function o(){e.value=!0}const r=(...s)=>{e.value&&t(...s)};return{isActive:i.readonly(e),pause:n,resume:o,eventFilter:r}}function w9(t){return i.getCurrentInstance()}function C9(...t){if(t.length!==1)return i.toRef(...t);const e=t[0];return typeof e=="function"?i.readonly(i.customRef(()=>({get:e,set:Po}))):i.ref(e)}function k9(t,e,n={}){const{eventFilter:o=yC,...r}=n;return i.watch(t,y9(o,e),r)}function x9(t,e,n={}){const{eventFilter:o,...r}=n,{eventFilter:s,pause:a,resume:l,isActive:c}=b9(o);return{stop:k9(t,e,{...r,eventFilter:s}),pause:a,resume:l,isActive:c}}function bh(t,e=!0,n){w9()?i.onMounted(t,n):e?t():i.nextTick(t)}function yt(t){var e;const n=Ri(t);return(e=n==null?void 0:n.$el)!=null?e:n}const Yt=yh?window:void 0,S9=yh?window.document:void 0;function Yn(...t){let e,n,o,r;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,o,r]=t,e=Yt):[e,n,o,r]=t,!e)return Po;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const s=[],a=()=>{s.forEach(u=>u()),s.length=0},l=(u,f,p,h)=>(u.addEventListener(f,p,h),()=>u.removeEventListener(f,p,h)),c=i.watch(()=>[yt(e),Ri(r)],([u,f])=>{if(a(),!u)return;const p=p9(f)?{...f}:f;s.push(...n.flatMap(h=>o.map(m=>l(u,h,m,p))))},{immediate:!0,flush:"post"}),d=()=>{c(),a()};return Bi(d),d}let bC=!1;function E9(t,e,n={}){const{window:o=Yt,ignore:r=[],capture:s=!0,detectIframe:a=!1}=n;if(!o)return Po;m9&&!bC&&(bC=!0,Array.from(o.document.body.children).forEach(p=>p.addEventListener("click",Po)),o.document.documentElement.addEventListener("click",Po));let l=!0;const c=p=>r.some(h=>{if(typeof h=="string")return Array.from(o.document.querySelectorAll(h)).some(m=>m===p.target||p.composedPath().includes(m));{const m=yt(h);return m&&(p.target===m||p.composedPath().includes(m))}}),u=[Yn(o,"click",p=>{const h=yt(t);if(!(!h||h===p.target||p.composedPath().includes(h))){if(p.detail===0&&(l=!c(p)),!l){l=!0;return}e(p)}},{passive:!0,capture:s}),Yn(o,"pointerdown",p=>{const h=yt(t);l=!c(p)&&!!(h&&!p.composedPath().includes(h))},{passive:!0}),a&&Yn(o,"blur",p=>{setTimeout(()=>{var h;const m=yt(t);((h=o.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!(m!=null&&m.contains(o.document.activeElement))&&e(p)},0)})].filter(Boolean);return()=>u.forEach(p=>p())}function _9(){const t=i.ref(!1),e=i.getCurrentInstance();return e&&i.onMounted(()=>{t.value=!0},e),t}function vc(t){const e=_9();return i.computed(()=>(e.value,!!t()))}function A9(t,e,n={}){const{window:o=Yt,...r}=n;let s;const a=vc(()=>o&&"MutationObserver"in o),l=()=>{s&&(s.disconnect(),s=void 0)},c=i.computed(()=>{const p=Ri(t),h=(Array.isArray(p)?p:[p]).map(yt).filter(gC);return new Set(h)}),d=i.watch(()=>c.value,p=>{l(),a.value&&p.size&&(s=new MutationObserver(e),p.forEach(h=>s.observe(h,r)))},{immediate:!0,flush:"post"}),u=()=>s==null?void 0:s.takeRecords(),f=()=>{l(),d()};return Bi(f),{isSupported:a,stop:f,takeRecords:u}}function T9(t,e={}){const{window:n=Yt}=e,o=vc(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const s=i.ref(!1),a=d=>{s.value=d.matches},l=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",a):r.removeListener(a))},c=i.watchEffect(()=>{o.value&&(l(),r=n.matchMedia(Ri(t)),"addEventListener"in r?r.addEventListener("change",a):r.addListener(a),s.value=r.matches)});return Bi(()=>{c(),l(),r=void 0}),s}function M9(t){return JSON.parse(JSON.stringify(t))}const Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ic="__vueuse_ssr_handlers__",O9=v9();function v9(){return Ic in Nc||(Nc[Ic]=Nc[Ic]||{}),Nc[Ic]}function wC(t,e){return O9[t]||e}function N9(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const I9={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},CC="vueuse-storage";function kC(t,e,n,o={}){var r;const{flush:s="pre",deep:a=!0,listenToStorageChanges:l=!0,writeDefaults:c=!0,mergeDefaults:d=!1,shallow:u,window:f=Yt,eventFilter:p,onError:h=A=>{console.error(A)},initOnMounted:m}=o,g=(u?i.shallowRef:i.ref)(typeof e=="function"?e():e);if(!n)try{n=wC("getDefaultStorage",()=>{var A;return(A=Yt)==null?void 0:A.localStorage})()}catch(A){h(A)}if(!n)return g;const y=Ri(e),b=N9(y),C=(r=o.serializer)!=null?r:I9[b],{pause:k,resume:w}=x9(g,()=>S(g.value),{flush:s,deep:a,eventFilter:p});f&&l&&bh(()=>{Yn(f,"storage",T),Yn(f,CC,_),m&&T()}),m||T();function x(A,M){f&&f.dispatchEvent(new CustomEvent(CC,{detail:{key:t,oldValue:A,newValue:M,storageArea:n}}))}function S(A){try{const M=n.getItem(t);if(A==null)x(M,null),n.removeItem(t);else{const v=C.write(A);M!==v&&(n.setItem(t,v),x(M,v))}}catch(M){h(M)}}function E(A){const M=A?A.newValue:n.getItem(t);if(M==null)return c&&y!=null&&n.setItem(t,C.write(y)),y;if(!A&&d){const v=C.read(M);return typeof d=="function"?d(v,y):b==="object"&&!Array.isArray(v)?{...y,...v}:v}else return typeof M!="string"?M:C.read(M)}function T(A){if(!(A&&A.storageArea!==n)){if(A&&A.key==null){g.value=y;return}if(!(A&&A.key!==t)){k();try{(A==null?void 0:A.newValue)!==C.write(g.value)&&(g.value=E(A))}catch(M){h(M)}finally{A?i.nextTick(w):w()}}}}function _(A){T(A.detail)}return g}function xC(t){return T9("(prefers-color-scheme: dark)",t)}function B9(t={}){const{selector:e="html",attribute:n="class",initialValue:o="auto",window:r=Yt,storage:s,storageKey:a="vueuse-color-scheme",listenToStorageChanges:l=!0,storageRef:c,emitAuto:d,disableTransition:u=!0}=t,f={auto:"",light:"light",dark:"dark",...t.modes||{}},p=xC({window:r}),h=i.computed(()=>p.value?"dark":"light"),m=c||(a==null?C9(o):kC(a,o,s,{window:r,listenToStorageChanges:l})),g=i.computed(()=>m.value==="auto"?h.value:m.value),y=wC("updateHTMLAttrs",(w,x,S)=>{const E=typeof w=="string"?r==null?void 0:r.document.querySelector(w):yt(w);if(!E)return;let T;if(u&&(T=r.document.createElement("style"),T.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),r.document.head.appendChild(T)),x==="class"){const _=S.split(/\s/g);Object.values(f).flatMap(A=>(A||"").split(/\s/g)).filter(Boolean).forEach(A=>{_.includes(A)?E.classList.add(A):E.classList.remove(A)})}else E.setAttribute(x,S);u&&(r.getComputedStyle(T).opacity,document.head.removeChild(T))});function b(w){var x;y(e,n,(x=f[w])!=null?x:w)}function C(w){t.onChanged?t.onChanged(w,b):b(w)}i.watch(g,C,{flush:"post",immediate:!0}),bh(()=>C(g.value));const k=i.computed({get(){return d?m.value:g.value},set(w){m.value=w}});try{return Object.assign(k,{store:m,system:h,state:g})}catch{return k}}function R9(t={}){const{valueDark:e="dark",valueLight:n="",window:o=Yt}=t,r=B9({...t,onChanged:(l,c)=>{var d;t.onChanged?(d=t.onChanged)==null||d.call(t,l==="dark",c,l):c(l)},modes:{dark:e,light:n}}),s=i.computed(()=>r.system?r.system.value:xC({window:o}).value?"dark":"light");return i.computed({get(){return r.value==="dark"},set(l){const c=l?"dark":"light";s.value===c?r.value="auto":r.value=c}})}function P9(t,e,n={}){const{window:o=Yt,...r}=n;let s;const a=vc(()=>o&&"ResizeObserver"in o),l=()=>{s&&(s.disconnect(),s=void 0)},c=i.computed(()=>Array.isArray(t)?t.map(f=>yt(f)):[yt(t)]),d=i.watch(c,f=>{if(l(),a.value&&o){s=new ResizeObserver(e);for(const p of f)p&&s.observe(p,r)}},{immediate:!0,flush:"post"}),u=()=>{l(),d()};return Bi(u),{isSupported:a,stop:u}}function D9(t,e={}){const{reset:n=!0,windowResize:o=!0,windowScroll:r=!0,immediate:s=!0}=e,a=i.ref(0),l=i.ref(0),c=i.ref(0),d=i.ref(0),u=i.ref(0),f=i.ref(0),p=i.ref(0),h=i.ref(0);function m(){const g=yt(t);if(!g){n&&(a.value=0,l.value=0,c.value=0,d.value=0,u.value=0,f.value=0,p.value=0,h.value=0);return}const y=g.getBoundingClientRect();a.value=y.height,l.value=y.bottom,c.value=y.left,d.value=y.right,u.value=y.top,f.value=y.width,p.value=y.x,h.value=y.y}return P9(t,m),i.watch(()=>yt(t),g=>!g&&m()),A9(t,m,{attributeFilter:["style","class"]}),r&&Yn("scroll",m,{capture:!0,passive:!0}),o&&Yn("resize",m,{passive:!0}),bh(()=>{s&&m()}),{height:a,bottom:l,left:c,right:d,top:u,width:f,x:p,y:h,update:m}}function $9(t,e,n={}){const{root:o,rootMargin:r="0px",threshold:s=.1,window:a=Yt,immediate:l=!0}=n,c=vc(()=>a&&"IntersectionObserver"in a),d=i.computed(()=>{const m=Ri(t);return(Array.isArray(m)?m:[m]).map(yt).filter(gC)});let u=Po;const f=i.ref(l),p=c.value?i.watch(()=>[d.value,yt(o),f.value],([m,g])=>{if(u(),!f.value||!m.length)return;const y=new IntersectionObserver(e,{root:yt(g),rootMargin:r,threshold:s});m.forEach(b=>b&&y.observe(b)),u=()=>{y.disconnect(),u=Po}},{immediate:l,flush:"post"}):Po,h=()=>{u(),p(),f.value=!1};return Bi(h),{isSupported:c,isActive:f,pause(){u(),f.value=!1},resume(){f.value=!0},stop:h}}function L9(t,e={}){const{window:n=Yt,scrollTarget:o,threshold:r=0}=e,s=i.ref(!1);return $9(t,a=>{let l=s.value,c=0;for(const d of a)d.time>=c&&(c=d.time,l=d.isIntersecting);s.value=l},{root:o,window:n,threshold:r}),s}const V9={multiple:!0,accept:"*",reset:!1,directory:!1};function F9(t={}){const{document:e=S9}=t,n=i.ref(null),{on:o,trigger:r}=c9();let s;e&&(s=e.createElement("input"),s.type="file",s.onchange=c=>{const d=c.target;n.value=d.files,r(n.value)});const a=()=>{n.value=null,s&&s.value&&(s.value="",r(null))},l=c=>{if(!s)return;const d={...V9,...t,...c};s.multiple=d.multiple,s.accept=d.accept,s.webkitdirectory=d.directory,h9(d,"capture")&&(s.capture=d.capture),d.reset&&a(),s.click()};return{files:i.readonly(n),open:l,reset:a,onChange:o}}function wh(t,e={}){const{initialValue:n=!1,focusVisible:o=!1,preventScroll:r=!1}=e,s=i.ref(!1),a=i.computed(()=>yt(t));Yn(a,"focus",c=>{var d,u;(!o||(u=(d=c.target).matches)!=null&&u.call(d,":focus-visible"))&&(s.value=!0)}),Yn(a,"blur",()=>s.value=!1);const l=i.computed({get:()=>s.value,set(c){var d,u;!c&&s.value?(d=a.value)==null||d.blur():c&&!s.value&&((u=a.value)==null||u.focus({preventScroll:r}))}});return i.watch(a,()=>{l.value=n},{immediate:!0,flush:"post"}),{focused:l}}function z9(t,e,n={}){const{window:o=Yt}=n;return kC(t,e,o==null?void 0:o.localStorage,n)}function H9(t,e,n,o={}){var r,s,a;const{clone:l=!1,passive:c=!1,eventName:d,deep:u=!1,defaultValue:f,shouldEmit:p}=o,h=i.getCurrentInstance(),m=n||(h==null?void 0:h.emit)||((r=h==null?void 0:h.$emit)==null?void 0:r.bind(h))||((a=(s=h==null?void 0:h.proxy)==null?void 0:s.$emit)==null?void 0:a.bind(h==null?void 0:h.proxy));let g=d;g=g||`update:${e.toString()}`;const y=k=>l?typeof l=="function"?l(k):M9(k):k,b=()=>u9(t[e])?y(t[e]):f,C=k=>{p?p(k)&&m(g,k):m(g,k)};if(c){const k=b(),w=i.ref(k);let x=!1;return i.watch(()=>t[e],S=>{x||(x=!0,w.value=y(S),i.nextTick(()=>x=!1))}),i.watch(w,S=>{!x&&(S!==t[e]||u)&&C(S)},{deep:u}),w}else return i.computed({get(){return b()},set(k){C(k)}})}const Pt=d9(()=>{const{state:t}=l9(),e=i.reactive({extensions:t.extensions??[],defaultLang:Nw,isFullscreen:!1,color:void 0,highlight:void 0,AIMenu:!1,showPreview:!1,spellCheck:!1,findAndReplace:!1,printer:!1}),n=i.computed(()=>e.isFullscreen);function o(){e.isFullscreen=!e.isFullscreen}function r(){e.showPreview=!e.showPreview}function s(){e.spellCheck=!e.spellCheck}function a(){e.findAndReplace=!e.findAndReplace}function l(){e.printer=!e.printer}return i.watchEffect(()=>{e.extensions=t.extensions,e.defaultLang=t.defaultLang}),{state:e,isFullscreen:n,toggleFullscreen:o,togglePreview:r,toggleSpellCheck:s,toggleFindAndReplace:a,togglePrinter:l}}),Ch=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function kh(t,e,n,o){t.addEventListener?t.addEventListener(e,n,o):t.attachEvent&&t.attachEvent("on".concat(e),n)}function aa(t,e,n,o){t.removeEventListener?t.removeEventListener(e,n,o):t.detachEvent&&t.detachEvent("on".concat(e),n)}function SC(t,e){const n=e.slice(0,e.length-1);for(let o=0;o<n.length;o++)n[o]=t[n[o].toLowerCase()];return n}function EC(t){typeof t!="string"&&(t=""),t=t.replace(/\s/g,"");const e=t.split(",");let n=e.lastIndexOf("");for(;n>=0;)e[n-1]+=",",e.splice(n,1),n=e.lastIndexOf("");return e}function U9(t,e){const n=t.length>=e.length?t:e,o=t.length>=e.length?e:t;let r=!0;for(let s=0;s<n.length;s++)o.indexOf(n[s])===-1&&(r=!1);return r}const la={backspace:8,"":8,tab:9,clear:12,enter:13,"":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":Ch?173:189,"=":Ch?61:187,";":Ch?59:186,"'":222,"[":219,"]":221,"\\":220},An={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},Bc={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},ot={16:!1,18:!1,17:!1,91:!1},Le={};for(let t=1;t<20;t++)la["f".concat(t)]=111+t;let De=[],ca=null,_C="all";const Jn=new Map,da=t=>la[t.toLowerCase()]||An[t.toLowerCase()]||t.toUpperCase().charCodeAt(0),j9=t=>Object.keys(la).find(e=>la[e]===t),W9=t=>Object.keys(An).find(e=>An[e]===t);function AC(t){_C=t||"all"}function ua(){return _C||"all"}function K9(){return De.slice(0)}function G9(){return De.map(t=>j9(t)||W9(t)||String.fromCharCode(t))}function q9(){const t=[];return Object.keys(Le).forEach(e=>{Le[e].forEach(n=>{let{key:o,scope:r,mods:s,shortcut:a}=n;t.push({scope:r,shortcut:a,mods:s,keys:o.split("+").map(l=>da(l))})})}),t}function Y9(t){const e=t.target||t.srcElement,{tagName:n}=e;let o=!0;const r=n==="INPUT"&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(e.type);return(e.isContentEditable||(r||n==="TEXTAREA"||n==="SELECT")&&!e.readOnly)&&(o=!1),o}function J9(t){return typeof t=="string"&&(t=da(t)),De.indexOf(t)!==-1}function X9(t,e){let n,o;t||(t=ua());for(const r in Le)if(Object.prototype.hasOwnProperty.call(Le,r))for(n=Le[r],o=0;o<n.length;)n[o].scope===t?n.splice(o,1).forEach(a=>{let{element:l}=a;return xh(l)}):o++;ua()===t&&AC(e||"all")}function Z9(t){let e=t.keyCode||t.which||t.charCode;const n=De.indexOf(e);if(n>=0&&De.splice(n,1),t.key&&t.key.toLowerCase()==="meta"&&De.splice(0,De.length),(e===93||e===224)&&(e=91),e in ot){ot[e]=!1;for(const o in An)An[o]===e&&(rn[o]=!1)}}function TC(t){if(typeof t>"u")Object.keys(Le).forEach(r=>{Array.isArray(Le[r])&&Le[r].forEach(s=>Rc(s)),delete Le[r]}),xh(null);else if(Array.isArray(t))t.forEach(r=>{r.key&&Rc(r)});else if(typeof t=="object")t.key&&Rc(t);else if(typeof t=="string"){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];let[r,s]=n;typeof r=="function"&&(s=r,r=""),Rc({key:t,scope:r,method:s,splitKey:"+"})}}const Rc=t=>{let{key:e,scope:n,method:o,splitKey:r="+"}=t;EC(e).forEach(a=>{const l=a.split(r),c=l.length,d=l[c-1],u=d==="*"?"*":da(d);if(!Le[u])return;n||(n=ua());const f=c>1?SC(An,l):[],p=[];Le[u]=Le[u].filter(h=>{const g=(o?h.method===o:!0)&&h.scope===n&&U9(h.mods,f);return g&&p.push(h.element),!g}),p.forEach(h=>xh(h))})};function MC(t,e,n,o){if(e.element!==o)return;let r;if(e.scope===n||e.scope==="all"){r=e.mods.length>0;for(const s in ot)Object.prototype.hasOwnProperty.call(ot,s)&&(!ot[s]&&e.mods.indexOf(+s)>-1||ot[s]&&e.mods.indexOf(+s)===-1)&&(r=!1);(e.mods.length===0&&!ot[16]&&!ot[18]&&!ot[17]&&!ot[91]||r||e.shortcut==="*")&&(e.keys=[],e.keys=e.keys.concat(De),e.method(t,e)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0)))}}function OC(t,e){const n=Le["*"];let o=t.keyCode||t.which||t.charCode;if(!rn.filter.call(this,t))return;if((o===93||o===224)&&(o=91),De.indexOf(o)===-1&&o!==229&&De.push(o),["metaKey","ctrlKey","altKey","shiftKey"].forEach(l=>{const c=Bc[l];t[l]&&De.indexOf(c)===-1?De.push(c):!t[l]&&De.indexOf(c)>-1?De.splice(De.indexOf(c),1):l==="metaKey"&&t[l]&&(De=De.filter(d=>d in Bc||d===o))}),o in ot){ot[o]=!0;for(const l in An)An[l]===o&&(rn[l]=!0);if(!n)return}for(const l in ot)Object.prototype.hasOwnProperty.call(ot,l)&&(ot[l]=t[Bc[l]]);t.getModifierState&&!(t.altKey&&!t.ctrlKey)&&t.getModifierState("AltGraph")&&(De.indexOf(17)===-1&&De.push(17),De.indexOf(18)===-1&&De.push(18),ot[17]=!0,ot[18]=!0);const r=ua();if(n)for(let l=0;l<n.length;l++)n[l].scope===r&&(t.type==="keydown"&&n[l].keydown||t.type==="keyup"&&n[l].keyup)&&MC(t,n[l],r,e);if(!(o in Le))return;const s=Le[o],a=s.length;for(let l=0;l<a;l++)if((t.type==="keydown"&&s[l].keydown||t.type==="keyup"&&s[l].keyup)&&s[l].key){const c=s[l],{splitKey:d}=c,u=c.key.split(d),f=[];for(let p=0;p<u.length;p++)f.push(da(u[p]));f.sort().join("")===De.sort().join("")&&MC(t,c,r,e)}}function rn(t,e,n){De=[];const o=EC(t);let r=[],s="all",a=document,l=0,c=!1,d=!0,u="+",f=!1,p=!1;for(n===void 0&&typeof e=="function"&&(n=e),Object.prototype.toString.call(e)==="[object Object]"&&(e.scope&&(s=e.scope),e.element&&(a=e.element),e.keyup&&(c=e.keyup),e.keydown!==void 0&&(d=e.keydown),e.capture!==void 0&&(f=e.capture),typeof e.splitKey=="string"&&(u=e.splitKey),e.single===!0&&(p=!0)),typeof e=="string"&&(s=e),p&&TC(t,s);l<o.length;l++)t=o[l].split(u),r=[],t.length>1&&(r=SC(An,t)),t=t[t.length-1],t=t==="*"?"*":da(t),t in Le||(Le[t]=[]),Le[t].push({keyup:c,keydown:d,scope:s,mods:r,shortcut:o[l],method:n,key:o[l],splitKey:u,element:a});if(typeof a<"u"&&window){if(!Jn.has(a)){const h=function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;return OC(g,a)},m=function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;OC(g,a),Z9(g)};Jn.set(a,{keydownListener:h,keyupListenr:m,capture:f}),kh(a,"keydown",h,f),kh(a,"keyup",m,f)}if(!ca){const h=()=>{De=[]};ca={listener:h,capture:f},kh(window,"focus",h,f)}}}function Q9(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(Le).forEach(n=>{Le[n].filter(r=>r.scope===e&&r.shortcut===t).forEach(r=>{r&&r.method&&r.method()})})}function xh(t){const e=Object.values(Le).flat();if(e.findIndex(o=>{let{element:r}=o;return r===t})<0){const{keydownListener:o,keyupListenr:r,capture:s}=Jn.get(t)||{};o&&r&&(aa(t,"keyup",r,s),aa(t,"keydown",o,s),Jn.delete(t))}if((e.length<=0||Jn.size<=0)&&(Object.keys(Jn).forEach(r=>{const{keydownListener:s,keyupListenr:a,capture:l}=Jn.get(r)||{};s&&a&&(aa(r,"keyup",a,l),aa(r,"keydown",s,l),Jn.delete(r))}),Jn.clear(),Object.keys(Le).forEach(r=>delete Le[r]),ca)){const{listener:r,capture:s}=ca;aa(window,"focus",r,s),ca=null}}const Sh={getPressedKeyString:G9,setScope:AC,getScope:ua,deleteScope:X9,getPressedKeyCodes:K9,getAllKeyCodes:q9,isPressed:J9,filter:Y9,trigger:Q9,unbind:TC,keyMap:la,modifier:An,modifierMap:Bc};for(const t in Sh)Object.prototype.hasOwnProperty.call(Sh,t)&&(rn[t]=Sh[t]);if(typeof window<"u"){const t=window.hotkeys;rn.noConflict=e=>(e&&window.hotkeys===rn&&(window.hotkeys=t),rn),window.hotkeys=rn}const Eh=(t,e)=>{rn.filter=()=>!0;const n=()=>{rn(t,r=>(r.preventDefault(),e(),!1))},o=()=>{rn.unbind(t)};return i.onBeforeUnmount(()=>{o()}),{bind:n,unbind:o}};function eV({editor:t,wait:e=250}){const n=i.ref(!!(t!=null&&t.isFocused)),o=J2(r=>{n.value=r},e);return t&&(t.on("focus",()=>{n.value=!0,o.cancel()}),t.on("blur",()=>{o(!1)})),i.onUnmounted(()=>{o.cancel()}),{isFocused:n}}function vC(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=vC(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function _h(){for(var t,e,n=0,o="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=vC(t))&&(o&&(o+=" "),o+=e);return o}const Ah="-",tV=t=>{const e=oV(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:a=>{const l=a.split(Ah);return l[0]===""&&l.length!==1&&l.shift(),NC(l,e)||nV(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&o[a]?[...c,...o[a]]:c}}},NC=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),r=o?NC(t.slice(1),o):void 0;if(r)return r;if(e.validators.length===0)return;const s=t.join(Ah);return(a=e.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId},IC=/^\[(.+)\]$/,nV=t=>{if(IC.test(t)){const e=IC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},oV=t=>{const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return iV(Object.entries(t.classGroups),n).forEach(([s,a])=>{Th(a,o,s,e)}),o},Th=(t,e,n,o)=>{t.forEach(r=>{if(typeof r=="string"){const s=r===""?e:BC(e,r);s.classGroupId=n;return}if(typeof r=="function"){if(rV(r)){Th(r(o),e,n,o);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([s,a])=>{Th(a,BC(e,s),n,o)})})},BC=(t,e)=>{let n=t;return e.split(Ah).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n},rV=t=>t.isThemeGetter,iV=(t,e)=>e?t.map(([n,o])=>{const r=o.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[e+a,l])):s);return[n,r]}):t,sV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;const r=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,o=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=o.get(s))!==void 0)return r(s,a),a},set(s,a){n.has(s)?n.set(s,a):r(s,a)}}},RC="!",aV=t=>{const{separator:e,experimentalParseClassName:n}=t,o=e.length===1,r=e[0],s=e.length,a=l=>{const c=[];let d=0,u=0,f;for(let y=0;y<l.length;y++){let b=l[y];if(d===0){if(b===r&&(o||l.slice(y,y+s)===e)){c.push(l.slice(u,y)),u=y+s;continue}if(b==="/"){f=y;continue}}b==="["?d++:b==="]"&&d--}const p=c.length===0?l:l.substring(u),h=p.startsWith(RC),m=h?p.substring(1):p,g=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:a}):a},lV=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e},cV=t=>({cache:sV(t.cacheSize),parseClassName:aV(t),...tV(t)}),dV=/\s+/,uV=(t,e)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:r}=e,s=[],a=t.trim().split(dV);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{modifiers:u,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:h}=n(d);let m=!!h,g=o(m?p.substring(0,h):p);if(!g){if(!m){l=d+(l.length>0?" "+l:l);continue}if(g=o(p),!g){l=d+(l.length>0?" "+l:l);continue}m=!1}const y=lV(u).join(":"),b=f?y+RC:y,C=b+g;if(s.includes(C))continue;s.push(C);const k=r(g,m);for(let w=0;w<k.length;++w){const x=k[w];s.push(b+x)}l=d+(l.length>0?" "+l:l)}return l};function fV(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=PC(e))&&(o&&(o+=" "),o+=n);return o}const PC=t=>{if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=PC(t[o]))&&(n&&(n+=" "),n+=e);return n};function pV(t,...e){let n,o,r,s=a;function a(c){const d=e.reduce((u,f)=>f(u),t());return n=cV(d),o=n.cache.get,r=n.cache.set,s=l,l(c)}function l(c){const d=o(c);if(d)return d;const u=uV(c,n);return r(c,u),u}return function(){return s(fV.apply(null,arguments))}}const Ie=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},DC=/^\[(?:([a-z-]+):)?(.+)\]$/i,hV=/^\d+\/\d+$/,mV=new Set(["px","full","screen"]),gV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,CV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xn=t=>Pi(t)||mV.has(t)||hV.test(t),Do=t=>Di(t,"length",MV),Pi=t=>!!t&&!Number.isNaN(Number(t)),Mh=t=>Di(t,"number",Pi),fa=t=>!!t&&Number.isInteger(Number(t)),kV=t=>t.endsWith("%")&&Pi(t.slice(0,-1)),re=t=>DC.test(t),$o=t=>gV.test(t),xV=new Set(["length","size","percentage"]),SV=t=>Di(t,xV,$C),EV=t=>Di(t,"position",$C),_V=new Set(["image","url"]),AV=t=>Di(t,_V,vV),TV=t=>Di(t,"",OV),pa=()=>!0,Di=(t,e,n)=>{const o=DC.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1},MV=t=>yV.test(t)&&!bV.test(t),$C=()=>!1,OV=t=>wV.test(t),vV=t=>CV.test(t),LC=pV(()=>{const t=Ie("colors"),e=Ie("spacing"),n=Ie("blur"),o=Ie("brightness"),r=Ie("borderColor"),s=Ie("borderRadius"),a=Ie("borderSpacing"),l=Ie("borderWidth"),c=Ie("contrast"),d=Ie("grayscale"),u=Ie("hueRotate"),f=Ie("invert"),p=Ie("gap"),h=Ie("gradientColorStops"),m=Ie("gradientColorStopPositions"),g=Ie("inset"),y=Ie("margin"),b=Ie("opacity"),C=Ie("padding"),k=Ie("saturate"),w=Ie("scale"),x=Ie("sepia"),S=Ie("skew"),E=Ie("space"),T=Ie("translate"),_=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",re,e],v=()=>[re,e],L=()=>["",Xn,Do],z=()=>["auto",Pi,re],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",re],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[Pi,re];return{cacheSize:500,separator:":",theme:{colors:[pa],spacing:[Xn,Do],blur:["none","",$o,re],brightness:F(),borderColor:[t],borderRadius:["none","","full",$o,re],borderSpacing:v(),borderWidth:L(),contrast:F(),grayscale:N(),hueRotate:F(),invert:N(),gap:v(),gradientColorStops:[t],gradientColorStopPositions:[kV,Do],inset:M(),margin:M(),opacity:F(),padding:v(),saturate:F(),scale:F(),sepia:N(),skew:F(),space:v(),translate:v()},classGroups:{aspect:[{aspect:["auto","square","video",re]}],container:["container"],columns:[{columns:[$o]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),re]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fa,re]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",re]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",fa,re]}],"grid-cols":[{"grid-cols":[pa]}],"col-start-end":[{col:["auto",{span:["full",fa,re]},re]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[pa]}],"row-start-end":[{row:["auto",{span:[fa,re]},re]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",re]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",re,e]}],"min-w":[{"min-w":[re,e,"min","max","fit"]}],"max-w":[{"max-w":[re,e,"none","full","min","max","fit","prose",{screen:[$o]},$o]}],h:[{h:[re,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[re,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[re,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[re,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$o,Do]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mh]}],"font-family":[{font:[pa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",re]}],"line-clamp":[{"line-clamp":["none",Pi,Mh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xn,re]}],"list-image":[{"list-image":["none",re]}],"list-style-type":[{list:["none","disc","decimal",re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xn,Do]}],"underline-offset":[{"underline-offset":["auto",Xn,re]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),EV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",SV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},AV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:B()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Xn,re]}],"outline-w":[{outline:[Xn,Do]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Xn,Do]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$o,TV]}],"shadow-color":[{shadow:[pa]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",$o,re]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[k]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",re]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",re]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[fa,re]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",re]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Xn,Do,Mh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function ne(...t){return LC(_h(t))}const NV=["top","right","bottom","left"],Lo=Math.min,Dt=Math.max,Pc=Math.round,Dc=Math.floor,Tn=t=>({x:t,y:t}),IV={left:"right",right:"left",bottom:"top",top:"bottom"},BV={start:"end",end:"start"};function Oh(t,e,n){return Dt(t,Lo(e,n))}function Zn(t,e){return typeof t=="function"?t(e):t}function Qn(t){return t.split("-")[0]}function $i(t){return t.split("-")[1]}function vh(t){return t==="x"?"y":"x"}function Nh(t){return t==="y"?"height":"width"}function Vo(t){return["top","bottom"].includes(Qn(t))?"y":"x"}function Ih(t){return vh(Vo(t))}function RV(t,e,n){n===void 0&&(n=!1);const o=$i(t),r=Ih(t),s=Nh(r);let a=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=$c(a)),[a,$c(a)]}function PV(t){const e=$c(t);return[Bh(t),e,Bh(e)]}function Bh(t){return t.replace(/start|end/g,e=>BV[e])}function DV(t,e,n){const o=["left","right"],r=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:o:e?o:r;case"left":case"right":return e?s:a;default:return[]}}function $V(t,e,n,o){const r=$i(t);let s=DV(Qn(t),n==="start",o);return r&&(s=s.map(a=>a+"-"+r),e&&(s=s.concat(s.map(Bh)))),s}function $c(t){return t.replace(/left|right|bottom|top/g,e=>IV[e])}function LV(t){return{top:0,right:0,bottom:0,left:0,...t}}function VC(t){return typeof t!="number"?LV(t):{top:t,right:t,bottom:t,left:t}}function Lc(t){const{x:e,y:n,width:o,height:r}=t;return{width:o,height:r,top:n,left:e,right:e+o,bottom:n+r,x:e,y:n}}function FC(t,e,n){let{reference:o,floating:r}=t;const s=Vo(e),a=Ih(e),l=Nh(a),c=Qn(e),d=s==="y",u=o.x+o.width/2-r.width/2,f=o.y+o.height/2-r.height/2,p=o[l]/2-r[l]/2;let h;switch(c){case"top":h={x:u,y:o.y-r.height};break;case"bottom":h={x:u,y:o.y+o.height};break;case"right":h={x:o.x+o.width,y:f};break;case"left":h={x:o.x-r.width,y:f};break;default:h={x:o.x,y:o.y}}switch($i(e)){case"start":h[a]-=p*(n&&d?-1:1);break;case"end":h[a]+=p*(n&&d?-1:1);break}return h}const VV=async(t,e,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:f}=FC(d,o,c),p=o,h={},m=0;for(let g=0;g<l.length;g++){const{name:y,fn:b}=l[g],{x:C,y:k,data:w,reset:x}=await b({x:u,y:f,initialPlacement:o,placement:p,strategy:r,middlewareData:h,rects:d,platform:a,elements:{reference:t,floating:e}});u=C??u,f=k??f,h={...h,[y]:{...h[y],...w}},x&&m<=50&&(m++,typeof x=="object"&&(x.placement&&(p=x.placement),x.rects&&(d=x.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:r}):x.rects),{x:u,y:f}=FC(d,p,c)),g=-1)}return{x:u,y:f,placement:p,strategy:r,middlewareData:h}};async function ha(t,e){var n;e===void 0&&(e={});const{x:o,y:r,platform:s,rects:a,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=Zn(e,t),m=VC(h),y=l[p?f==="floating"?"reference":"floating":f],b=Lc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),C=f==="floating"?{x:o,y:r,width:a.floating.width,height:a.floating.height}:a.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),w=await(s.isElement==null?void 0:s.isElement(k))?await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},x=Lc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:k,strategy:c}):C);return{top:(b.top-x.top+m.top)/w.y,bottom:(x.bottom-b.bottom+m.bottom)/w.y,left:(b.left-x.left+m.left)/w.x,right:(x.right-b.right+m.right)/w.x}}const FV=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:r,rects:s,platform:a,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=Zn(t,e)||{};if(d==null)return{};const f=VC(u),p={x:n,y:o},h=Ih(r),m=Nh(h),g=await a.getDimensions(d),y=h==="y",b=y?"top":"left",C=y?"bottom":"right",k=y?"clientHeight":"clientWidth",w=s.reference[m]+s.reference[h]-p[h]-s.floating[m],x=p[h]-s.reference[h],S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let E=S?S[k]:0;(!E||!await(a.isElement==null?void 0:a.isElement(S)))&&(E=l.floating[k]||s.floating[m]);const T=w/2-x/2,_=E/2-g[m]/2-1,A=Lo(f[b],_),M=Lo(f[C],_),v=A,L=E-g[m]-M,z=E/2-g[m]/2+T,D=Oh(v,z,L),B=!c.arrow&&$i(r)!=null&&z!==D&&s.reference[m]/2-(z<v?A:M)-g[m]/2<0,O=B?z<v?z-v:z-L:0;return{[h]:p[h]+O,data:{[h]:D,centerOffset:z-D-O,...B&&{alignmentOffset:O}},reset:B}}}),zV=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:r,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...y}=Zn(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=Qn(r),C=Vo(l),k=Qn(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),x=p||(k||!g?[$c(l)]:PV(l)),S=m!=="none";!p&&S&&x.push(...$V(l,g,m,w));const E=[l,...x],T=await ha(e,y),_=[];let A=((o=s.flip)==null?void 0:o.overflows)||[];if(u&&_.push(T[b]),f){const z=RV(r,a,w);_.push(T[z[0]],T[z[1]])}if(A=[...A,{placement:r,overflows:_}],!_.every(z=>z<=0)){var M,v;const z=(((M=s.flip)==null?void 0:M.index)||0)+1,D=E[z];if(D)return{data:{index:z,overflows:A},reset:{placement:D}};let B=(v=A.filter(O=>O.overflows[0]<=0).sort((O,$)=>O.overflows[1]-$.overflows[1])[0])==null?void 0:v.placement;if(!B)switch(h){case"bestFit":{var L;const O=(L=A.filter($=>{if(S){const N=Vo($.placement);return N===C||N==="y"}return!0}).map($=>[$.placement,$.overflows.filter(N=>N>0).reduce((N,I)=>N+I,0)]).sort(($,N)=>$[1]-N[1])[0])==null?void 0:L[0];O&&(B=O);break}case"initialPlacement":B=l;break}if(r!==B)return{reset:{placement:B}}}return{}}}};function zC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function HC(t){return NV.some(e=>t[e]>=0)}const HV=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:o="referenceHidden",...r}=Zn(t,e);switch(o){case"referenceHidden":{const s=await ha(e,{...r,elementContext:"reference"}),a=zC(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:HC(a)}}}case"escaped":{const s=await ha(e,{...r,altBoundary:!0}),a=zC(s,n.floating);return{data:{escapedOffsets:a,escaped:HC(a)}}}default:return{}}}}};async function UV(t,e){const{placement:n,platform:o,elements:r}=t,s=await(o.isRTL==null?void 0:o.isRTL(r.floating)),a=Qn(n),l=$i(n),c=Vo(n)==="y",d=["left","top"].includes(a)?-1:1,u=s&&c?-1:1,f=Zn(e,t);let{mainAxis:p,crossAxis:h,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof m=="number"&&(h=l==="end"?m*-1:m),c?{x:h*u,y:p*d}:{x:p*d,y:h*u}}const jV=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:r,y:s,placement:a,middlewareData:l}=e,c=await UV(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:r+c.x,y:s+c.y,data:{...c,placement:a}}}}},WV=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:r}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:y=>{let{x:b,y:C}=y;return{x:b,y:C}}},...c}=Zn(t,e),d={x:n,y:o},u=await ha(e,c),f=Vo(Qn(r)),p=vh(f);let h=d[p],m=d[f];if(s){const y=p==="y"?"top":"left",b=p==="y"?"bottom":"right",C=h+u[y],k=h-u[b];h=Oh(C,h,k)}if(a){const y=f==="y"?"top":"left",b=f==="y"?"bottom":"right",C=m+u[y],k=m-u[b];m=Oh(C,m,k)}const g=l.fn({...e,[p]:h,[f]:m});return{...g,data:{x:g.x-n,y:g.y-o,enabled:{[p]:s,[f]:a}}}}}},KV=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:r,rects:s,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Zn(t,e),u={x:n,y:o},f=Vo(r),p=vh(f);let h=u[p],m=u[f];const g=Zn(l,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const k=p==="y"?"height":"width",w=s.reference[p]-s.floating[k]+y.mainAxis,x=s.reference[p]+s.reference[k]-y.mainAxis;h<w?h=w:h>x&&(h=x)}if(d){var b,C;const k=p==="y"?"width":"height",w=["top","left"].includes(Qn(r)),x=s.reference[f]-s.floating[k]+(w&&((b=a.offset)==null?void 0:b[f])||0)+(w?0:y.crossAxis),S=s.reference[f]+s.reference[k]+(w?0:((C=a.offset)==null?void 0:C[f])||0)-(w?y.crossAxis:0);m<x?m=x:m>S&&(m=S)}return{[p]:h,[f]:m}}}},GV=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,o;const{placement:r,rects:s,platform:a,elements:l}=e,{apply:c=()=>{},...d}=Zn(t,e),u=await ha(e,d),f=Qn(r),p=$i(r),h=Vo(r)==="y",{width:m,height:g}=s.floating;let y,b;f==="top"||f==="bottom"?(y=f,b=p===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,y=p==="end"?"top":"bottom");const C=g-u.top-u.bottom,k=m-u.left-u.right,w=Lo(g-u[y],C),x=Lo(m-u[b],k),S=!e.middlewareData.shift;let E=w,T=x;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=k),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(E=C),S&&!p){const A=Dt(u.left,0),M=Dt(u.right,0),v=Dt(u.top,0),L=Dt(u.bottom,0);h?T=m-2*(A!==0||M!==0?A+M:Dt(u.left,u.right)):E=g-2*(v!==0||L!==0?v+L:Dt(u.top,u.bottom))}await c({...e,availableWidth:T,availableHeight:E});const _=await a.getDimensions(l.floating);return m!==_.width||g!==_.height?{reset:{rects:!0}}:{}}}};function Vc(){return typeof window<"u"}function Br(t){return Rh(t)?(t.nodeName||"").toLowerCase():"#document"}function $t(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Mn(t){var e;return(e=(Rh(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Rh(t){return Vc()?t instanceof Node||t instanceof $t(t).Node:!1}function sn(t){return Vc()?t instanceof Element||t instanceof $t(t).Element:!1}function On(t){return Vc()?t instanceof HTMLElement||t instanceof $t(t).HTMLElement:!1}function UC(t){return!Vc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof $t(t).ShadowRoot}function ma(t){const{overflow:e,overflowX:n,overflowY:o,display:r}=an(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(r)}function qV(t){return["table","td","th"].includes(Br(t))}function Fc(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Ph(t){const e=Dh(),n=sn(t)?an(t):t;return["transform","translate","scale","rotate","perspective"].some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function YV(t){let e=Fo(t);for(;On(e)&&!Li(e);){if(Ph(e))return e;if(Fc(e))return null;e=Fo(e)}return null}function Dh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Li(t){return["html","body","#document"].includes(Br(t))}function an(t){return $t(t).getComputedStyle(t)}function zc(t){return sn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Fo(t){if(Br(t)==="html")return t;const e=t.assignedSlot||t.parentNode||UC(t)&&t.host||Mn(t);return UC(e)?e.host:e}function jC(t){const e=Fo(t);return Li(e)?t.ownerDocument?t.ownerDocument.body:t.body:On(e)&&ma(e)?e:jC(e)}function ga(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=jC(t),s=r===((o=t.ownerDocument)==null?void 0:o.body),a=$t(r);if(s){const l=$h(a);return e.concat(a,a.visualViewport||[],ma(r)?r:[],l&&n?ga(l):[])}return e.concat(r,ga(r,[],n))}function $h(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function WC(t){const e=an(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const r=On(t),s=r?t.offsetWidth:n,a=r?t.offsetHeight:o,l=Pc(n)!==s||Pc(o)!==a;return l&&(n=s,o=a),{width:n,height:o,$:l}}function Lh(t){return sn(t)?t:t.contextElement}function Vi(t){const e=Lh(t);if(!On(e))return Tn(1);const n=e.getBoundingClientRect(),{width:o,height:r,$:s}=WC(e);let a=(s?Pc(n.width):n.width)/o,l=(s?Pc(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const JV=Tn(0);function KC(t){const e=$t(t);return!Dh()||!e.visualViewport?JV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function XV(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==$t(t)?!1:e}function Rr(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=Lh(t);let a=Tn(1);e&&(o?sn(o)&&(a=Vi(o)):a=Vi(t));const l=XV(s,n,o)?KC(s):Tn(0);let c=(r.left+l.x)/a.x,d=(r.top+l.y)/a.y,u=r.width/a.x,f=r.height/a.y;if(s){const p=$t(s),h=o&&sn(o)?$t(o):o;let m=p,g=$h(m);for(;g&&o&&h!==m;){const y=Vi(g),b=g.getBoundingClientRect(),C=an(g),k=b.left+(g.clientLeft+parseFloat(C.paddingLeft))*y.x,w=b.top+(g.clientTop+parseFloat(C.paddingTop))*y.y;c*=y.x,d*=y.y,u*=y.x,f*=y.y,c+=k,d+=w,m=$t(g),g=$h(m)}}return Lc({width:u,height:f,x:c,y:d})}function Vh(t,e){const n=zc(t).scrollLeft;return e?e.left+n:Rr(Mn(t)).left+n}function GC(t,e,n){n===void 0&&(n=!1);const o=t.getBoundingClientRect(),r=o.left+e.scrollLeft-(n?0:Vh(t,o)),s=o.top+e.scrollTop;return{x:r,y:s}}function ZV(t){let{elements:e,rect:n,offsetParent:o,strategy:r}=t;const s=r==="fixed",a=Mn(o),l=e?Fc(e.floating):!1;if(o===a||l&&s)return n;let c={scrollLeft:0,scrollTop:0},d=Tn(1);const u=Tn(0),f=On(o);if((f||!f&&!s)&&((Br(o)!=="body"||ma(a))&&(c=zc(o)),On(o))){const h=Rr(o);d=Vi(o),u.x=h.x+o.clientLeft,u.y=h.y+o.clientTop}const p=a&&!f&&!s?GC(a,c,!0):Tn(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+p.x,y:n.y*d.y-c.scrollTop*d.y+u.y+p.y}}function QV(t){return Array.from(t.getClientRects())}function eF(t){const e=Mn(t),n=zc(t),o=t.ownerDocument.body,r=Dt(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),s=Dt(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let a=-n.scrollLeft+Vh(t);const l=-n.scrollTop;return an(o).direction==="rtl"&&(a+=Dt(e.clientWidth,o.clientWidth)-r),{width:r,height:s,x:a,y:l}}function tF(t,e){const n=$t(t),o=Mn(t),r=n.visualViewport;let s=o.clientWidth,a=o.clientHeight,l=0,c=0;if(r){s=r.width,a=r.height;const d=Dh();(!d||d&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:s,height:a,x:l,y:c}}function nF(t,e){const n=Rr(t,!0,e==="fixed"),o=n.top+t.clientTop,r=n.left+t.clientLeft,s=On(t)?Vi(t):Tn(1),a=t.clientWidth*s.x,l=t.clientHeight*s.y,c=r*s.x,d=o*s.y;return{width:a,height:l,x:c,y:d}}function qC(t,e,n){let o;if(e==="viewport")o=tF(t,n);else if(e==="document")o=eF(Mn(t));else if(sn(e))o=nF(e,n);else{const r=KC(t);o={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Lc(o)}function YC(t,e){const n=Fo(t);return n===e||!sn(n)||Li(n)?!1:an(n).position==="fixed"||YC(n,e)}function oF(t,e){const n=e.get(t);if(n)return n;let o=ga(t,[],!1).filter(l=>sn(l)&&Br(l)!=="body"),r=null;const s=an(t).position==="fixed";let a=s?Fo(t):t;for(;sn(a)&&!Li(a);){const l=an(a),c=Ph(a);!c&&l.position==="fixed"&&(r=null),(s?!c&&!r:!c&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||ma(a)&&!c&&YC(t,a))?o=o.filter(u=>u!==a):r=l,a=Fo(a)}return e.set(t,o),o}function rF(t){let{element:e,boundary:n,rootBoundary:o,strategy:r}=t;const a=[...n==="clippingAncestors"?Fc(e)?[]:oF(e,this._c):[].concat(n),o],l=a[0],c=a.reduce((d,u)=>{const f=qC(e,u,r);return d.top=Dt(f.top,d.top),d.right=Lo(f.right,d.right),d.bottom=Lo(f.bottom,d.bottom),d.left=Dt(f.left,d.left),d},qC(e,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function iF(t){const{width:e,height:n}=WC(t);return{width:e,height:n}}function sF(t,e,n){const o=On(e),r=Mn(e),s=n==="fixed",a=Rr(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=Tn(0);if(o||!o&&!s)if((Br(e)!=="body"||ma(r))&&(l=zc(e)),o){const p=Rr(e,!0,s,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else r&&(c.x=Vh(r));const d=r&&!o&&!s?GC(r,l):Tn(0),u=a.left+l.scrollLeft-c.x-d.x,f=a.top+l.scrollTop-c.y-d.y;return{x:u,y:f,width:a.width,height:a.height}}function Fh(t){return an(t).position==="static"}function JC(t,e){if(!On(t)||an(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Mn(t)===n&&(n=n.ownerDocument.body),n}function XC(t,e){const n=$t(t);if(Fc(t))return n;if(!On(t)){let r=Fo(t);for(;r&&!Li(r);){if(sn(r)&&!Fh(r))return r;r=Fo(r)}return n}let o=JC(t,e);for(;o&&qV(o)&&Fh(o);)o=JC(o,e);return o&&Li(o)&&Fh(o)&&!Ph(o)?n:o||YV(t)||n}const aF=async function(t){const e=this.getOffsetParent||XC,n=this.getDimensions,o=await n(t.floating);return{reference:sF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function lF(t){return an(t).direction==="rtl"}const cF={convertOffsetParentRelativeRectToViewportRelativeRect:ZV,getDocumentElement:Mn,getClippingRect:rF,getOffsetParent:XC,getElementRects:aF,getClientRects:QV,getDimensions:iF,getScale:Vi,isElement:sn,isRTL:lF};function ZC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function dF(t,e){let n=null,o;const r=Mn(t);function s(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=t.getBoundingClientRect(),{left:u,top:f,width:p,height:h}=d;if(l||e(),!p||!h)return;const m=Dc(f),g=Dc(r.clientWidth-(u+p)),y=Dc(r.clientHeight-(f+h)),b=Dc(u),k={rootMargin:-m+"px "+-g+"px "+-y+"px "+-b+"px",threshold:Dt(0,Lo(1,c))||1};let w=!0;function x(S){const E=S[0].intersectionRatio;if(E!==c){if(!w)return a();E?a(!1,E):o=setTimeout(()=>{a(!1,1e-7)},1e3)}E===1&&!ZC(d,t.getBoundingClientRect())&&a(),w=!1}try{n=new IntersectionObserver(x,{...k,root:r.ownerDocument})}catch{n=new IntersectionObserver(x,k)}n.observe(t)}return a(!0),s}function uF(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=o,d=Lh(t),u=r||s?[...d?ga(d):[],...ga(e)]:[];u.forEach(b=>{r&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const f=d&&l?dF(d,n):null;let p=-1,h=null;a&&(h=new ResizeObserver(b=>{let[C]=b;C&&C.target===d&&h&&(h.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var k;(k=h)==null||k.observe(e)})),n()}),d&&!c&&h.observe(d),h.observe(e));let m,g=c?Rr(t):null;c&&y();function y(){const b=Rr(t);g&&!ZC(g,b)&&n(),g=b,m=requestAnimationFrame(y)}return n(),()=>{var b;u.forEach(C=>{r&&C.removeEventListener("scroll",n),s&&C.removeEventListener("resize",n)}),f==null||f(),(b=h)==null||b.disconnect(),h=null,c&&cancelAnimationFrame(m)}}const fF=jV,pF=WV,QC=zV,hF=GV,mF=HV,gF=FV,yF=KV,bF=(t,e,n)=>{const o=new Map,r={platform:cF,...n},s={...r.platform,_c:o};return VV(t,e,{...r,platform:s})};function wF(t){return t!=null&&typeof t=="object"&&"$el"in t}function zh(t){if(wF(t)){const e=t.$el;return Rh(e)&&Br(e)==="#comment"?null:e}return t}function Fi(t){return typeof t=="function"?t():i.unref(t)}function CF(t){return{name:"arrow",options:t,fn(e){const n=zh(Fi(t.element));return n==null?{}:gF({element:n,padding:t.padding}).fn(e)}}}function ek(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function tk(t,e){const n=ek(t);return Math.round(e*n)/n}function kF(t,e,n){n===void 0&&(n={});const o=n.whileElementsMounted,r=i.computed(()=>{var E;return(E=Fi(n.open))!=null?E:!0}),s=i.computed(()=>Fi(n.middleware)),a=i.computed(()=>{var E;return(E=Fi(n.placement))!=null?E:"bottom"}),l=i.computed(()=>{var E;return(E=Fi(n.strategy))!=null?E:"absolute"}),c=i.computed(()=>{var E;return(E=Fi(n.transform))!=null?E:!0}),d=i.computed(()=>zh(t.value)),u=i.computed(()=>zh(e.value)),f=i.ref(0),p=i.ref(0),h=i.ref(l.value),m=i.ref(a.value),g=i.shallowRef({}),y=i.ref(!1),b=i.computed(()=>{const E={position:h.value,left:"0",top:"0"};if(!u.value)return E;const T=tk(u.value,f.value),_=tk(u.value,p.value);return c.value?{...E,transform:"translate("+T+"px, "+_+"px)",...ek(u.value)>=1.5&&{willChange:"transform"}}:{position:h.value,left:T+"px",top:_+"px"}});let C;function k(){if(d.value==null||u.value==null)return;const E=r.value;bF(d.value,u.value,{middleware:s.value,placement:a.value,strategy:l.value}).then(T=>{f.value=T.x,p.value=T.y,h.value=T.strategy,m.value=T.placement,g.value=T.middlewareData,y.value=E!==!1})}function w(){typeof C=="function"&&(C(),C=void 0)}function x(){if(w(),o===void 0){k();return}if(d.value!=null&&u.value!=null){C=o(d.value,u.value,k);return}}function S(){r.value||(y.value=!1)}return i.watch([s,a,l,r],k,{flush:"sync"}),i.watch([d,u],x,{flush:"sync"}),i.watch(r,S,{flush:"sync"}),i.getCurrentScope()&&i.onScopeDispose(w),{x:i.shallowReadonly(f),y:i.shallowReadonly(p),strategy:i.shallowReadonly(h),placement:i.shallowReadonly(m),middlewareData:i.shallowReadonly(g),isPositioned:i.shallowReadonly(y),floatingStyles:b,update:k}}function Hh(t){return t?t.flatMap(e=>e.type===i.Fragment?Hh(e.children):[e]):[]}const Uh=i.defineComponent({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{var c,d;if(!n.default)return null;const o=Hh(n.default()),r=o.findIndex(u=>u.type!==i.Comment);if(r===-1)return o;const s=o[r];(c=s.props)==null||delete c.ref;const a=s.props?i.mergeProps(e,s.props):e;e.class&&((d=s.props)!=null&&d.class)&&delete s.props.class;const l=i.cloneVNode(s,a);for(const u in a)u.startsWith("on")&&(l.props||(l.props={}),l.props[u]=a[u]);return o.length===1?l:(o[r]=l,o)}}}),xF=["area","img","input"],Y=i.defineComponent({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const o=t.asChild?"template":t.as;return typeof o=="string"&&xF.includes(o)?()=>i.h(o,e):o!=="template"?()=>i.h(t.as,e,{default:n.default}):()=>i.h(Uh,e,{default:n.default})}}),ya=i.defineComponent({__name:"VisuallyHidden",props:{feature:{default:"focusable"},asChild:{type:Boolean},as:{default:"span"}},setup(t){return(e,n)=>(i.openBlock(),i.createBlock(i.unref(Y),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:i.withCtx(()=>[i.renderSlot(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}});function SF(t,e){var n;const o=i.shallowRef();return i.watchEffect(()=>{o.value=t()},{...e,flush:(n=void 0)!=null?n:"sync"}),i.readonly(o)}function Pr(t){return i.getCurrentScope()?(i.onScopeDispose(t),!0):!1}function EF(){const t=new Set,e=s=>{t.delete(s)};return{on:s=>{t.add(s);const a=()=>e(s);return Pr(a),{off:a}},off:e,trigger:(...s)=>Promise.all(Array.from(t).map(a=>a(...s))),clear:()=>{t.clear()}}}function _F(t){let e=!1,n;const o=i.effectScope(!0);return(...r)=>(e||(n=o.run(()=>t(...r)),e=!0),n)}function nk(t){let e=0,n,o;const r=()=>{e-=1,o&&e<=0&&(o.stop(),n=void 0,o=void 0)};return(...s)=>(e+=1,o||(o=i.effectScope(!0),n=o.run(()=>t(...s))),Pr(r),n)}function AF(t){if(!i.isRef(t))return i.reactive(t);const e=new Proxy({},{get(n,o,r){return i.unref(Reflect.get(t.value,o,r))},set(n,o,r){return i.isRef(t.value[o])&&!i.isRef(r)?t.value[o].value=r:t.value[o]=r,!0},deleteProperty(n,o){return Reflect.deleteProperty(t.value,o)},has(n,o){return Reflect.has(t.value,o)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return i.reactive(e)}function TF(t){return AF(i.computed(t))}function MF(t,...e){const n=e.flat(),o=n[0];return TF(()=>Object.fromEntries(typeof o=="function"?Object.entries(i.toRefs(t)).filter(([r,s])=>!o(i.toValue(s),r)):Object.entries(i.toRefs(t)).filter(r=>!n.includes(r[0]))))}const vn=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const OF=t=>typeof t<"u",vF=Object.prototype.toString,NF=t=>vF.call(t)==="[object Object]",jh=()=>{},ok=IF();function IF(){var t,e;return vn&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function BF(t,e){function n(...o){return new Promise((r,s)=>{Promise.resolve(t(()=>e.apply(this,o),{fn:e,thisArg:this,args:o})).then(r).catch(s)})}return n}function RF(t,e={}){let n,o,r=jh;const s=c=>{clearTimeout(c),r(),r=jh};let a;return c=>{const d=i.toValue(t),u=i.toValue(e.maxWait);return n&&s(n),d<=0||u!==void 0&&u<=0?(o&&(s(o),o=null),Promise.resolve(c())):new Promise((f,p)=>{r=e.rejectOnCancel?p:f,a=c,u&&!o&&(o=setTimeout(()=>{n&&s(n),o=null,f(a())},u)),n=setTimeout(()=>{o&&s(o),o=null,f(c())},d)})}}function PF(t){return i.getCurrentInstance()}function Wh(t){return Array.isArray(t)?t:[t]}function rk(t,e=1e4){return i.customRef((n,o)=>{let r=i.toValue(t),s;const a=()=>setTimeout(()=>{r=i.toValue(t),o()},i.toValue(e));return Pr(()=>{clearTimeout(s)}),{get(){return n(),r},set(l){r=l,o(),clearTimeout(s),s=a()}}})}function ik(t,e=200,n={}){return BF(RF(e,n),t)}const DF=i.toValue;function $F(t,e){PF()&&i.onBeforeUnmount(t,e)}function Kh(t,e,n={}){const{immediate:o=!0,immediateCallback:r=!1}=n,s=i.shallowRef(!1);let a=null;function l(){a&&(clearTimeout(a),a=null)}function c(){s.value=!1,l()}function d(...u){r&&t(),l(),s.value=!0,a=setTimeout(()=>{s.value=!1,a=null,t(...u)},i.toValue(e))}return o&&(s.value=!0,vn&&d()),Pr(c),{isPending:i.readonly(s),start:d,stop:c}}function LF(t=1e3,e={}){const{controls:n=!1,callback:o}=e,r=Kh(o??jh,t,e),s=i.computed(()=>!r.isPending.value);return n?{ready:s,...r}:s}function VF(t,e,n){return i.watch(t,e,{...n,immediate:!0})}function FF(t,e,n){const o=i.watch(t,(...r)=>(i.nextTick(()=>o()),e(...r)),n);return o}const ba=vn?window:void 0;function Jt(t){var e;const n=i.toValue(t);return(e=n==null?void 0:n.$el)!=null?e:n}function zi(...t){const e=[],n=()=>{e.forEach(l=>l()),e.length=0},o=(l,c,d,u)=>(l.addEventListener(c,d,u),()=>l.removeEventListener(c,d,u)),r=i.computed(()=>{const l=Wh(i.toValue(t[0])).filter(c=>c!=null);return l.every(c=>typeof c!="string")?l:void 0}),s=VF(()=>{var l,c;return[(c=(l=r.value)==null?void 0:l.map(d=>Jt(d)))!=null?c:[ba].filter(d=>d!=null),Wh(i.toValue(r.value?t[1]:t[0])),Wh(i.unref(r.value?t[2]:t[1])),i.toValue(r.value?t[3]:t[2])]},([l,c,d,u])=>{if(n(),!(l!=null&&l.length)||!(c!=null&&c.length)||!(d!=null&&d.length))return;const f=NF(u)?{...u}:u;e.push(...l.flatMap(p=>c.flatMap(h=>d.map(m=>o(p,h,m,f)))))},{flush:"post"}),a=()=>{s(),n()};return Pr(n),a}function sk(){const t=i.shallowRef(!1),e=i.getCurrentInstance();return e&&i.onMounted(()=>{t.value=!0},e),t}function zF(t){const e=sk();return i.computed(()=>(e.value,!!t()))}function HF(t){return typeof t=="function"?t:typeof t=="string"?e=>e.key===t:Array.isArray(t)?e=>t.includes(e.key):()=>!0}function Gh(...t){let e,n,o={};t.length===3?(e=t[0],n=t[1],o=t[2]):t.length===2?typeof t[1]=="object"?(e=!0,n=t[0],o=t[1]):(e=t[0],n=t[1]):(e=!0,n=t[0]);const{target:r=ba,eventName:s="keydown",passive:a=!1,dedupe:l=!1}=o,c=HF(e);return zi(r,s,u=>{u.repeat&&i.toValue(l)||c(u)&&n(u)},a)}function ak(t,e={}){const{immediate:n=!0,fpsLimit:o=void 0,window:r=ba,once:s=!1}=e,a=i.shallowRef(!1),l=i.computed(()=>o?1e3/i.toValue(o):null);let c=0,d=null;function u(h){if(!a.value||!r)return;c||(c=h);const m=h-c;if(l.value&&m<l.value){d=r.requestAnimationFrame(u);return}if(c=h,t({delta:m,timestamp:h}),s){a.value=!1,d=null;return}d=r.requestAnimationFrame(u)}function f(){!a.value&&r&&(a.value=!0,c=0,d=r.requestAnimationFrame(u))}function p(){a.value=!1,d!=null&&r&&(r.cancelAnimationFrame(d),d=null)}return n&&f(),Pr(p),{isActive:i.readonly(a),pause:p,resume:f}}function UF(t){return JSON.parse(JSON.stringify(t))}function Dr(t,e,n={}){const{window:o=ba,...r}=n;let s;const a=zF(()=>o&&"ResizeObserver"in o),l=()=>{s&&(s.disconnect(),s=void 0)},c=i.computed(()=>{const f=i.toValue(t);return Array.isArray(f)?f.map(p=>Jt(p)):[Jt(f)]}),d=i.watch(c,f=>{if(l(),a.value&&o){s=new ResizeObserver(e);for(const p of f)p&&s.observe(p,r)}},{immediate:!0,flush:"post"}),u=()=>{l(),d()};return Pr(u),{isSupported:a,stop:u}}function rt(t,e,n,o={}){var r,s,a;const{clone:l=!1,passive:c=!1,eventName:d,deep:u=!1,defaultValue:f,shouldEmit:p}=o,h=i.getCurrentInstance(),m=n||(h==null?void 0:h.emit)||((r=h==null?void 0:h.$emit)==null?void 0:r.bind(h))||((a=(s=h==null?void 0:h.proxy)==null?void 0:s.$emit)==null?void 0:a.bind(h==null?void 0:h.proxy));let g=d;e||(e="modelValue"),g=g||`update:${e.toString()}`;const y=k=>l?typeof l=="function"?l(k):UF(k):k,b=()=>OF(t[e])?y(t[e]):f,C=k=>{p?p(k)&&m(g,k):m(g,k)};if(c){const k=b(),w=i.ref(k);let x=!1;return i.watch(()=>t[e],S=>{x||(x=!0,w.value=y(S),i.nextTick(()=>x=!1))}),i.watch(w,S=>{!x&&(S!==t[e]||u)&&C(S)},{deep:u}),w}else return i.computed({get(){return b()},set(k){C(k)}})}function ke(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,o=Symbol(n);return[a=>{const l=i.inject(o,a);if(l||l===null)return l;throw new Error(`Injection \`${o.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},a=>(i.provide(o,a),a)]}function lk(t){return typeof t=="string"?`'${t}'`:new jF().serialize(t)}const jF=function(){var e;class t{constructor(){q3(this,e,new Map)}compare(o,r){const s=typeof o,a=typeof r;return s==="string"&&a==="string"?o.localeCompare(r):s==="number"&&a==="number"?o-r:String.prototype.localeCompare.call(this.serialize(o,!0),this.serialize(r,!0))}serialize(o,r){if(o===null)return"null";switch(typeof o){case"string":return r?o:`'${o}'`;case"bigint":return`${o}n`;case"object":return this.$object(o);case"function":return this.$function(o)}return String(o)}serializeObject(o){const r=Object.prototype.toString.call(o);if(r!=="[object Object]")return this.serializeBuiltInType(r.length<10?`unknown:${r}`:r.slice(8,-1),o);const s=o.constructor,a=s===Object||s===void 0?"":s.name;if(a!==""&&globalThis[a]===s)return this.serializeBuiltInType(a,o);if(typeof o.toJSON=="function"){const l=o.toJSON();return a+(l!==null&&typeof l=="object"?this.$object(l):`(${this.serialize(l)})`)}return this.serializeObjectEntries(a,Object.entries(o))}serializeBuiltInType(o,r){const s=this["$"+o];if(s)return s.call(this,r);if(typeof(r==null?void 0:r.entries)=="function")return this.serializeObjectEntries(o,r.entries());throw new Error(`Cannot serialize ${o}`)}serializeObjectEntries(o,r){const s=Array.from(r).sort((l,c)=>this.compare(l[0],c[0]));let a=`${o}{`;for(let l=0;l<s.length;l++){const[c,d]=s[l];a+=`${this.serialize(c,!0)}:${this.serialize(d)}`,l<s.length-1&&(a+=",")}return a+"}"}$object(o){let r=kl(this,e).get(o);return r===void 0&&(kl(this,e).set(o,`#${kl(this,e).size}`),r=this.serializeObject(o),kl(this,e).set(o,r)),r}$function(o){const r=Function.prototype.toString.call(o);return r.slice(-15)==="[native code] }"?`${o.name||""}()[native]`:`${o.name}(${o.length})${r.replace(/\s*\n\s*/g,"")}`}$Array(o){let r="[";for(let s=0;s<o.length;s++)r+=this.serialize(o[s]),s<o.length-1&&(r+=",");return r+"]"}$Date(o){try{return`Date(${o.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(o){return`ArrayBuffer[${new Uint8Array(o).join(",")}]`}$Set(o){return`Set${this.$Array(Array.from(o).sort((r,s)=>this.compare(r,s)))}`}$Map(o){return this.serializeObjectEntries("Map",o.entries())}}e=new WeakMap;for(const n of["Error","RegExp","URL"])t.prototype["$"+n]=function(o){return`${n}(${o})`};for(const n of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])t.prototype["$"+n]=function(o){return`${n}[${o.join(",")}]`};for(const n of["BigInt64Array","BigUint64Array"])t.prototype["$"+n]=function(o){return`${n}[${o.join("n,")}${o.length>0?"n":""}]`};return t}();function Hi(t,e){return t===e||lk(t)===lk(e)}function wa(t){return t==null}function Hc(t,e){return wa(t)?!1:Array.isArray(t)?t.some(n=>Hi(n,e)):Hi(t,e)}function WF({type:t,defaultValue:e,modelValue:n}){const o=n||e;return n!==void 0||e!==void 0?Array.isArray(o)?"multiple":"single":t??"single"}function KF({type:t,defaultValue:e,modelValue:n}){return t||WF({type:t,defaultValue:e,modelValue:n})}function GF({type:t,defaultValue:e}){return e!==void 0?e:t==="single"?void 0:[]}function qF(t,e){const n=i.computed(()=>KF(t)),o=rt(t,"modelValue",e,{defaultValue:GF(t),passive:t.modelValue===void 0,deep:!0});function r(a){if(n.value==="single")o.value=Hi(a,o.value)?void 0:a;else{const l=Array.isArray(o.value)?[...o.value||[]]:[o.value].filter(Boolean);if(Hc(l,a)){const c=l.findIndex(d=>Hi(d,a));l.splice(c,1)}else l.push(a);o.value=l}}const s=i.computed(()=>n.value==="single");return{modelValue:o,changeModelValue:r,isSingle:s}}const[Uc,woe]=ke("ConfigProvider");function eo(t){const e=Uc({dir:i.ref("ltr")});return i.computed(()=>{var n;return(t==null?void 0:t.value)||((n=e.dir)==null?void 0:n.value)||"ltr"})}function H(){const t=i.getCurrentInstance(),e=i.ref(),n=i.computed(()=>{var a,l;return["#text","#comment"].includes((a=e.value)==null?void 0:a.$el.nodeName)?(l=e.value)==null?void 0:l.$el.nextElementSibling:Jt(e)}),o=Object.assign({},t.exposed),r={};for(const a in t.props)Object.defineProperty(r,a,{enumerable:!0,configurable:!0,get:()=>t.props[a]});if(Object.keys(o).length>0)for(const a in o)Object.defineProperty(r,a,{enumerable:!0,configurable:!0,get:()=>o[a]});Object.defineProperty(r,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=r;function s(a){e.value=a,a&&(Object.defineProperty(r,"$el",{enumerable:!0,configurable:!0,get:()=>a instanceof Element?a:a.$el}),t.exposed=r)}return{forwardRef:s,currentRef:e,currentElement:n}}const YF=["INPUT","TEXTAREA"];function JF(t,e,n,o={}){if(!e||o.enableIgnoredElement&&YF.includes(e.nodeName))return null;const{arrowKeyOptions:r="both",attributeName:s="[data-reka-collection-item]",itemsArray:a=[],loop:l=!0,dir:c="ltr",preventScroll:d=!0,focus:u=!1}=o,[f,p,h,m,g,y]=[t.key==="ArrowRight",t.key==="ArrowLeft",t.key==="ArrowUp",t.key==="ArrowDown",t.key==="Home",t.key==="End"],b=h||m,C=f||p;if(!g&&!y&&(!b&&!C||r==="vertical"&&C||r==="horizontal"&&b))return null;const k=n?Array.from(n.querySelectorAll(s)):a;if(!k.length)return null;d&&t.preventDefault();let w=null;return C||b?w=ck(k,e,{goForward:b?m:c==="ltr"?f:p,loop:l}):g?w=k.at(0)||null:y&&(w=k.at(-1)||null),u&&(w==null||w.focus()),w}function ck(t,e,n,o=t.length){if(--o===0)return null;const r=t.indexOf(e),s=n.goForward?r+1:r-1;if(!n.loop&&(s<0||s>=t.length))return null;const a=(s+t.length)%t.length,l=t[a];return l?l.hasAttribute("disabled")&&l.getAttribute("disabled")!=="false"?ck(t,l,n,o):l:null}let XF=0;function Je(t,e="reka"){if(t)return t;const n=Uc({useId:void 0});return q1.useId?`${e}-${q1.useId()}`:n.useId?`${e}-${n.useId()}`:`${e}-${++XF}`}function dk(t,e){const n=i.ref(t);function o(s){return e[n.value][s]??n.value}return{state:n,dispatch:s=>{n.value=o(s)}}}function ZF(t,e){var y;const n=i.ref({}),o=i.ref("none"),r=i.ref(t),s=t.value?"mounted":"unmounted";let a;const l=((y=e.value)==null?void 0:y.ownerDocument.defaultView)??ba,{state:c,dispatch:d}=dk(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),u=b=>{var C;if(vn){const k=new CustomEvent(b,{bubbles:!1,cancelable:!1});(C=e.value)==null||C.dispatchEvent(k)}};i.watch(t,async(b,C)=>{var w;const k=C!==b;if(await i.nextTick(),k){const x=o.value,S=jc(e.value);b?(d("MOUNT"),u("enter"),S==="none"&&u("after-enter")):S==="none"||S==="undefined"||((w=n.value)==null?void 0:w.display)==="none"?(d("UNMOUNT"),u("leave"),u("after-leave")):C&&x!==S?(d("ANIMATION_OUT"),u("leave")):(d("UNMOUNT"),u("after-leave"))}},{immediate:!0});const f=b=>{const C=jc(e.value),k=C.includes(b.animationName),w=c.value==="mounted"?"enter":"leave";if(b.target===e.value&&k&&(u(`after-${w}`),d("ANIMATION_END"),!r.value)){const x=e.value.style.animationFillMode;e.value.style.animationFillMode="forwards",a=l==null?void 0:l.setTimeout(()=>{var S;((S=e.value)==null?void 0:S.style.animationFillMode)==="forwards"&&(e.value.style.animationFillMode=x)})}b.target===e.value&&C==="none"&&d("ANIMATION_END")},p=b=>{b.target===e.value&&(o.value=jc(e.value))},h=i.watch(e,(b,C)=>{b?(n.value=getComputedStyle(b),b.addEventListener("animationstart",p),b.addEventListener("animationcancel",f),b.addEventListener("animationend",f)):(d("ANIMATION_END"),a!==void 0&&(l==null||l.clearTimeout(a)),C==null||C.removeEventListener("animationstart",p),C==null||C.removeEventListener("animationcancel",f),C==null||C.removeEventListener("animationend",f))},{immediate:!0}),m=i.watch(c,()=>{const b=jc(e.value);o.value=c.value==="mounted"?b:"none"});return i.onUnmounted(()=>{h(),m()}),{isPresent:i.computed(()=>["mounted","unmountSuspended"].includes(c.value))}}function jc(t){return t&&getComputedStyle(t).animationName||"none"}const At=i.defineComponent({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(t,{slots:e,expose:n}){var d;const{present:o,forceMount:r}=i.toRefs(t),s=i.ref(),{isPresent:a}=ZF(o,s);n({present:a});let l=e.default({present:a.value});l=Hh(l||[]);const c=i.getCurrentInstance();if(l&&(l==null?void 0:l.length)>1){const u=(d=c==null?void 0:c.parent)!=null&&d.type.name?`<${c.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${u}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}return()=>r.value||o.value||a.value?i.h(e.default({present:a.value})[0],{ref:u=>{const f=Jt(u);return typeof(f==null?void 0:f.hasAttribute)>"u"||(f!=null&&f.hasAttribute("data-reka-popper-content-wrapper")?s.value=f.firstElementChild:s.value=f),f}}):null}});function zo(t){const e=i.getCurrentInstance(),n=e==null?void 0:e.type.emits,o={};return n!=null&&n.length||console.warn(`No emitted event found. Please check component: ${e==null?void 0:e.type.__name}`),n==null||n.forEach(r=>{o[i.toHandlerKey(i.camelize(r))]=(...s)=>t(r,...s)}),o}function We(t){const e=i.getCurrentInstance(),n=Object.keys((e==null?void 0:e.type.props)??{}).reduce((r,s)=>{const a=(e==null?void 0:e.type.props[s]).default;return a!==void 0&&(r[s]=a),r},{}),o=i.toRef(t);return i.computed(()=>{const r={},s=(e==null?void 0:e.vnode.props)??{};return Object.keys(s).forEach(a=>{r[i.camelize(a)]=s[a]}),Object.keys({...n,...r}).reduce((a,l)=>(o.value[l]!==void 0&&(a[l]=o.value[l]),a),{})})}function fe(t,e){const n=We(t),o=e?zo(e):{};return i.computed(()=>({...n.value,...o}))}const[Ho,QF]=ke("DialogRoot"),ez=i.defineComponent({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:!1},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(t,{emit:e}){const n=t,r=rt(n,"open",e,{defaultValue:n.defaultOpen,passive:n.open===void 0}),s=i.ref(),a=i.ref(),{modal:l}=i.toRefs(n);return QF({open:r,modal:l,openModal:()=>{r.value=!0},onOpenChange:c=>{r.value=c},onOpenToggle:()=>{r.value=!r.value},contentId:"",titleId:"",descriptionId:"",triggerElement:s,contentElement:a}),(c,d)=>i.renderSlot(c.$slots,"default",{open:i.unref(r)})}}),Ca=i.defineComponent({__name:"Teleport",props:{to:{default:"body"},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=sk();return(n,o)=>i.unref(e)||n.forceMount?(i.openBlock(),i.createBlock(i.Teleport,{key:0,to:n.to,disabled:n.disabled,defer:n.defer},[i.renderSlot(n.$slots,"default")],8,["to","disabled","defer"])):i.createCommentVNode("",!0)}});function qh(t,e,n){const o=n.originalEvent.target,r=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),o.dispatchEvent(r)}const tz="dismissableLayer.pointerDownOutside",nz="dismissableLayer.focusOutside";function uk(t,e){const n=e.closest("[data-dismissable-layer]"),o=t.dataset.dismissableLayer===""?t:t.querySelector("[data-dismissable-layer]"),r=Array.from(t.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&o===n||r.indexOf(o)<r.indexOf(n))}function oz(t,e){var s;const n=((s=e==null?void 0:e.value)==null?void 0:s.ownerDocument)??(globalThis==null?void 0:globalThis.document),o=i.ref(!1),r=i.ref(()=>{});return i.watchEffect(a=>{if(!vn)return;const l=async d=>{const u=d.target;if(e!=null&&e.value){if(uk(e.value,u)){o.value=!1;return}if(d.target&&!o.value){let f=function(){qh(tz,t,p)};const p={originalEvent:d};d.pointerType==="touch"?(n.removeEventListener("click",r.value),r.value=f,n.addEventListener("click",r.value,{once:!0})):f()}else n.removeEventListener("click",r.value);o.value=!1}},c=window.setTimeout(()=>{n.addEventListener("pointerdown",l)},0);a(()=>{window.clearTimeout(c),n.removeEventListener("pointerdown",l),n.removeEventListener("click",r.value)})}),{onPointerDownCapture:()=>o.value=!0}}function rz(t,e){var r;const n=((r=e==null?void 0:e.value)==null?void 0:r.ownerDocument)??(globalThis==null?void 0:globalThis.document),o=i.ref(!1);return i.watchEffect(s=>{if(!vn)return;const a=async l=>{e!=null&&e.value&&(await i.nextTick(),await i.nextTick(),!(!e.value||uk(e.value,l.target))&&l.target&&!o.value&&qh(nz,t,{originalEvent:l}))};n.addEventListener("focusin",a),s(()=>n.removeEventListener("focusin",a))}),{onFocusCapture:()=>o.value=!0,onBlurCapture:()=>o.value=!1}}const ln=i.reactive({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ka=i.defineComponent({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(t,{emit:e}){const n=t,o=e,{forwardRef:r,currentElement:s}=H(),a=i.computed(()=>{var m;return((m=s.value)==null?void 0:m.ownerDocument)??globalThis.document}),l=i.computed(()=>ln.layersRoot),c=i.computed(()=>s.value?Array.from(l.value).indexOf(s.value):-1),d=i.computed(()=>ln.layersWithOutsidePointerEventsDisabled.size>0),u=i.computed(()=>{const m=Array.from(l.value),[g]=[...ln.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g);return c.value>=y}),f=oz(async m=>{const g=[...ln.branches].some(y=>y==null?void 0:y.contains(m.target));!u.value||g||(o("pointerDownOutside",m),o("interactOutside",m),await i.nextTick(),m.defaultPrevented||o("dismiss"))},s),p=rz(m=>{[...ln.branches].some(y=>y==null?void 0:y.contains(m.target))||(o("focusOutside",m),o("interactOutside",m),m.defaultPrevented||o("dismiss"))},s);Gh("Escape",m=>{c.value===l.value.size-1&&(o("escapeKeyDown",m),m.defaultPrevented||o("dismiss"))});let h;return i.watchEffect(m=>{s.value&&(n.disableOutsidePointerEvents&&(ln.layersWithOutsidePointerEventsDisabled.size===0&&(h=a.value.body.style.pointerEvents,a.value.body.style.pointerEvents="none"),ln.layersWithOutsidePointerEventsDisabled.add(s.value)),l.value.add(s.value),m(()=>{n.disableOutsidePointerEvents&&ln.layersWithOutsidePointerEventsDisabled.size===1&&(a.value.body.style.pointerEvents=h)}))}),i.watchEffect(m=>{m(()=>{s.value&&(l.value.delete(s.value),ln.layersWithOutsidePointerEventsDisabled.delete(s.value))})}),(m,g)=>(i.openBlock(),i.createBlock(i.unref(Y),{ref:i.unref(r),"as-child":m.asChild,as:m.as,"data-dismissable-layer":"",style:i.normalizeStyle({pointerEvents:d.value?u.value?"auto":"none":void 0}),onFocusCapture:i.unref(p).onFocusCapture,onBlurCapture:i.unref(p).onBlurCapture,onPointerdownCapture:i.unref(f).onPointerDownCapture},{default:i.withCtx(()=>[i.renderSlot(m.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}});function Ke(){let t=document.activeElement;if(t==null)return null;for(;t!=null&&t.shadowRoot!=null&&t.shadowRoot.activeElement!=null;)t=t.shadowRoot.activeElement;return t}const iz="menu.itemSelect",Yh=["Enter"," "],sz=["ArrowDown","PageUp","Home"],fk=["ArrowUp","PageDown","End"],az=[...sz,...fk],lz={ltr:[...Yh,"ArrowRight"],rtl:[...Yh,"ArrowLeft"]},cz={ltr:["ArrowLeft"],rtl:["ArrowRight"]};function Jh(t){return t?"open":"closed"}function Wc(t){return t==="indeterminate"}function pk(t){return Wc(t)?"indeterminate":t?"checked":"unchecked"}function Xh(t){const e=Ke();for(const n of t)if(n===e||(n.focus(),Ke()!==e))return}function dz(t,e){const{x:n,y:o}=t;let r=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s].x,c=e[s].y,d=e[a].x,u=e[a].y;c>o!=u>o&&n<(d-l)*(o-c)/(u-c)+l&&(r=!r)}return r}function uz(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return dz(n,e)}function xa(t){return t.pointerType==="mouse"}const fz="DialogTitle",pz="DialogContent";function hz({titleName:t=fz,contentName:e=pz,componentLink:n="dialog.html#title",titleId:o,descriptionId:r,contentElement:s}){const a=`Warning: \`${e}\` requires a \`${t}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://www.reka-ui.com/docs/components/${n}`,l=`Warning: Missing \`Description\` or \`aria-describedby="undefined"\` for ${e}.`;i.onMounted(()=>{var u;document.getElementById(o)||console.warn(a);const d=(u=s.value)==null?void 0:u.getAttribute("aria-describedby");r&&d&&(document.getElementById(r)||console.warn(l))})}const Zh="focusScope.autoFocusOnMount",Qh="focusScope.autoFocusOnUnmount",hk={bubbles:!1,cancelable:!0};function Kc(t,{select:e=!1}={}){const n=Ke();for(const o of t)if(Uo(o,{select:e}),Ke()!==n)return!0}function mz(t){const e=em(t),n=mk(e,t),o=mk(e.reverse(),t);return[n,o]}function em(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function mk(t,e){for(const n of t)if(!gz(n,{upTo:e}))return n}function gz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function yz(t){return t instanceof HTMLInputElement&&"select"in t}function Uo(t,{select:e=!1}={}){if(t&&t.focus){const n=Ke();t.focus({preventScroll:!0}),t!==n&&yz(t)&&e&&t.select()}}const bz=_F(()=>i.ref([]));function wz(){const t=bz();return{add(e){const n=t.value[0];e!==n&&(n==null||n.pause()),t.value=gk(t.value,e),t.value.unshift(e)},remove(e){var n;t.value=gk(t.value,e),(n=t.value[0])==null||n.resume()}}}function gk(t,e){const n=[...t],o=n.indexOf(e);return o!==-1&&n.splice(o,1),n}function Cz(t){return t.filter(e=>e.tagName!=="A")}const Gc=i.defineComponent({__name:"FocusScope",props:{loop:{type:Boolean,default:!1},trapped:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["mountAutoFocus","unmountAutoFocus"],setup(t,{emit:e}){const n=t,o=e,{currentRef:r,currentElement:s}=H(),a=i.ref(null),l=wz(),c=i.reactive({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});i.watchEffect(u=>{if(!vn)return;const f=s.value;if(!n.trapped)return;function p(y){if(c.paused||!f)return;const b=y.target;f.contains(b)?a.value=b:Uo(a.value,{select:!0})}function h(y){if(c.paused||!f)return;const b=y.relatedTarget;b!==null&&(f.contains(b)||Uo(a.value,{select:!0}))}function m(y){f.contains(a.value)||Uo(f)}document.addEventListener("focusin",p),document.addEventListener("focusout",h);const g=new MutationObserver(m);f&&g.observe(f,{childList:!0,subtree:!0}),u(()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",h),g.disconnect()})}),i.watchEffect(async u=>{const f=s.value;if(await i.nextTick(),!f)return;l.add(c);const p=Ke();if(!f.contains(p)){const m=new CustomEvent(Zh,hk);f.addEventListener(Zh,g=>o("mountAutoFocus",g)),f.dispatchEvent(m),m.defaultPrevented||(Kc(Cz(em(f)),{select:!0}),Ke()===p&&Uo(f))}u(()=>{f.removeEventListener(Zh,y=>o("mountAutoFocus",y));const m=new CustomEvent(Qh,hk),g=y=>{o("unmountAutoFocus",y)};f.addEventListener(Qh,g),f.dispatchEvent(m),setTimeout(()=>{m.defaultPrevented||Uo(p??document.body,{select:!0}),f.removeEventListener(Qh,g),l.remove(c)},0)})});function d(u){if(!n.loop&&!n.trapped||c.paused)return;const f=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,p=Ke();if(f&&p){const h=u.currentTarget,[m,g]=mz(h);m&&g?!u.shiftKey&&p===g?(u.preventDefault(),n.loop&&Uo(m,{select:!0})):u.shiftKey&&p===m&&(u.preventDefault(),n.loop&&Uo(g,{select:!0})):p===h&&u.preventDefault()}}return(u,f)=>(i.openBlock(),i.createBlock(i.unref(Y),{ref_key:"currentRef",ref:r,tabindex:"-1","as-child":u.asChild,as:u.as,onKeydown:d},{default:i.withCtx(()=>[i.renderSlot(u.$slots,"default")]),_:3},8,["as-child","as"]))}}),yk=i.defineComponent({__name:"DialogContentImpl",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=Ho(),{forwardRef:s,currentElement:a}=H();return r.titleId||(r.titleId=Je(void 0,"reka-dialog-title")),r.descriptionId||(r.descriptionId=Je(void 0,"reka-dialog-description")),i.onMounted(()=>{r.contentElement=a,Ke()!==document.body&&(r.triggerElement.value=Ke())}),process.env.NODE_ENV!=="production"&&hz({titleName:"DialogTitle",contentName:"DialogContent",componentLink:"dialog.html#title",titleId:r.titleId,descriptionId:r.descriptionId,contentElement:a}),(l,c)=>(i.openBlock(),i.createBlock(i.unref(Gc),{"as-child":"",loop:"",trapped:n.trapFocus,onMountAutoFocus:c[5]||(c[5]=d=>o("openAutoFocus",d)),onUnmountAutoFocus:c[6]||(c[6]=d=>o("closeAutoFocus",d))},{default:i.withCtx(()=>[i.createVNode(i.unref(ka),i.mergeProps({id:i.unref(r).contentId,ref:i.unref(s),as:l.as,"as-child":l.asChild,"disable-outside-pointer-events":l.disableOutsidePointerEvents,role:"dialog","aria-describedby":i.unref(r).descriptionId,"aria-labelledby":i.unref(r).titleId,"data-state":i.unref(Jh)(i.unref(r).open.value)},l.$attrs,{onDismiss:c[0]||(c[0]=d=>i.unref(r).onOpenChange(!1)),onEscapeKeyDown:c[1]||(c[1]=d=>o("escapeKeyDown",d)),onFocusOutside:c[2]||(c[2]=d=>o("focusOutside",d)),onInteractOutside:c[3]||(c[3]=d=>o("interactOutside",d)),onPointerDownOutside:c[4]||(c[4]=d=>o("pointerDownOutside",d))}),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}});var kz=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ui=new WeakMap,qc=new WeakMap,Yc={},tm=0,bk=function(t){return t&&(t.host||bk(t.parentNode))},xz=function(t,e){return e.map(function(n){if(t.contains(n))return n;var o=bk(n);return o&&t.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Sz=function(t,e,n,o){var r=xz(e,Array.isArray(t)?t:[t]);Yc[n]||(Yc[n]=new WeakMap);var s=Yc[n],a=[],l=new Set,c=new Set(r),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};r.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))u(p);else try{var h=p.getAttribute(o),m=h!==null&&h!=="false",g=(Ui.get(p)||0)+1,y=(s.get(p)||0)+1;Ui.set(p,g),s.set(p,y),a.push(p),g===1&&m&&qc.set(p,!0),y===1&&p.setAttribute(n,"true"),m||p.setAttribute(o,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return u(e),l.clear(),tm++,function(){a.forEach(function(f){var p=Ui.get(f)-1,h=s.get(f)-1;Ui.set(f,p),s.set(f,h),p||(qc.has(f)||f.removeAttribute(o),qc.delete(f)),h||f.removeAttribute(n)}),tm--,tm||(Ui=new WeakMap,Ui=new WeakMap,qc=new WeakMap,Yc={})}},Ez=function(t,e,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),r=kz(t);return r?(o.push.apply(o,Array.from(r.querySelectorAll("[aria-live]"))),Sz(o,r,n,"aria-hidden")):function(){return null}};function Jc(t){let e;i.watch(()=>Jt(t),n=>{n?e=Ez(n):e&&e()}),i.onUnmounted(()=>{e&&e()})}const _z=i.defineComponent({__name:"DialogContentModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=Ho(),s=zo(o),{forwardRef:a,currentElement:l}=H();return Jc(l),(c,d)=>(i.openBlock(),i.createBlock(yk,i.mergeProps({...n,...i.unref(s)},{ref:i.unref(a),"trap-focus":i.unref(r).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:d[0]||(d[0]=u=>{var f;u.defaultPrevented||(u.preventDefault(),(f=i.unref(r).triggerElement.value)==null||f.focus())}),onPointerDownOutside:d[1]||(d[1]=u=>{const f=u.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0;(f.button===2||p)&&u.preventDefault()}),onFocusOutside:d[2]||(d[2]=u=>{u.preventDefault()})}),{default:i.withCtx(()=>[i.renderSlot(c.$slots,"default")]),_:3},16,["trap-focus"]))}}),Az=i.defineComponent({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=zo(e);H();const s=Ho(),a=i.ref(!1),l=i.ref(!1);return(c,d)=>(i.openBlock(),i.createBlock(yk,i.mergeProps({...n,...i.unref(r)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:d[0]||(d[0]=u=>{var f;u.defaultPrevented||(a.value||(f=i.unref(s).triggerElement.value)==null||f.focus(),u.preventDefault()),a.value=!1,l.value=!1}),onInteractOutside:d[1]||(d[1]=u=>{var h;u.defaultPrevented||(a.value=!0,u.detail.originalEvent.type==="pointerdown"&&(l.value=!0));const f=u.target;((h=i.unref(s).triggerElement.value)==null?void 0:h.contains(f))&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&l.value&&u.preventDefault()})}),{default:i.withCtx(()=>[i.renderSlot(c.$slots,"default")]),_:3},16))}}),Tz=i.defineComponent({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=Ho(),s=zo(o),{forwardRef:a}=H();return(l,c)=>(i.openBlock(),i.createBlock(i.unref(At),{present:l.forceMount||i.unref(r).open.value},{default:i.withCtx(()=>[i.unref(r).modal.value?(i.openBlock(),i.createBlock(_z,i.mergeProps({key:0,ref:i.unref(a)},{...n,...i.unref(s),...l.$attrs}),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16)):(i.openBlock(),i.createBlock(Az,i.mergeProps({key:1,ref:i.unref(a)},{...n,...i.unref(s),...l.$attrs}),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}});function nm(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function om(t,e,n=".",o){if(!nm(e))return om(t,{},n,o);const r=Object.assign({},e);for(const s in t){if(s==="__proto__"||s==="constructor")continue;const a=t[s];a!=null&&(o&&o(r,s,a,n)||(Array.isArray(a)&&Array.isArray(r[s])?r[s]=[...a,...r[s]]:nm(a)&&nm(r[s])?r[s]=om(a,r[s],(n?`${n}.`:"")+s.toString(),o):r[s]=a))}return r}function Mz(t){return(...e)=>e.reduce((n,o)=>om(n,o,"",t),{})}const Oz=Mz(),vz=nk(()=>{const t=i.ref(new Map),e=i.ref(),n=i.computed(()=>{for(const a of t.value.values())if(a)return!0;return!1}),o=Uc({scrollBody:i.ref(!0)});let r=null;const s=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.body.style.removeProperty("--scrollbar-width"),document.body.style.overflow=e.value??"",ok&&(r==null||r()),e.value=void 0};return i.watch(n,(a,l)=>{var f;if(!vn)return;if(!a){l&&s();return}e.value===void 0&&(e.value=document.body.style.overflow);const c=window.innerWidth-document.documentElement.clientWidth,d={padding:c,margin:0},u=(f=o.scrollBody)!=null&&f.value?typeof o.scrollBody.value=="object"?Oz({padding:o.scrollBody.value.padding===!0?c:o.scrollBody.value.padding,margin:o.scrollBody.value.margin===!0?c:o.scrollBody.value.margin},d):d:{padding:0,margin:0};c>0&&(document.body.style.paddingRight=typeof u.padding=="number"?`${u.padding}px`:String(u.padding),document.body.style.marginRight=typeof u.margin=="number"?`${u.margin}px`:String(u.margin),document.body.style.setProperty("--scrollbar-width",`${c}px`),document.body.style.overflow="hidden"),ok&&(r=zi(document,"touchmove",p=>Nz(p),{passive:!1})),i.nextTick(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),t});function Xc(t){const e=Math.random().toString(36).substring(2,7),n=vz();n.value.set(e,t??!1);const o=i.computed({get:()=>n.value.get(e)??!1,set:r=>n.value.set(e,r)});return $F(()=>{n.value.delete(e)}),o}function wk(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const n=t.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:wk(n)}}function Nz(t){const e=t||window.event,n=e.target;return n instanceof Element&&wk(n)?!1:e.touches.length>1?!0:(e.preventDefault&&e.cancelable&&e.preventDefault(),!1)}const Iz=i.defineComponent({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean},as:{}},setup(t){const e=Ho();return Xc(!0),H(),(n,o)=>(i.openBlock(),i.createBlock(i.unref(Y),{as:n.as,"as-child":n.asChild,"data-state":i.unref(e).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),Bz=i.defineComponent({__name:"DialogOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const e=Ho(),{forwardRef:n}=H();return(o,r)=>{var s;return(s=i.unref(e))!=null&&s.modal.value?(i.openBlock(),i.createBlock(i.unref(At),{key:0,present:o.forceMount||i.unref(e).open.value},{default:i.withCtx(()=>[i.createVNode(Iz,i.mergeProps(o.$attrs,{ref:i.unref(n),as:o.as,"as-child":o.asChild}),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):i.createCommentVNode("",!0)}}}),Rz=i.defineComponent({__name:"DialogClose",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t;H();const n=Ho();return(o,r)=>(i.openBlock(),i.createBlock(i.unref(Y),i.mergeProps(e,{type:o.as==="button"?"button":void 0,onClick:r[0]||(r[0]=s=>i.unref(n).onOpenChange(!1))}),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16,["type"]))}}),Pz=i.defineComponent({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{default:"h2"}},setup(t){const e=t,n=Ho();return H(),(o,r)=>(i.openBlock(),i.createBlock(i.unref(Y),i.mergeProps(e,{id:i.unref(n).titleId}),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16,["id"]))}});function rm(){const t=i.ref(),e=i.computed(()=>{var n,o;return["#text","#comment"].includes((n=t.value)==null?void 0:n.$el.nodeName)?(o=t.value)==null?void 0:o.$el.nextElementSibling:Jt(t)});return{primitiveElement:t,currentElement:e}}function Zc(t){return i.computed(()=>{var e;return DF(t)?!!((e=Jt(t))!=null&&e.closest("form")):!0})}const Dz="rovingFocusGroup.onEntryFocus",$z={bubbles:!1,cancelable:!0},Lz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Vz(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Fz(t,e,n){const o=Vz(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return Lz[o]}function Ck(t,e=!1){const n=Ke();for(const o of t)if(o===n||(o.focus({preventScroll:e}),Ke()!==n))return}function zz(t,e){return t.map((n,o)=>t[(e+o)%t.length])}const kk="data-reka-collection-item";function bt(t={}){const{key:e="",isProvider:n=!1}=t,o=`${e}CollectionProvider`;let r;if(n){const u=i.ref(new Map);r={collectionRef:i.ref(),itemMap:u},i.provide(o,r)}else r=i.inject(o);const s=(u=!1)=>{const f=r.collectionRef.value;if(!f)return[];const p=Array.from(f.querySelectorAll(`[${kk}]`)),m=Array.from(r.itemMap.value.values()).sort((g,y)=>p.indexOf(g.ref)-p.indexOf(y.ref));return u?m:m.filter(g=>g.ref.dataset.disabled!=="")},a=i.defineComponent({name:"CollectionSlot",setup(u,{slots:f}){const{primitiveElement:p,currentElement:h}=rm();return i.watch(h,()=>{r.collectionRef.value=h.value}),()=>i.h(Uh,{ref:p},f)}}),l=i.defineComponent({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(u,{slots:f,attrs:p}){const{primitiveElement:h,currentElement:m}=rm();return i.watchEffect(g=>{if(m.value){const y=i.markRaw(m.value);r.itemMap.value.set(y,{ref:m.value,value:u.value}),g(()=>r.itemMap.value.delete(y))}}),()=>i.h(Uh,{...p,[kk]:"",ref:h},f)}}),c=i.computed(()=>Array.from(r.itemMap.value.values())),d=i.computed(()=>r.itemMap.value.size);return{getItems:s,reactiveItems:c,itemMapSize:d,CollectionSlot:a,CollectionItem:l}}const[Hz,Uz]=ke("RovingFocusGroup"),Qc=i.defineComponent({__name:"RovingFocusGroup",props:{orientation:{default:void 0},dir:{},loop:{type:Boolean,default:!1},currentTabStopId:{},defaultCurrentTabStopId:{},preventScrollOnEntryFocus:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["entryFocus","update:currentTabStopId"],setup(t,{expose:e,emit:n}){const o=t,r=n,{loop:s,orientation:a,dir:l}=i.toRefs(o),c=eo(l),d=rt(o,"currentTabStopId",r,{defaultValue:o.defaultCurrentTabStopId,passive:o.currentTabStopId===void 0}),u=i.ref(!1),f=i.ref(!1),p=i.ref(0),{getItems:h,CollectionSlot:m}=bt({isProvider:!0});function g(b){const C=!f.value;if(b.currentTarget&&b.target===b.currentTarget&&C&&!u.value){const k=new CustomEvent(Dz,$z);if(b.currentTarget.dispatchEvent(k),r("entryFocus",k),!k.defaultPrevented){const w=h().map(T=>T.ref).filter(T=>T.dataset.disabled!==""),x=w.find(T=>T.getAttribute("data-active")===""),S=w.find(T=>T.id===d.value),E=[x,S,...w].filter(Boolean);Ck(E,o.preventScrollOnEntryFocus)}}f.value=!1}function y(){setTimeout(()=>{f.value=!1},1)}return e({getItems:h}),Uz({loop:s,dir:c,orientation:a,currentTabStopId:d,onItemFocus:b=>{d.value=b},onItemShiftTab:()=>{u.value=!0},onFocusableItemAdd:()=>{p.value++},onFocusableItemRemove:()=>{p.value--}}),(b,C)=>(i.openBlock(),i.createBlock(i.unref(m),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Y),{tabindex:u.value||p.value===0?-1:0,"data-orientation":i.unref(a),as:b.as,"as-child":b.asChild,dir:i.unref(c),style:{outline:"none"},onMousedown:C[0]||(C[0]=k=>f.value=!0),onMouseup:y,onFocus:g,onBlur:C[1]||(C[1]=k=>u.value=!1)},{default:i.withCtx(()=>[i.renderSlot(b.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),xk=i.defineComponent({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(t){const e=t,{primitiveElement:n,currentElement:o}=rm(),r=i.computed(()=>e.checked??e.value);return i.watch(r,(s,a)=>{if(!o.value)return;const l=o.value,c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(u&&s!==a){const f=new Event("input",{bubbles:!0}),p=new Event("change",{bubbles:!0});u.call(l,s),l.dispatchEvent(f),l.dispatchEvent(p)}}),(s,a)=>(i.openBlock(),i.createBlock(ya,i.mergeProps({ref_key:"primitiveElement",ref:n},{...e,...s.$attrs},{as:"input"}),null,16))}}),im=i.defineComponent({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(t){const e=t,n=i.computed(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),o=i.computed(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((r,s)=>typeof r=="object"?Object.entries(r).map(([a,l])=>({name:`[${e.name}][${s}][${a}]`,value:l})):{name:`[${e.name}][${s}]`,value:r}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([r,s])=>({name:`[${e.name}][${r}]`,value:s})):[]);return(r,s)=>n.value?(i.openBlock(),i.createBlock(xk,i.mergeProps({key:r.name},{...e,...r.$attrs},{name:r.name,value:r.value}),null,16,["name","value"])):(i.openBlock(!0),i.createElementBlock(i.Fragment,{key:1},i.renderList(o.value,a=>(i.openBlock(),i.createBlock(xk,i.mergeProps({key:a.name,ref_for:!0},{...e,...r.$attrs},{name:a.name,value:a.value}),null,16,["name","value"]))),128))}}),[jz,Coe]=ke("CheckboxGroupRoot");function ed(t){return t==="indeterminate"}function Sk(t){return ed(t)?"indeterminate":t?"checked":"unchecked"}const td=i.defineComponent({__name:"RovingFocusItem",props:{tabStopId:{},focusable:{type:Boolean,default:!0},active:{type:Boolean},allowShiftKey:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(t){const e=t,n=Hz(),o=Je(),r=i.computed(()=>e.tabStopId||o),s=i.computed(()=>n.currentTabStopId.value===r.value),{getItems:a,CollectionItem:l}=bt();i.onMounted(()=>{e.focusable&&n.onFocusableItemAdd()}),i.onUnmounted(()=>{e.focusable&&n.onFocusableItemRemove()});function c(d){if(d.key==="Tab"&&d.shiftKey){n.onItemShiftTab();return}if(d.target!==d.currentTarget)return;const u=Fz(d,n.orientation.value,n.dir.value);if(u!==void 0){if(d.metaKey||d.ctrlKey||d.altKey||!e.allowShiftKey&&d.shiftKey)return;d.preventDefault();let f=[...a().map(p=>p.ref).filter(p=>p.dataset.disabled!=="")];if(u==="last")f.reverse();else if(u==="prev"||u==="next"){u==="prev"&&f.reverse();const p=f.indexOf(d.currentTarget);f=n.loop.value?zz(f,p+1):f.slice(p+1)}i.nextTick(()=>Ck(f))}}return(d,u)=>(i.openBlock(),i.createBlock(i.unref(l),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Y),{tabindex:s.value?0:-1,"data-orientation":i.unref(n).orientation.value,"data-active":d.active?"":void 0,"data-disabled":d.focusable?void 0:"",as:d.as,"as-child":d.asChild,onMousedown:u[0]||(u[0]=f=>{d.focusable?i.unref(n).onItemFocus(r.value):f.preventDefault()}),onFocus:u[1]||(u[1]=f=>i.unref(n).onItemFocus(r.value)),onKeydown:c},{default:i.withCtx(()=>[i.renderSlot(d.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),[Wz,Kz]=ke("CheckboxRoot"),Gz=i.defineComponent({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=e,{forwardRef:r,currentElement:s}=H(),a=jz(null),l=rt(n,"modelValue",o,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),c=i.computed(()=>(a==null?void 0:a.disabled.value)||n.disabled),d=i.computed(()=>wa(a==null?void 0:a.modelValue.value)?l.value==="indeterminate"?"indeterminate":l.value:Hc(a.modelValue.value,n.value));function u(){if(wa(a==null?void 0:a.modelValue.value))l.value=ed(l.value)?!0:!l.value;else{const h=[...a.modelValue.value||[]];if(Hc(h,n.value)){const m=h.findIndex(g=>Hi(g,n.value));h.splice(m,1)}else h.push(n.value);a.modelValue.value=h}}const f=Zc(s),p=i.computed(()=>{var h;return n.id&&s.value?(h=document.querySelector(`[for="${n.id}"]`))==null?void 0:h.innerText:void 0});return Kz({disabled:c,state:d}),(h,m)=>{var g,y;return i.openBlock(),i.createBlock(i.resolveDynamicComponent((g=i.unref(a))!=null&&g.rovingFocus.value?i.unref(td):i.unref(Y)),i.mergeProps(h.$attrs,{id:h.id,ref:i.unref(r),role:"checkbox","as-child":h.asChild,as:h.as,type:h.as==="button"?"button":void 0,"aria-checked":i.unref(ed)(d.value)?"mixed":d.value,"aria-required":h.required,"aria-label":h.$attrs["aria-label"]||p.value,"data-state":i.unref(Sk)(d.value),"data-disabled":c.value?"":void 0,disabled:c.value,focusable:(y=i.unref(a))!=null&&y.rovingFocus.value?!c.value:void 0,onKeydown:i.withKeys(i.withModifiers(()=>{},["prevent"]),["enter"]),onClick:u}),{default:i.withCtx(()=>[i.renderSlot(h.$slots,"default",{modelValue:i.unref(l),state:d.value}),i.unref(f)&&h.name&&!i.unref(a)?(i.openBlock(),i.createBlock(i.unref(im),{key:0,type:"checkbox",checked:!!d.value,name:h.name,value:h.value,disabled:c.value,required:h.required},null,8,["checked","name","value","disabled","required"])):i.createCommentVNode("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),qz=i.defineComponent({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(t){const{forwardRef:e}=H(),n=Wz();return(o,r)=>(i.openBlock(),i.createBlock(i.unref(At),{present:o.forceMount||i.unref(ed)(i.unref(n).state.value)||i.unref(n).state.value===!0},{default:i.withCtx(()=>[i.createVNode(i.unref(Y),i.mergeProps({ref:i.unref(e),"data-state":i.unref(Sk)(i.unref(n).state.value),"data-disabled":i.unref(n).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":o.asChild,as:o.as},o.$attrs),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),[Ek,Yz]=ke("PopperRoot"),Sa=i.defineComponent({inheritAttrs:!1,__name:"PopperRoot",setup(t){const e=i.ref();return Yz({anchor:e,onAnchorChange:n=>e.value=n}),(n,o)=>i.renderSlot(n.$slots,"default")}});function sm(t){const e=rk("",1e3);return{search:e,handleTypeaheadSearch:(r,s)=>{e.value=e.value+r;{const a=Ke(),l=s.map(p=>{var h,m;return{...p,textValue:((h=p.value)==null?void 0:h.textValue)??((m=p.ref.textContent)==null?void 0:m.trim())??""}}),c=l.find(p=>p.ref===a),d=l.map(p=>p.textValue),u=Jz(d,e.value,c==null?void 0:c.textValue),f=l.find(p=>p.textValue===u);return f&&f.ref.focus(),f==null?void 0:f.ref}},resetTypeahead:()=>{e.value=""}}}function _k(t,e){return t.map((n,o)=>t[(e+o)%t.length])}function Jz(t,e,n){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=_k(t,Math.max(s,0));r.length===1&&(a=a.filter(d=>d!==n));const c=a.find(d=>d.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function Xz(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const nd=i.defineComponent({__name:"PopperAnchor",props:{reference:{},asChild:{type:Boolean},as:{}},setup(t){const e=t,{forwardRef:n,currentElement:o}=H(),r=Ek();return i.watchPostEffect(()=>{r.onAnchorChange(e.reference??o.value)}),(s,a)=>(i.openBlock(),i.createBlock(i.unref(Y),{ref:i.unref(n),as:s.as,"as-child":s.asChild},{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},8,["as","as-child"]))}});function Zz(t){return t!==null}function Qz(t){return{name:"transformOrigin",options:t,fn(e){var y,b,C;const{placement:n,rects:o,middlewareData:r}=e,a=((y=r.arrow)==null?void 0:y.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[d,u]=am(n),f={start:"0%",center:"50%",end:"100%"}[u],p=(((b=r.arrow)==null?void 0:b.x)??0)+l/2,h=(((C=r.arrow)==null?void 0:C.y)??0)+c/2;let m="",g="";return d==="bottom"?(m=a?f:`${p}px`,g=`${-c}px`):d==="top"?(m=a?f:`${p}px`,g=`${o.floating.height+c}px`):d==="right"?(m=`${-c}px`,g=a?f:`${h}px`):d==="left"&&(m=`${o.floating.width+c}px`,g=a?f:`${h}px`),{data:{x:m,y:g}}}}}function am(t){const[e,n="center"]=t.split("-");return[e,n]}function eH(t){const e=i.ref(),n=i.computed(()=>{var r;return((r=e.value)==null?void 0:r.width)??0}),o=i.computed(()=>{var r;return((r=e.value)==null?void 0:r.height)??0});return i.onMounted(()=>{const r=Jt(t);if(r){e.value={width:r.offsetWidth,height:r.offsetHeight};const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let c,d;if("borderBoxSize"in l){const u=l.borderBoxSize,f=Array.isArray(u)?u[0]:u;c=f.inlineSize,d=f.blockSize}else c=r.offsetWidth,d=r.offsetHeight;e.value={width:c,height:d}});return s.observe(r,{box:"border-box"}),()=>s.unobserve(r)}else e.value=void 0}),{width:n,height:o}}const Ak={side:"bottom",sideOffset:0,align:"center",alignOffset:0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1},[koe,tH]=ke("PopperContent"),od=i.defineComponent({inheritAttrs:!1,__name:"PopperContent",props:i.mergeDefaults({side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},{...Ak}),emits:["placed"],setup(t,{emit:e}){const n=t,o=e,r=Ek(),{forwardRef:s,currentElement:a}=H(),l=i.ref(),c=i.ref(),{width:d,height:u}=eH(c),f=i.computed(()=>n.side+(n.align!=="center"?`-${n.align}`:"")),p=i.computed(()=>typeof n.collisionPadding=="number"?n.collisionPadding:{top:0,right:0,bottom:0,left:0,...n.collisionPadding}),h=i.computed(()=>Array.isArray(n.collisionBoundary)?n.collisionBoundary:[n.collisionBoundary]),m=i.computed(()=>({padding:p.value,boundary:h.value.filter(Zz),altBoundary:h.value.length>0})),g=SF(()=>[fF({mainAxis:n.sideOffset+u.value,alignmentAxis:n.alignOffset}),n.prioritizePosition&&n.avoidCollisions&&QC({...m.value}),n.avoidCollisions&&pF({mainAxis:!0,crossAxis:!!n.prioritizePosition,limiter:n.sticky==="partial"?yF():void 0,...m.value}),!n.prioritizePosition&&n.avoidCollisions&&QC({...m.value}),hF({...m.value,apply:({elements:M,rects:v,availableWidth:L,availableHeight:z})=>{const{width:D,height:B}=v.reference,O=M.floating.style;O.setProperty("--reka-popper-available-width",`${L}px`),O.setProperty("--reka-popper-available-height",`${z}px`),O.setProperty("--reka-popper-anchor-width",`${D}px`),O.setProperty("--reka-popper-anchor-height",`${B}px`)}}),c.value&&CF({element:c.value,padding:n.arrowPadding}),Qz({arrowWidth:d.value,arrowHeight:u.value}),n.hideWhenDetached&&mF({strategy:"referenceHidden",...m.value})]),y=i.computed(()=>n.reference??r.anchor.value),{floatingStyles:b,placement:C,isPositioned:k,middlewareData:w}=kF(y,l,{strategy:n.positionStrategy,placement:f,whileElementsMounted:(...M)=>uF(...M,{layoutShift:!n.disableUpdateOnLayoutShift,animationFrame:n.updatePositionStrategy==="always"}),middleware:g}),x=i.computed(()=>am(C.value)[0]),S=i.computed(()=>am(C.value)[1]);i.watchPostEffect(()=>{k.value&&o("placed")});const E=i.computed(()=>{var M;return((M=w.value.arrow)==null?void 0:M.centerOffset)!==0}),T=i.ref("");i.watchEffect(()=>{a.value&&(T.value=window.getComputedStyle(a.value).zIndex)});const _=i.computed(()=>{var M;return((M=w.value.arrow)==null?void 0:M.x)??0}),A=i.computed(()=>{var M;return((M=w.value.arrow)==null?void 0:M.y)??0});return tH({placedSide:x,onArrowChange:M=>c.value=M,arrowX:_,arrowY:A,shouldHideArrow:E}),(M,v)=>{var L,z,D;return i.openBlock(),i.createElementBlock("div",{ref_key:"floatingRef",ref:l,"data-reka-popper-content-wrapper":"",style:i.normalizeStyle({...i.unref(b),transform:i.unref(k)?i.unref(b).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:T.value,"--reka-popper-transform-origin":[(L=i.unref(w).transformOrigin)==null?void 0:L.x,(z=i.unref(w).transformOrigin)==null?void 0:z.y].join(" "),...((D=i.unref(w).hide)==null?void 0:D.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}})},[i.createVNode(i.unref(Y),i.mergeProps({ref:i.unref(s)},M.$attrs,{"as-child":n.asChild,as:M.as,"data-side":x.value,"data-align":S.value,style:{animation:i.unref(k)?void 0:"none"}}),{default:i.withCtx(()=>[i.renderSlot(M.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4)}}});function Tk(t){const e=Uc({nonce:i.ref()});return i.computed(()=>{var n;return(t==null?void 0:t.value)||((n=e.nonce)==null?void 0:n.value)})}function nH(){const t=i.ref(!1);return i.onMounted(()=>{zi("keydown",()=>{t.value=!0},{capture:!0,passive:!0}),zi(["pointerdown","pointermove"],()=>{t.value=!1},{capture:!0,passive:!0})}),t}const oH=nk(nH),[$r,Mk]=ke(["MenuRoot","MenuSub"],"MenuContext"),[Ea,rH]=ke("MenuRoot"),Ok=i.defineComponent({__name:"MenuRoot",props:{open:{type:Boolean,default:!1},dir:{},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(t,{emit:e}){const n=t,o=e,{modal:r,dir:s}=i.toRefs(n),a=eo(s),l=rt(n,"open",o),c=i.ref(),d=oH();return Mk({open:l,onOpenChange:u=>{l.value=u},content:c,onContentChange:u=>{c.value=u}}),rH({onClose:()=>{l.value=!1},isUsingKeyboardRef:d,dir:a,modal:r}),(u,f)=>(i.openBlock(),i.createBlock(i.unref(Sa),null,{default:i.withCtx(()=>[i.renderSlot(u.$slots,"default")]),_:3}))}}),lm=i.defineComponent({__name:"MenuAnchor",props:{reference:{},asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(nd),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),vk=i.defineComponent({__name:"MenuPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(Ca),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}});let cm=0;function dm(){i.watchEffect(t=>{if(!vn)return;const e=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",e[0]??Nk()),document.body.insertAdjacentElement("beforeend",e[1]??Nk()),cm++,t(()=>{cm===1&&document.querySelectorAll("[data-reka-focus-guard]").forEach(n=>n.remove()),cm--})})}function Nk(){const t=document.createElement("span");return t.setAttribute("data-reka-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}const[um,iH]=ke("MenuContent"),fm=i.defineComponent({__name:"MenuContentImpl",props:i.mergeDefaults({loop:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},disableOutsideScroll:{type:Boolean},trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},{...Ak}),emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus","dismiss"],setup(t,{emit:e}){const n=t,o=e,r=$r(),s=Ea(),{trapFocus:a,disableOutsidePointerEvents:l,loop:c}=i.toRefs(n);dm(),Xc(l.value);const d=i.ref(""),u=i.ref(0),f=i.ref(0),p=i.ref(null),h=i.ref("right"),m=i.ref(0),g=i.ref(null),y=i.ref(),{forwardRef:b,currentElement:C}=H(),{handleTypeaheadSearch:k}=sm();i.watch(C,_=>{r.onContentChange(_)}),i.onUnmounted(()=>{window.clearTimeout(u.value)});function w(_){var M,v;return h.value===((M=p.value)==null?void 0:M.side)&&uz(_,(v=p.value)==null?void 0:v.area)}async function x(_){var A;o("openAutoFocus",_),!_.defaultPrevented&&(_.preventDefault(),(A=C.value)==null||A.focus({preventScroll:!0}))}function S(_){var O;if(_.defaultPrevented)return;const M=_.target.closest("[data-reka-menu-content]")===_.currentTarget,v=_.ctrlKey||_.altKey||_.metaKey,L=_.key.length===1,z=JF(_,Ke(),C.value,{loop:c.value,arrowKeyOptions:"vertical",dir:s==null?void 0:s.dir.value,focus:!0,attributeName:"[data-reka-collection-item]:not([data-disabled])"});if(z)return z==null?void 0:z.focus();if(_.code==="Space")return;const D=((O=y.value)==null?void 0:O.getItems())??[];if(M&&(_.key==="Tab"&&_.preventDefault(),!v&&L&&k(_.key,D)),_.target!==C.value||!az.includes(_.key))return;_.preventDefault();const B=[...D.map($=>$.ref)];fk.includes(_.key)&&B.reverse(),Xh(B)}function E(_){var A,M;(M=(A=_==null?void 0:_.currentTarget)==null?void 0:A.contains)!=null&&M.call(A,_.target)||(window.clearTimeout(u.value),d.value="")}function T(_){var v;if(!xa(_))return;const A=_.target,M=m.value!==_.clientX;if((v=_==null?void 0:_.currentTarget)!=null&&v.contains(A)&&M){const L=_.clientX>m.value?"right":"left";h.value=L,m.value=_.clientX}}return iH({onItemEnter:_=>!!w(_),onItemLeave:_=>{var A;w(_)||((A=C.value)==null||A.focus(),g.value=null)},onTriggerLeave:_=>!!w(_),searchRef:d,pointerGraceTimerRef:f,onPointerGraceIntentChange:_=>{p.value=_}}),(_,A)=>(i.openBlock(),i.createBlock(i.unref(Gc),{"as-child":"",trapped:i.unref(a),onMountAutoFocus:x,onUnmountAutoFocus:A[7]||(A[7]=M=>o("closeAutoFocus",M))},{default:i.withCtx(()=>[i.createVNode(i.unref(ka),{"as-child":"","disable-outside-pointer-events":i.unref(l),onEscapeKeyDown:A[2]||(A[2]=M=>o("escapeKeyDown",M)),onPointerDownOutside:A[3]||(A[3]=M=>o("pointerDownOutside",M)),onFocusOutside:A[4]||(A[4]=M=>o("focusOutside",M)),onInteractOutside:A[5]||(A[5]=M=>o("interactOutside",M)),onDismiss:A[6]||(A[6]=M=>o("dismiss"))},{default:i.withCtx(()=>[i.createVNode(i.unref(Qc),{ref_key:"rovingFocusGroupRef",ref:y,"current-tab-stop-id":g.value,"onUpdate:currentTabStopId":A[0]||(A[0]=M=>g.value=M),"as-child":"",orientation:"vertical",dir:i.unref(s).dir.value,loop:i.unref(c),onEntryFocus:A[1]||(A[1]=M=>{o("entryFocus",M),i.unref(s).isUsingKeyboardRef.value||M.preventDefault()})},{default:i.withCtx(()=>[i.createVNode(i.unref(od),{ref:i.unref(b),role:"menu",as:_.as,"as-child":_.asChild,"aria-orientation":"vertical","data-reka-menu-content":"","data-state":i.unref(Jh)(i.unref(r).open.value),dir:i.unref(s).dir.value,side:_.side,"side-offset":_.sideOffset,align:_.align,"align-offset":_.alignOffset,"avoid-collisions":_.avoidCollisions,"collision-boundary":_.collisionBoundary,"collision-padding":_.collisionPadding,"arrow-padding":_.arrowPadding,"prioritize-position":_.prioritizePosition,"position-strategy":_.positionStrategy,"update-position-strategy":_.updatePositionStrategy,sticky:_.sticky,"hide-when-detached":_.hideWhenDetached,reference:_.reference,onKeydown:S,onBlur:E,onPointermove:T},{default:i.withCtx(()=>[i.renderSlot(_.$slots,"default")]),_:3},8,["as","as-child","data-state","dir","side","side-offset","align","align-offset","avoid-collisions","collision-boundary","collision-padding","arrow-padding","prioritize-position","position-strategy","update-position-strategy","sticky","hide-when-detached","reference"])]),_:3},8,["current-tab-stop-id","dir","loop"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),sH=i.defineComponent({__name:"MenuRootContentModal",props:{loop:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=fe(n,o),s=$r(),{forwardRef:a,currentElement:l}=H();return Jc(l),(c,d)=>(i.openBlock(),i.createBlock(fm,i.mergeProps(i.unref(r),{ref:i.unref(a),"trap-focus":i.unref(s).open.value,"disable-outside-pointer-events":i.unref(s).open.value,"disable-outside-scroll":!0,onDismiss:d[0]||(d[0]=u=>i.unref(s).onOpenChange(!1)),onFocusOutside:d[1]||(d[1]=i.withModifiers(u=>o("focusOutside",u),["prevent"]))}),{default:i.withCtx(()=>[i.renderSlot(c.$slots,"default")]),_:3},16,["trap-focus","disable-outside-pointer-events"]))}}),aH=i.defineComponent({__name:"MenuRootContentNonModal",props:{loop:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const r=fe(t,e),s=$r();return(a,l)=>(i.openBlock(),i.createBlock(fm,i.mergeProps(i.unref(r),{"trap-focus":!1,"disable-outside-pointer-events":!1,"disable-outside-scroll":!1,onDismiss:l[0]||(l[0]=c=>i.unref(s).onOpenChange(!1))}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16))}}),Ik=i.defineComponent({__name:"MenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const r=fe(t,e),s=$r(),a=Ea();return(l,c)=>(i.openBlock(),i.createBlock(i.unref(At),{present:l.forceMount||i.unref(s).open.value},{default:i.withCtx(()=>[i.unref(a).modal.value?(i.openBlock(),i.createBlock(sH,i.normalizeProps(i.mergeProps({key:0},{...l.$attrs,...i.unref(r)})),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16)):(i.openBlock(),i.createBlock(aH,i.normalizeProps(i.mergeProps({key:1},{...l.$attrs,...i.unref(r)})),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Bk=i.defineComponent({inheritAttrs:!1,__name:"MenuItemImpl",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},setup(t){const e=t,n=um(),{forwardRef:o}=H(),{CollectionItem:r}=bt(),s=i.ref(!1);async function a(c){if(!c.defaultPrevented&&xa(c)){if(e.disabled)n.onItemLeave(c);else if(!n.onItemEnter(c)){const u=c.currentTarget;u==null||u.focus({preventScroll:!0})}}}async function l(c){await i.nextTick(),!c.defaultPrevented&&xa(c)&&n.onItemLeave(c)}return(c,d)=>(i.openBlock(),i.createBlock(i.unref(r),{value:{textValue:c.textValue}},{default:i.withCtx(()=>[i.createVNode(i.unref(Y),i.mergeProps({ref:i.unref(o),role:"menuitem",tabindex:"-1"},c.$attrs,{as:c.as,"as-child":c.asChild,"aria-disabled":c.disabled||void 0,"data-disabled":c.disabled?"":void 0,"data-highlighted":s.value?"":void 0,onPointermove:a,onPointerleave:l,onFocus:d[0]||(d[0]=async u=>{await i.nextTick(),!(u.defaultPrevented||c.disabled)&&(s.value=!0)}),onBlur:d[1]||(d[1]=async u=>{await i.nextTick(),!u.defaultPrevented&&(s.value=!1)})}),{default:i.withCtx(()=>[i.renderSlot(c.$slots,"default")]),_:3},16,["as","as-child","aria-disabled","data-disabled","data-highlighted"])]),_:3},8,["value"]))}}),pm=i.defineComponent({__name:"MenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select"],setup(t,{emit:e}){const n=t,o=e,{forwardRef:r,currentElement:s}=H(),a=Ea(),l=um(),c=i.ref(!1);async function d(){const u=s.value;if(!n.disabled&&u){const f=new CustomEvent(iz,{bubbles:!0,cancelable:!0});o("select",f),await i.nextTick(),f.defaultPrevented?c.value=!1:a.onClose()}}return(u,f)=>(i.openBlock(),i.createBlock(Bk,i.mergeProps(n,{ref:i.unref(r),onClick:d,onPointerdown:f[0]||(f[0]=()=>{c.value=!0}),onPointerup:f[1]||(f[1]=async p=>{var h;await i.nextTick(),!p.defaultPrevented&&(c.value||(h=p.currentTarget)==null||h.click())}),onKeydown:f[2]||(f[2]=async p=>{const h=i.unref(l).searchRef.value!=="";u.disabled||h&&p.key===" "||i.unref(Yh).includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})}),{default:i.withCtx(()=>[i.renderSlot(u.$slots,"default")]),_:3},16))}}),Rk=i.defineComponent({__name:"MenuSeparator",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(Y),i.mergeProps(e,{role:"separator","aria-orientation":"horizontal"}),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),[lH,cH]=ke(["MenuCheckboxItem","MenuRadioItem"],"MenuItemIndicatorContext"),Pk=i.defineComponent({__name:"MenuItemIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(t){const e=lH({modelValue:i.ref(!1)});return(n,o)=>(i.openBlock(),i.createBlock(i.unref(At),{present:n.forceMount||i.unref(Wc)(i.unref(e).modelValue.value)||i.unref(e).modelValue.value===!0},{default:i.withCtx(()=>[i.createVNode(i.unref(Y),{as:n.as,"as-child":n.asChild,"data-state":i.unref(pk)(i.unref(e).modelValue.value)},{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},8,["as","as-child","data-state"])]),_:3},8,["present"]))}}),Dk=i.defineComponent({__name:"MenuCheckboxItem",props:{modelValue:{type:[Boolean,String],default:!1},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select","update:modelValue"],setup(t,{emit:e}){const n=t,o=e,r=rt(n,"modelValue",o);return cH({modelValue:r}),(s,a)=>(i.openBlock(),i.createBlock(pm,i.mergeProps({role:"menuitemcheckbox"},n,{"aria-checked":i.unref(Wc)(i.unref(r))?"mixed":i.unref(r),"data-state":i.unref(pk)(i.unref(r)),onSelect:a[0]||(a[0]=async l=>{o("select",l),i.unref(Wc)(i.unref(r))?r.value=!0:r.value=!i.unref(r)})}),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default",{modelValue:i.unref(r)})]),_:3},16,["aria-checked","data-state"]))}}),[$k,dH]=ke("MenuSub"),uH=i.defineComponent({__name:"MenuSub",props:{open:{type:Boolean,default:void 0}},emits:["update:open"],setup(t,{emit:e}){const n=t,r=rt(n,"open",e,{defaultValue:!1,passive:n.open===void 0}),s=$r(),a=i.ref(),l=i.ref();return i.watchEffect(c=>{(s==null?void 0:s.open.value)===!1&&(r.value=!1),c(()=>r.value=!1)}),Mk({open:r,onOpenChange:c=>{r.value=c},content:l,onContentChange:c=>{l.value=c}}),dH({triggerId:"",contentId:"",trigger:a,onTriggerChange:c=>{a.value=c}}),(c,d)=>(i.openBlock(),i.createBlock(i.unref(Sa),null,{default:i.withCtx(()=>[i.renderSlot(c.$slots,"default")]),_:3}))}}),fH=i.defineComponent({__name:"MenuSubContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},sideOffset:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean,default:!0},reference:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const r=fe(t,e),s=$r(),a=Ea(),l=$k(),{forwardRef:c,currentElement:d}=H();return l.contentId||(l.contentId=Je(void 0,"reka-menu-sub-content")),(u,f)=>(i.openBlock(),i.createBlock(i.unref(At),{present:u.forceMount||i.unref(s).open.value},{default:i.withCtx(()=>[i.createVNode(fm,i.mergeProps(i.unref(r),{id:i.unref(l).contentId,ref:i.unref(c),"aria-labelledby":i.unref(l).triggerId,align:"start",side:i.unref(a).dir.value==="rtl"?"left":"right","disable-outside-pointer-events":!1,"disable-outside-scroll":!1,"trap-focus":!1,onOpenAutoFocus:f[0]||(f[0]=i.withModifiers(p=>{var h;i.unref(a).isUsingKeyboardRef.value&&((h=i.unref(d))==null||h.focus())},["prevent"])),onCloseAutoFocus:f[1]||(f[1]=i.withModifiers(()=>{},["prevent"])),onFocusOutside:f[2]||(f[2]=p=>{p.defaultPrevented||p.target!==i.unref(l).trigger.value&&i.unref(s).onOpenChange(!1)}),onEscapeKeyDown:f[3]||(f[3]=p=>{i.unref(a).onClose(),p.preventDefault()}),onKeydown:f[4]||(f[4]=p=>{var g,y;const h=(g=p.currentTarget)==null?void 0:g.contains(p.target),m=i.unref(cz)[i.unref(a).dir.value].includes(p.key);h&&m&&(i.unref(s).onOpenChange(!1),(y=i.unref(l).trigger.value)==null||y.focus(),p.preventDefault())})}),{default:i.withCtx(()=>[i.renderSlot(u.$slots,"default")]),_:3},16,["id","aria-labelledby","side"])]),_:3},8,["present"]))}}),pH=i.defineComponent({__name:"MenuSubTrigger",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},setup(t){const e=t,n=$r(),o=Ea(),r=$k(),s=um(),a=i.ref(null);r.triggerId||(r.triggerId=Je(void 0,"reka-menu-sub-trigger"));function l(){a.value&&window.clearTimeout(a.value),a.value=null}i.onUnmounted(()=>{l()});function c(f){!xa(f)||s.onItemEnter(f)||!e.disabled&&!n.open.value&&!a.value&&(s.onPointerGraceIntentChange(null),a.value=window.setTimeout(()=>{n.onOpenChange(!0),l()},100))}async function d(f){var h,m;if(!xa(f))return;l();const p=(h=n.content.value)==null?void 0:h.getBoundingClientRect();if(p!=null&&p.width){const g=(m=n.content.value)==null?void 0:m.dataset.side,y=g==="right",b=y?-5:5,C=p[y?"left":"right"],k=p[y?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:C,y:p.top},{x:k,y:p.top},{x:k,y:p.bottom},{x:C,y:p.bottom}],side:g}),window.clearTimeout(s.pointerGraceTimerRef.value),s.pointerGraceTimerRef.value=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f))return;s.onPointerGraceIntentChange(null)}}async function u(f){var h;const p=s.searchRef.value!=="";e.disabled||p&&f.key===" "||lz[o.dir.value].includes(f.key)&&(n.onOpenChange(!0),await i.nextTick(),(h=n.content.value)==null||h.focus(),f.preventDefault())}return(f,p)=>(i.openBlock(),i.createBlock(lm,{"as-child":""},{default:i.withCtx(()=>[i.createVNode(Bk,i.mergeProps(e,{id:i.unref(r).triggerId,ref:h=>{var m;(m=i.unref(r))==null||m.onTriggerChange(h==null?void 0:h.$el)},"aria-haspopup":"menu","aria-expanded":i.unref(n).open.value,"aria-controls":i.unref(r).contentId,"data-state":i.unref(Jh)(i.unref(n).open.value),onClick:p[0]||(p[0]=async h=>{e.disabled||h.defaultPrevented||(h.currentTarget.focus(),i.unref(n).open.value||i.unref(n).onOpenChange(!0))}),onPointermove:c,onPointerleave:d,onKeydown:u}),{default:i.withCtx(()=>[i.renderSlot(f.$slots,"default")]),_:3},16,["id","aria-expanded","aria-controls","data-state"])]),_:3}))}}),[_a,hH]=ke("PopoverRoot"),mH=i.defineComponent({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},modal:{type:Boolean,default:!1}},emits:["update:open"],setup(t,{emit:e}){const n=t,o=e,{modal:r}=i.toRefs(n),s=rt(n,"open",o,{defaultValue:n.defaultOpen,passive:n.open===void 0}),a=i.ref(),l=i.ref(!1);return hH({contentId:"",triggerId:"",modal:r,open:s,onOpenChange:c=>{s.value=c},onOpenToggle:()=>{s.value=!s.value},triggerElement:a,hasCustomAnchor:l}),(c,d)=>(i.openBlock(),i.createBlock(i.unref(Sa),null,{default:i.withCtx(()=>[i.renderSlot(c.$slots,"default",{open:i.unref(s)})]),_:3}))}}),gH=i.defineComponent({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=_a(),{forwardRef:o,currentElement:r}=H();return n.triggerId||(n.triggerId=Je(void 0,"reka-popover-trigger")),i.onMounted(()=>{n.triggerElement.value=r.value}),(s,a)=>(i.openBlock(),i.createBlock(i.resolveDynamicComponent(i.unref(n).hasCustomAnchor.value?i.unref(Y):i.unref(nd)),{"as-child":""},{default:i.withCtx(()=>[i.createVNode(i.unref(Y),{id:i.unref(n).triggerId,ref:i.unref(o),type:s.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":i.unref(n).open.value,"aria-controls":i.unref(n).contentId,"data-state":i.unref(n).open.value?"open":"closed",as:s.as,"as-child":e.asChild,onClick:i.unref(n).onOpenToggle},{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),yH=i.defineComponent({__name:"PopoverPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(Ca),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),Lk=i.defineComponent({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=We(MF(n,"trapFocus","disableOutsidePointerEvents")),{forwardRef:s}=H(),a=_a();return dm(),(l,c)=>(i.openBlock(),i.createBlock(i.unref(Gc),{"as-child":"",loop:"",trapped:l.trapFocus,onMountAutoFocus:c[5]||(c[5]=d=>o("openAutoFocus",d)),onUnmountAutoFocus:c[6]||(c[6]=d=>o("closeAutoFocus",d))},{default:i.withCtx(()=>[i.createVNode(i.unref(ka),{"as-child":"","disable-outside-pointer-events":l.disableOutsidePointerEvents,onPointerDownOutside:c[0]||(c[0]=d=>o("pointerDownOutside",d)),onInteractOutside:c[1]||(c[1]=d=>o("interactOutside",d)),onEscapeKeyDown:c[2]||(c[2]=d=>o("escapeKeyDown",d)),onFocusOutside:c[3]||(c[3]=d=>o("focusOutside",d)),onDismiss:c[4]||(c[4]=d=>i.unref(a).onOpenChange(!1))},{default:i.withCtx(()=>[i.createVNode(i.unref(od),i.mergeProps(i.unref(r),{id:i.unref(a).contentId,ref:i.unref(s),"data-state":i.unref(a).open.value?"open":"closed","aria-labelledby":i.unref(a).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),bH=i.defineComponent({__name:"PopoverContentModal",props:{side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=_a(),s=i.ref(!1);Xc(!0);const a=fe(n,o),{forwardRef:l,currentElement:c}=H();return Jc(c),(d,u)=>(i.openBlock(),i.createBlock(Lk,i.mergeProps(i.unref(a),{ref:i.unref(l),"trap-focus":i.unref(r).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:u[0]||(u[0]=i.withModifiers(f=>{var p;o("closeAutoFocus",f),s.value||(p=i.unref(r).triggerElement.value)==null||p.focus()},["prevent"])),onPointerDownOutside:u[1]||(u[1]=f=>{o("pointerDownOutside",f);const p=f.detail.originalEvent,h=p.button===0&&p.ctrlKey===!0,m=p.button===2||h;s.value=m}),onFocusOutside:u[2]||(u[2]=i.withModifiers(()=>{},["prevent"]))}),{default:i.withCtx(()=>[i.renderSlot(d.$slots,"default")]),_:3},16,["trap-focus"]))}}),wH=i.defineComponent({__name:"PopoverContentNonModal",props:{side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=_a(),s=i.ref(!1),a=i.ref(!1),l=fe(n,o);return(c,d)=>(i.openBlock(),i.createBlock(Lk,i.mergeProps(i.unref(l),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:d[0]||(d[0]=u=>{var f;o("closeAutoFocus",u),u.defaultPrevented||(s.value||(f=i.unref(r).triggerElement.value)==null||f.focus(),u.preventDefault()),s.value=!1,a.value=!1}),onInteractOutside:d[1]||(d[1]=async u=>{var h;o("interactOutside",u),u.defaultPrevented||(s.value=!0,u.detail.originalEvent.type==="pointerdown"&&(a.value=!0));const f=u.target;((h=i.unref(r).triggerElement.value)==null?void 0:h.contains(f))&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&a.value&&u.preventDefault()})}),{default:i.withCtx(()=>[i.renderSlot(c.$slots,"default")]),_:3},16))}}),CH=i.defineComponent({__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=_a(),s=fe(n,o),{forwardRef:a}=H();return r.contentId||(r.contentId=Je(void 0,"reka-popover-content")),(l,c)=>(i.openBlock(),i.createBlock(i.unref(At),{present:l.forceMount||i.unref(r).open.value},{default:i.withCtx(()=>[i.unref(r).modal.value?(i.openBlock(),i.createBlock(bH,i.mergeProps({key:0},i.unref(s),{ref:i.unref(a)}),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16)):(i.openBlock(),i.createBlock(wH,i.mergeProps({key:1},i.unref(s),{ref:i.unref(a)}),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),kH=i.defineComponent({__name:"DialogPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(Ca),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),[Vk,xH]=ke("DropdownMenuRoot"),SH=i.defineComponent({__name:"DropdownMenuRoot",props:{defaultOpen:{type:Boolean},open:{type:Boolean,default:void 0},dir:{},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(t,{emit:e}){const n=t,o=e;H();const r=rt(n,"open",o,{defaultValue:n.defaultOpen,passive:n.open===void 0}),s=i.ref(),{modal:a,dir:l}=i.toRefs(n),c=eo(l);return xH({open:r,onOpenChange:d=>{r.value=d},onOpenToggle:()=>{r.value=!r.value},triggerId:"",triggerElement:s,contentId:"",modal:a,dir:c}),(d,u)=>(i.openBlock(),i.createBlock(i.unref(Ok),{open:i.unref(r),"onUpdate:open":u[0]||(u[0]=f=>i.isRef(r)?r.value=f:null),dir:i.unref(c),modal:i.unref(a)},{default:i.withCtx(()=>[i.renderSlot(d.$slots,"default",{open:i.unref(r)})]),_:3},8,["open","dir","modal"]))}}),EH=i.defineComponent({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=Vk(),{forwardRef:o,currentElement:r}=H();return i.onMounted(()=>{n.triggerElement=r}),n.triggerId||(n.triggerId=Je(void 0,"reka-dropdown-menu-trigger")),(s,a)=>(i.openBlock(),i.createBlock(i.unref(lm),{"as-child":""},{default:i.withCtx(()=>[i.createVNode(i.unref(Y),{id:i.unref(n).triggerId,ref:i.unref(o),type:s.as==="button"?"button":void 0,"as-child":e.asChild,as:s.as,"aria-haspopup":"menu","aria-expanded":i.unref(n).open.value,"aria-controls":i.unref(n).open.value?i.unref(n).contentId:void 0,"data-disabled":s.disabled?"":void 0,disabled:s.disabled,"data-state":i.unref(n).open.value?"open":"closed",onClick:a[0]||(a[0]=async l=>{var c;!s.disabled&&l.button===0&&l.ctrlKey===!1&&((c=i.unref(n))==null||c.onOpenToggle(),await i.nextTick(),i.unref(n).open.value&&l.preventDefault())}),onKeydown:a[1]||(a[1]=i.withKeys(l=>{s.disabled||(["Enter"," "].includes(l.key)&&i.unref(n).onOpenToggle(),l.key==="ArrowDown"&&i.unref(n).onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())},["enter","space","arrow-down"]))},{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},8,["id","type","as-child","as","aria-expanded","aria-controls","data-disabled","disabled","data-state"])]),_:3}))}}),hm=i.defineComponent({__name:"DropdownMenuPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(vk),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),_H=i.defineComponent({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(t,{emit:e}){const r=fe(t,e);H();const s=Vk(),a=i.ref(!1);function l(c){c.defaultPrevented||(a.value||setTimeout(()=>{var d;(d=s.triggerElement.value)==null||d.focus()},0),a.value=!1,c.preventDefault())}return s.contentId||(s.contentId=Je(void 0,"reka-dropdown-menu-content")),(c,d)=>{var u;return i.openBlock(),i.createBlock(i.unref(Ik),i.mergeProps(i.unref(r),{id:i.unref(s).contentId,"aria-labelledby":(u=i.unref(s))==null?void 0:u.triggerId,style:{"--reka-dropdown-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-dropdown-menu-content-available-width":"var(--reka-popper-available-width)","--reka-dropdown-menu-content-available-height":"var(--reka-popper-available-height)","--reka-dropdown-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-dropdown-menu-trigger-height":"var(--reka-popper-anchor-height)"},onCloseAutoFocus:l,onInteractOutside:d[0]||(d[0]=f=>{var g;if(f.defaultPrevented)return;const p=f.detail.originalEvent,h=p.button===0&&p.ctrlKey===!0,m=p.button===2||h;(!i.unref(s).modal.value||m)&&(a.value=!0),(g=i.unref(s).triggerElement.value)!=null&&g.contains(f.target)&&f.preventDefault()})}),{default:i.withCtx(()=>[i.renderSlot(c.$slots,"default")]),_:3},16,["id","aria-labelledby"])}}}),AH=i.defineComponent({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select"],setup(t,{emit:e}){const n=t,r=zo(e);return H(),(s,a)=>(i.openBlock(),i.createBlock(i.unref(pm),i.normalizeProps(i.guardReactiveProps({...n,...i.unref(r)})),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16))}}),TH=i.defineComponent({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return H(),(n,o)=>(i.openBlock(),i.createBlock(i.unref(Rk),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),MH=i.defineComponent({__name:"DropdownMenuCheckboxItem",props:{modelValue:{type:[Boolean,String]},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select","update:modelValue"],setup(t,{emit:e}){const n=t,r=zo(e);return H(),(s,a)=>(i.openBlock(),i.createBlock(i.unref(Dk),i.normalizeProps(i.guardReactiveProps({...n,...i.unref(r)})),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16))}}),OH=i.defineComponent({__name:"DropdownMenuItemIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const e=t;return H(),(n,o)=>(i.openBlock(),i.createBlock(i.unref(Pk),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),vH=i.defineComponent({__name:"DropdownMenuSub",props:{defaultOpen:{type:Boolean},open:{type:Boolean,default:void 0}},emits:["update:open"],setup(t,{emit:e}){const n=t,r=rt(n,"open",e,{passive:n.open===void 0,defaultValue:n.defaultOpen??!1});return H(),(s,a)=>(i.openBlock(),i.createBlock(i.unref(uH),{open:i.unref(r),"onUpdate:open":a[0]||(a[0]=l=>i.isRef(r)?r.value=l:null)},{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default",{open:i.unref(r)})]),_:3},8,["open"]))}}),NH=i.defineComponent({__name:"DropdownMenuSubContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},sideOffset:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const r=fe(t,e);return H(),(s,a)=>(i.openBlock(),i.createBlock(i.unref(fH),i.mergeProps(i.unref(r),{style:{"--reka-dropdown-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-dropdown-menu-content-available-width":"var(--reka-popper-available-width)","--reka-dropdown-menu-content-available-height":"var(--reka-popper-available-height)","--reka-dropdown-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-dropdown-menu-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16))}}),IH=i.defineComponent({__name:"DropdownMenuSubTrigger",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},setup(t){const e=t;return H(),(n,o)=>(i.openBlock(),i.createBlock(i.unref(pH),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}});function BH(t,e){const n=rk(!1,300),o=i.ref(null),r=EF();function s(){o.value=null,n.value=!1}function a(l,c){const d=l.currentTarget,u={x:l.clientX,y:l.clientY},f=RH(u,d.getBoundingClientRect()),p=PH(u,f),h=DH(c.getBoundingClientRect()),m=LH([...p,...h]);o.value=m,n.value=!0}return i.watchEffect(l=>{if(t.value&&e.value){const c=u=>a(u,e.value),d=u=>a(u,t.value);t.value.addEventListener("pointerleave",c),e.value.addEventListener("pointerleave",d),l(()=>{var u,f;(u=t.value)==null||u.removeEventListener("pointerleave",c),(f=e.value)==null||f.removeEventListener("pointerleave",d)})}}),i.watchEffect(l=>{var c;if(o.value){const d=u=>{var y,b;if(!o.value||!(u.target instanceof HTMLElement))return;const f=u.target,p={x:u.clientX,y:u.clientY},h=((y=t.value)==null?void 0:y.contains(f))||((b=e.value)==null?void 0:b.contains(f)),m=!$H(p,o.value),g=!!f.closest("[data-grace-area-trigger]");h?s():(m||g)&&(s(),r.trigger())};(c=t.value)==null||c.ownerDocument.addEventListener("pointermove",d),l(()=>{var u;return(u=t.value)==null?void 0:u.ownerDocument.removeEventListener("pointermove",d)})}}),{isPointerInTransit:n,onPointerExit:r.on}}function RH(t,e){const n=Math.abs(e.top-t.y),o=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,o,r,s)){case s:return"left";case r:return"right";case n:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function PH(t,e,n=5){const o=[];switch(e){case"top":o.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":o.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":o.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":o.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return o}function DH(t){const{top:e,right:n,bottom:o,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:o},{x:r,y:o}]}function $H(t,e){const{x:n,y:o}=t;let r=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s].x,c=e[s].y,d=e[a].x,u=e[a].y;c>o!=u>o&&n<(d-l)*(o-c)/(u-c)+l&&(r=!r)}return r}function LH(t){const e=t.slice();return e.sort((n,o)=>n.x<o.x?-1:n.x>o.x?1:n.y<o.y?-1:n.y>o.y?1:0),VH(e)}function VH(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const r=t[o];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(r.y-a.y)>=(s.y-a.y)*(r.x-a.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const r=t[o];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(r.y-a.y)>=(s.y-a.y)*(r.x-a.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}const FH=i.defineComponent({__name:"Label",props:{for:{},asChild:{type:Boolean},as:{default:"label"}},setup(t){const e=t;return H(),(n,o)=>(i.openBlock(),i.createBlock(i.unref(Y),i.mergeProps(e,{onMousedown:o[0]||(o[0]=r=>{!r.defaultPrevented&&r.detail>1&&r.preventDefault()})}),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),[mm,zH]=ke("MenubarRoot"),HH=i.defineComponent({__name:"MenubarRoot",props:{modelValue:{},defaultValue:{},dir:{},loop:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=e,{forwardRef:r}=H(),{CollectionSlot:s}=bt({key:"Menubar",isProvider:!0}),a=rt(n,"modelValue",o,{defaultValue:n.defaultValue??"",passive:n.modelValue===void 0}),l=i.ref(null),{dir:c,loop:d}=i.toRefs(n),u=eo(c);return zH({modelValue:a,dir:u,loop:d,onMenuOpen:f=>{a.value=f,l.value=f},onMenuClose:()=>{a.value=""},onMenuToggle:f=>{a.value=a.value?"":f,l.value=f}}),(f,p)=>(i.openBlock(),i.createBlock(i.unref(s),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Qc),{"current-tab-stop-id":l.value,"onUpdate:currentTabStopId":p[0]||(p[0]=h=>l.value=h),orientation:"horizontal",loop:i.unref(d),dir:i.unref(u),"as-child":""},{default:i.withCtx(()=>[i.createVNode(i.unref(Y),{ref:i.unref(r),role:"menubar"},{default:i.withCtx(()=>[i.renderSlot(f.$slots,"default",{modelValue:i.unref(a)})]),_:3},512)]),_:3},8,["current-tab-stop-id","loop","dir"])]),_:3}))}}),[Fk,UH]=ke("MenubarMenu"),jH=i.defineComponent({__name:"MenubarMenu",props:{value:{}},setup(t){const n=Je(t.value),o=mm();H();const r=i.ref(),s=i.ref(!1),a=i.computed(()=>o.modelValue.value===n);return i.watch(a,()=>{a.value||(s.value=!1)}),UH({value:n,triggerElement:r,triggerId:n,contentId:"",wasKeyboardTriggerOpenRef:s}),(l,c)=>(i.openBlock(),i.createBlock(i.unref(Ok),{open:a.value,modal:!1,dir:i.unref(o).dir.value,"onUpdate:open":c[0]||(c[0]=d=>{d||i.unref(o).onMenuClose()})},{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},8,["open","dir"]))}}),WH=i.defineComponent({__name:"MenubarTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=mm(),n=Fk(),{forwardRef:o,currentElement:r}=H(),{CollectionItem:s}=bt({key:"Menubar"}),a=i.ref(!1),l=i.computed(()=>e.modelValue.value===n.value);return i.onMounted(()=>{n.triggerElement=r}),(c,d)=>(i.openBlock(),i.createBlock(i.unref(td),{"as-child":"",focusable:!c.disabled,"tab-stop-id":i.unref(n).value},{default:i.withCtx(()=>[i.createVNode(i.unref(s),null,{default:i.withCtx(()=>[i.createVNode(i.unref(lm),{"as-child":""},{default:i.withCtx(()=>[i.createVNode(i.unref(Y),{id:i.unref(n).triggerId,ref:i.unref(o),as:c.as,type:c.as==="button"?"button":void 0,role:"menuitem","aria-haspopup":"menu","aria-expanded":l.value,"aria-controls":l.value?i.unref(n).contentId:void 0,"data-highlighted":a.value?"":void 0,"data-state":l.value?"open":"closed","data-disabled":c.disabled?"":void 0,disabled:c.disabled,"data-value":i.unref(n).value,onPointerdown:d[0]||(d[0]=u=>{!c.disabled&&u.button===0&&u.ctrlKey===!1&&(i.unref(e).onMenuOpen(i.unref(n).value),l.value||u.preventDefault())}),onPointerenter:d[1]||(d[1]=()=>{var f;!!i.unref(e).modelValue.value&&!l.value&&(i.unref(e).onMenuOpen(i.unref(n).value),(f=i.unref(r))==null||f.focus())}),onKeydown:d[2]||(d[2]=i.withKeys(u=>{c.disabled||(["Enter"," "].includes(u.key)&&i.unref(e).onMenuToggle(i.unref(n).value),u.key==="ArrowDown"&&i.unref(e).onMenuOpen(i.unref(n).value),["Enter"," ","ArrowDown"].includes(u.key)&&(i.unref(n).wasKeyboardTriggerOpenRef.value=!0,u.preventDefault()))},["enter","space","arrow-down"])),onFocus:d[3]||(d[3]=u=>a.value=!0),onBlur:d[4]||(d[4]=u=>a.value=!1)},{default:i.withCtx(()=>[i.renderSlot(c.$slots,"default")]),_:3},8,["id","as","type","aria-expanded","aria-controls","data-highlighted","data-state","data-disabled","disabled","data-value"])]),_:3})]),_:3})]),_:3},8,["focusable","tab-stop-id"]))}}),KH=i.defineComponent({__name:"MenubarPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(vk),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),GH=i.defineComponent({__name:"MenubarContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{},align:{default:"start"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(t,{emit:e}){const r=fe(t,e);H();const s=mm(),a=Fk();a.contentId||(a.contentId=Je(void 0,"reka-menubar-content"));const{getItems:l}=bt({key:"Menubar"}),c=i.ref(!1);function d(u){const p=u.target.hasAttribute("data-reka-menubar-subtrigger"),m=(s.dir.value==="rtl"?"ArrowRight":"ArrowLeft")===u.key;if(!m&&p)return;let y=l().filter(k=>k.ref.dataset.disabled!=="").map(k=>k.ref.dataset.value);m&&y.reverse();const b=y.indexOf(a.value);y=s.loop.value?_k(y,b+1):y.slice(b+1);const[C]=y;C&&s.onMenuOpen(C)}return(u,f)=>(i.openBlock(),i.createBlock(i.unref(Ik),i.mergeProps(i.unref(r),{id:i.unref(a).contentId,"data-reka-menubar-content":"","aria-labelledby":i.unref(a).triggerId,style:{"--reka-menubar-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-menubar-content-available-width":"var(--reka-popper-available-width)","--reka-menubar-content-available-height":"var(--reka-popper-available-height)","--reka-menubar-trigger-width":"var(--reka-popper-anchor-width)","--reka-menubar-trigger-height":"var(--reka-popper-anchor-height)"},onCloseAutoFocus:f[0]||(f[0]=p=>{var m;!!!i.unref(s).modelValue.value&&!c.value&&((m=i.unref(a).triggerElement.value)==null||m.focus()),c.value=!1,p.preventDefault()}),onFocusOutside:f[1]||(f[1]=p=>{const h=p.target;i.unref(l)().filter(g=>g.ref.dataset.disabled!=="").some(g=>g.ref.contains(h))&&p.preventDefault()}),onInteractOutside:f[2]||(f[2]=p=>{c.value=!0}),onEntryFocus:f[3]||(f[3]=p=>{i.unref(a).wasKeyboardTriggerOpenRef.value||p.preventDefault()}),onKeydown:i.withKeys(d,["arrow-right","arrow-left"])}),{default:i.withCtx(()=>[i.renderSlot(u.$slots,"default")]),_:3},16,["id","aria-labelledby"]))}}),qH=i.defineComponent({__name:"MenubarItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select"],setup(t,{emit:e}){const n=t,r=zo(e);return H(),(s,a)=>(i.openBlock(),i.createBlock(i.unref(pm),i.normalizeProps(i.guardReactiveProps({...n,...i.unref(r)})),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16))}}),YH=i.defineComponent({__name:"MenubarSeparator",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return H(),(n,o)=>(i.openBlock(),i.createBlock(i.unref(Rk),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),JH=i.defineComponent({__name:"MenubarCheckboxItem",props:{modelValue:{type:[Boolean,String]},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select","update:modelValue"],setup(t,{emit:e}){const n=t,r=zo(e);return H(),(s,a)=>(i.openBlock(),i.createBlock(i.unref(Dk),i.normalizeProps(i.guardReactiveProps({...n,...i.unref(r)})),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16))}}),XH=i.defineComponent({__name:"MenubarItemIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const e=t;return H(),(n,o)=>(i.openBlock(),i.createBlock(i.unref(Pk),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}});function gm(t,e=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY){return Math.min(n,Math.max(e,t))}const[Xt,ZH]=ke("ScrollAreaRoot"),QH=i.defineComponent({__name:"ScrollAreaRoot",props:{type:{default:"hover"},dir:{},scrollHideDelay:{default:600},asChild:{type:Boolean},as:{}},setup(t,{expose:e}){const n=t,o=i.ref(0),r=i.ref(0),s=i.ref(),a=i.ref(),l=i.ref(),c=i.ref(),d=i.ref(!1),u=i.ref(!1),{type:f,dir:p,scrollHideDelay:h}=i.toRefs(n),m=eo(p);function g(){var k;(k=s.value)==null||k.scrollTo({top:0})}function y(){var k;(k=s.value)==null||k.scrollTo({top:0,left:0})}e({viewport:s,scrollTop:g,scrollTopLeft:y});const{forwardRef:b,currentElement:C}=H();return ZH({type:f,dir:m,scrollHideDelay:h,scrollArea:C,viewport:s,onViewportChange:k=>{s.value=k||void 0},content:a,onContentChange:k=>{a.value=k},scrollbarX:l,scrollbarXEnabled:d,scrollbarY:c,scrollbarYEnabled:u,onScrollbarXChange:k=>{l.value=k||void 0},onScrollbarYChange:k=>{c.value=k||void 0},onScrollbarXEnabledChange:k=>{d.value=k},onScrollbarYEnabledChange:k=>{u.value=k},onCornerWidthChange:k=>{o.value=k},onCornerHeightChange:k=>{r.value=k}}),(k,w)=>(i.openBlock(),i.createBlock(i.unref(Y),{ref:i.unref(b),"as-child":n.asChild,as:k.as,dir:i.unref(m),style:i.normalizeStyle({position:"relative","--reka-scroll-area-corner-width":`${o.value}px`,"--reka-scroll-area-corner-height":`${r.value}px`})},{default:i.withCtx(()=>[i.renderSlot(k.$slots,"default")]),_:3},8,["as-child","as","dir","style"]))}}),eU=i.defineComponent({inheritAttrs:!1,__name:"ScrollAreaViewport",props:{nonce:{},asChild:{type:Boolean},as:{}},setup(t,{expose:e}){const n=t,{nonce:o}=i.toRefs(n),r=Tk(o),s=Xt(),a=i.ref();i.onMounted(()=>{s.onViewportChange(a.value),s.onContentChange(c.value)}),e({viewportElement:a});const{forwardRef:l,currentElement:c}=H();return(d,u)=>(i.openBlock(),i.createElementBlock(i.Fragment,null,[i.createElementVNode("div",i.mergeProps({ref_key:"viewportElement",ref:a,"data-reka-scroll-area-viewport":"",style:{overflowX:i.unref(s).scrollbarXEnabled.value?"scroll":"hidden",overflowY:i.unref(s).scrollbarYEnabled.value?"scroll":"hidden"}},d.$attrs,{tabindex:0}),[i.createVNode(i.unref(Y),{ref:i.unref(l),style:i.normalizeStyle({minWidth:i.unref(s).scrollbarXEnabled.value?"fit-content":void 0}),"as-child":n.asChild,as:d.as},{default:i.withCtx(()=>[i.renderSlot(d.$slots,"default")]),_:3},8,["style","as-child","as"])],16),i.createVNode(i.unref(Y),{as:"style",nonce:i.unref(r)},{default:i.withCtx(()=>u[0]||(u[0]=[i.createTextVNode(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-scroll-area-viewport] { scrollbar-width:none; -ms-overflow-style:none; -webkit-overflow-scrolling:touch; } [data-reka-scroll-area-viewport]::-webkit-scrollbar { display:none; } ")])),_:1},8,["nonce"])],64))}});function zk(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const o=(e[1]-e[0])/(t[1]-t[0]);return e[0]+o*(n-t[0])}}function rd(t){const e=Hk(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=(t.scrollbar.size-n)*e;return Math.max(o,18)}function Hk(t,e){const n=t/e;return Number.isNaN(n)?0:n}function tU(t,e=()=>{}){let n={left:t.scrollLeft,top:t.scrollTop},o=0;return function r(){const s={left:t.scrollLeft,top:t.scrollTop},a=n.left!==s.left,l=n.top!==s.top;(a||l)&&e(),n=s,o=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(o)}function Uk(t,e,n="ltr"){const o=rd(e),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-r,a=e.content-e.viewport,l=s-o,c=n==="ltr"?[0,a]:[a*-1,0],d=gm(t,c[0],c[1]);return zk([0,a],[0,l])(d)}function id(t){return t?Number.parseInt(t,10):0}function nU(t,e,n,o="ltr"){const r=rd(n),s=r/2,a=e||s,l=r-a,c=n.scrollbar.paddingStart+a,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,f=o==="ltr"?[0,u]:[u*-1,0];return zk([c,d],f)(t)}function jk(t,e){return t>0&&t<e}const Wk=i.defineComponent({__name:"ScrollAreaScrollbarImpl",props:{isHorizontal:{type:Boolean}},emits:["onDragScroll","onWheelScroll","onThumbPointerDown"],setup(t,{emit:e}){const n=t,o=e,r=Xt(),s=sd(),a=ad(),{forwardRef:l,currentElement:c}=H(),d=i.ref(""),u=i.ref();function f(b){var C,k;if(u.value){const w=b.clientX-((C=u.value)==null?void 0:C.left),x=b.clientY-((k=u.value)==null?void 0:k.top);o("onDragScroll",{x:w,y:x})}}function p(b){b.button===0&&(b.target.setPointerCapture(b.pointerId),u.value=c.value.getBoundingClientRect(),d.value=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",r.viewport&&(r.viewport.value.style.scrollBehavior="auto"),f(b))}function h(b){f(b)}function m(b){const C=b.target;C.hasPointerCapture(b.pointerId)&&C.releasePointerCapture(b.pointerId),document.body.style.webkitUserSelect=d.value,r.viewport&&(r.viewport.value.style.scrollBehavior=""),u.value=void 0}function g(b){var x;const C=b.target,k=(x=c.value)==null?void 0:x.contains(C),w=s.sizes.value.content-s.sizes.value.viewport;k&&s.handleWheelScroll(b,w)}i.onMounted(()=>{document.addEventListener("wheel",g,{passive:!1})}),i.onUnmounted(()=>{document.removeEventListener("wheel",g)});function y(){var b,C,k,w,x;c.value&&(n.isHorizontal?s.handleSizeChange({content:((b=r.viewport.value)==null?void 0:b.scrollWidth)??0,viewport:((C=r.viewport.value)==null?void 0:C.offsetWidth)??0,scrollbar:{size:c.value.clientWidth??0,paddingStart:id(getComputedStyle(c.value).paddingLeft),paddingEnd:id(getComputedStyle(c.value).paddingRight)}}):s.handleSizeChange({content:((k=r.viewport.value)==null?void 0:k.scrollHeight)??0,viewport:((w=r.viewport.value)==null?void 0:w.offsetHeight)??0,scrollbar:{size:((x=c.value)==null?void 0:x.clientHeight)??0,paddingStart:id(getComputedStyle(c.value).paddingLeft),paddingEnd:id(getComputedStyle(c.value).paddingRight)}}))}return Dr(c,y),Dr(r.content,y),(b,C)=>(i.openBlock(),i.createBlock(i.unref(Y),{ref:i.unref(l),style:{position:"absolute"},"data-scrollbarimpl":"",as:i.unref(a).as.value,"as-child":i.unref(a).asChild.value,onPointerdown:p,onPointermove:h,onPointerup:m},{default:i.withCtx(()=>[i.renderSlot(b.$slots,"default")]),_:3},8,["as","as-child"]))}}),oU=i.defineComponent({__name:"ScrollAreaScrollbarX",setup(t){const e=Xt(),n=sd(),{forwardRef:o,currentElement:r}=H();i.onMounted(()=>{r.value&&e.onScrollbarXChange(r.value)});const s=i.computed(()=>n.sizes.value);return(a,l)=>(i.openBlock(),i.createBlock(Wk,{ref:i.unref(o),"is-horizontal":!0,"data-orientation":"horizontal",style:i.normalizeStyle({bottom:0,left:i.unref(e).dir.value==="rtl"?"var(--reka-scroll-area-corner-width)":0,right:i.unref(e).dir.value==="ltr"?"var(--reka-scroll-area-corner-width)":0,"--reka-scroll-area-thumb-width":s.value?`${i.unref(rd)(s.value)}px`:void 0}),onOnDragScroll:l[0]||(l[0]=c=>i.unref(n).onDragScroll(c.x))},{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},8,["style"]))}}),rU=i.defineComponent({__name:"ScrollAreaScrollbarY",setup(t){const e=Xt(),n=sd(),{forwardRef:o,currentElement:r}=H();i.onMounted(()=>{r.value&&e.onScrollbarYChange(r.value)});const s=i.computed(()=>n.sizes.value);return(a,l)=>(i.openBlock(),i.createBlock(Wk,{ref:i.unref(o),"is-horizontal":!1,"data-orientation":"vertical",style:i.normalizeStyle({top:0,right:i.unref(e).dir.value==="ltr"?0:void 0,left:i.unref(e).dir.value==="rtl"?0:void 0,bottom:"var(--reka-scroll-area-corner-height)","--reka-scroll-area-thumb-height":s.value?`${i.unref(rd)(s.value)}px`:void 0}),onOnDragScroll:l[0]||(l[0]=c=>i.unref(n).onDragScroll(c.y))},{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},8,["style"]))}}),[sd,iU]=ke("ScrollAreaScrollbarVisible"),ym=i.defineComponent({__name:"ScrollAreaScrollbarVisible",setup(t){const e=Xt(),n=ad(),{forwardRef:o}=H(),r=i.ref({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),s=i.computed(()=>{const b=Hk(r.value.viewport,r.value.content);return b>0&&b<1}),a=i.ref(),l=i.ref(0);function c(b,C){if(h.value){const k=e.viewport.value.scrollLeft+b.deltaY;e.viewport.value.scrollLeft=k,jk(k,C)&&b.preventDefault()}else{const k=e.viewport.value.scrollTop+b.deltaY;e.viewport.value.scrollTop=k,jk(k,C)&&b.preventDefault()}}function d(b,C){h.value?l.value=C.x:l.value=C.y}function u(b){l.value=0}function f(b){r.value=b}function p(b,C){return nU(b,l.value,r.value,C)}const h=i.computed(()=>n.isHorizontal.value);function m(b){h.value?e.viewport.value.scrollLeft=p(b,e.dir.value):e.viewport.value.scrollTop=p(b)}function g(){if(h.value){if(e.viewport.value&&a.value){const b=e.viewport.value.scrollLeft,C=Uk(b,r.value,e.dir.value);a.value.style.transform=`translate3d(${C}px, 0, 0)`}}else if(e.viewport.value&&a.value){const b=e.viewport.value.scrollTop,C=Uk(b,r.value);a.value.style.transform=`translate3d(0, ${C}px, 0)`}}function y(b){a.value=b}return iU({sizes:r,hasThumb:s,handleWheelScroll:c,handleThumbDown:d,handleThumbUp:u,handleSizeChange:f,onThumbPositionChange:g,onThumbChange:y,onDragScroll:m}),(b,C)=>h.value?(i.openBlock(),i.createBlock(oU,i.mergeProps({key:0},b.$attrs,{ref:i.unref(o)}),{default:i.withCtx(()=>[i.renderSlot(b.$slots,"default")]),_:3},16)):(i.openBlock(),i.createBlock(rU,i.mergeProps({key:1},b.$attrs,{ref:i.unref(o)}),{default:i.withCtx(()=>[i.renderSlot(b.$slots,"default")]),_:3},16))}}),Kk=i.defineComponent({__name:"ScrollAreaScrollbarAuto",props:{forceMount:{type:Boolean}},setup(t){const e=Xt(),n=ad(),{forwardRef:o}=H(),r=i.ref(!1),s=ik(()=>{if(e.viewport.value){const a=e.viewport.value.offsetWidth<e.viewport.value.scrollWidth,l=e.viewport.value.offsetHeight<e.viewport.value.scrollHeight;r.value=n.isHorizontal.value?a:l}},10);return i.onMounted(()=>s()),Dr(e.viewport,s),Dr(e.content,s),(a,l)=>(i.openBlock(),i.createBlock(i.unref(At),{present:a.forceMount||r.value},{default:i.withCtx(()=>[i.createVNode(ym,i.mergeProps(a.$attrs,{ref:i.unref(o),"data-state":r.value?"visible":"hidden"}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),sU=i.defineComponent({inheritAttrs:!1,__name:"ScrollAreaScrollbarHover",props:{forceMount:{type:Boolean}},setup(t){const e=Xt(),{forwardRef:n}=H();let o;const r=i.ref(!1);function s(){window.clearTimeout(o),r.value=!0}function a(){o=window.setTimeout(()=>{r.value=!1},e.scrollHideDelay.value)}return i.onMounted(()=>{const l=e.scrollArea.value;l&&(l.addEventListener("pointerenter",s),l.addEventListener("pointerleave",a))}),i.onUnmounted(()=>{const l=e.scrollArea.value;l&&(window.clearTimeout(o),l.removeEventListener("pointerenter",s),l.removeEventListener("pointerleave",a))}),(l,c)=>(i.openBlock(),i.createBlock(i.unref(At),{present:l.forceMount||r.value},{default:i.withCtx(()=>[i.createVNode(Kk,i.mergeProps(l.$attrs,{ref:i.unref(n),"data-state":r.value?"visible":"hidden"}),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),aU=i.defineComponent({__name:"ScrollAreaScrollbarScroll",props:{forceMount:{type:Boolean}},setup(t){const e=Xt(),n=ad(),{forwardRef:o}=H(),{state:r,dispatch:s}=dk("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});i.watchEffect(l=>{if(r.value==="idle"){const c=window.setTimeout(()=>s("HIDE"),e.scrollHideDelay.value);l(()=>{window.clearTimeout(c)})}});const a=ik(()=>s("SCROLL_END"),100);return i.watchEffect(l=>{const c=e.viewport.value,d=n.isHorizontal.value?"scrollLeft":"scrollTop";if(c){let u=c[d];const f=()=>{const p=c[d];u!==p&&(s("SCROLL"),a()),u=p};c.addEventListener("scroll",f),l(()=>{c.removeEventListener("scroll",f)})}}),(l,c)=>(i.openBlock(),i.createBlock(i.unref(At),{present:l.forceMount||i.unref(r)!=="hidden"},{default:i.withCtx(()=>[i.createVNode(ym,i.mergeProps(l.$attrs,{ref:i.unref(o)}),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),[ad,lU]=ke("ScrollAreaScrollbar"),cU=i.defineComponent({inheritAttrs:!1,__name:"ScrollAreaScrollbar",props:{orientation:{default:"vertical"},forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"div"}},setup(t){const e=t,{forwardRef:n}=H(),o=Xt(),r=i.computed(()=>e.orientation==="horizontal");i.watch(r,()=>{r.value?o.onScrollbarXEnabledChange(!0):o.onScrollbarYEnabledChange(!0)},{immediate:!0}),i.onUnmounted(()=>{o.onScrollbarXEnabledChange(!1),o.onScrollbarYEnabledChange(!1)});const{orientation:s,forceMount:a,asChild:l,as:c}=i.toRefs(e);return lU({orientation:s,forceMount:a,isHorizontal:r,as:c,asChild:l}),(d,u)=>i.unref(o).type.value==="hover"?(i.openBlock(),i.createBlock(sU,i.mergeProps({key:0},d.$attrs,{ref:i.unref(n),"force-mount":i.unref(a)}),{default:i.withCtx(()=>[i.renderSlot(d.$slots,"default")]),_:3},16,["force-mount"])):i.unref(o).type.value==="scroll"?(i.openBlock(),i.createBlock(aU,i.mergeProps({key:1},d.$attrs,{ref:i.unref(n),"force-mount":i.unref(a)}),{default:i.withCtx(()=>[i.renderSlot(d.$slots,"default")]),_:3},16,["force-mount"])):i.unref(o).type.value==="auto"?(i.openBlock(),i.createBlock(Kk,i.mergeProps({key:2},d.$attrs,{ref:i.unref(n),"force-mount":i.unref(a)}),{default:i.withCtx(()=>[i.renderSlot(d.$slots,"default")]),_:3},16,["force-mount"])):i.unref(o).type.value==="always"?(i.openBlock(),i.createBlock(ym,i.mergeProps({key:3},d.$attrs,{ref:i.unref(n),"data-state":"visible"}),{default:i.withCtx(()=>[i.renderSlot(d.$slots,"default")]),_:3},16)):i.createCommentVNode("",!0)}}),dU=i.defineComponent({__name:"ScrollAreaThumb",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t,n=Xt(),o=sd();function r(p){const m=p.target.getBoundingClientRect(),g=p.clientX-m.left,y=p.clientY-m.top;o.handleThumbDown(p,{x:g,y})}function s(p){o.handleThumbUp(p)}const{forwardRef:a,currentElement:l}=H(),c=i.ref(),d=i.computed(()=>n.viewport.value);function u(){if(!c.value){const p=tU(d.value,o.onThumbPositionChange);c.value=p,o.onThumbPositionChange()}}const f=i.computed(()=>o.sizes.value);return FF(f,()=>{o.onThumbChange(l.value),d.value&&(o.onThumbPositionChange(),d.value.addEventListener("scroll",u))}),i.onUnmounted(()=>{var p;d.value.removeEventListener("scroll",u),(p=n.viewport.value)==null||p.removeEventListener("scroll",u)}),(p,h)=>(i.openBlock(),i.createBlock(i.unref(Y),{ref:i.unref(a),"data-state":i.unref(o).hasThumb?"visible":"hidden",style:{width:"var(--reka-scroll-area-thumb-width)",height:"var(--reka-scroll-area-thumb-height)"},"as-child":e.asChild,as:p.as,onPointerdown:r,onPointerup:s},{default:i.withCtx(()=>[i.renderSlot(p.$slots,"default")]),_:3},8,["data-state","as-child","as"]))}}),uU=i.defineComponent({__name:"ScrollAreaCornerImpl",setup(t){const e=Xt(),n=i.ref(0),o=i.ref(0),r=i.computed(()=>!!n.value&&!!o.value);function s(){var c;const l=((c=e.scrollbarX.value)==null?void 0:c.offsetHeight)||0;e.onCornerHeightChange(l),o.value=l}function a(){var c;const l=((c=e.scrollbarY.value)==null?void 0:c.offsetWidth)||0;e.onCornerWidthChange(l),n.value=l}return Dr(e.scrollbarX.value,s),Dr(e.scrollbarY.value,a),i.watch(()=>e.scrollbarX.value,s),i.watch(()=>e.scrollbarY.value,a),(l,c)=>{var d;return r.value?(i.openBlock(),i.createBlock(i.unref(Y),i.mergeProps({key:0,style:{width:`${n.value}px`,height:`${o.value}px`,position:"absolute",right:i.unref(e).dir.value==="ltr"?0:void 0,left:i.unref(e).dir.value==="rtl"?0:void 0,bottom:0}},(d=l.$parent)==null?void 0:d.$props),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16,["style"])):i.createCommentVNode("",!0)}}}),fU=i.defineComponent({__name:"ScrollAreaCorner",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t,{forwardRef:n}=H(),o=Xt(),r=i.computed(()=>!!o.scrollbarX.value&&!!o.scrollbarY.value),s=i.computed(()=>o.type.value!=="scroll"&&r.value);return(a,l)=>s.value?(i.openBlock(),i.createBlock(uU,i.mergeProps({key:0},e,{ref:i.unref(n)}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16)):i.createCommentVNode("",!0)}}),pU=i.defineComponent({__name:"BubbleSelect",props:{autocomplete:{},autofocus:{type:Boolean},disabled:{type:Boolean},form:{},multiple:{type:Boolean},name:{},required:{type:Boolean},size:{},value:{}},setup(t){const e=t,n=i.ref();return i.watch(()=>e.value,(o,r)=>{const s=window.HTMLSelectElement.prototype,l=Object.getOwnPropertyDescriptor(s,"value").set;if(o!==r&&l&&n.value){const c=new Event("change",{bubbles:!0});l.call(n.value,o),n.value.dispatchEvent(c)}}),(o,r)=>(i.openBlock(),i.createBlock(i.unref(ya),{"as-child":""},{default:i.withCtx(()=>[i.createElementVNode("select",i.mergeProps({ref_key:"selectElement",ref:n},e),[i.renderSlot(o.$slots,"default")],16)]),_:3}))}}),hU=[" ","Enter","ArrowUp","ArrowDown"],mU=[" ","Enter"],cn=10;function bm(t,e,n){return t===void 0?!1:Array.isArray(t)?t.some(o=>wm(o,e,n)):wm(t,e,n)}function wm(t,e,n){return t===void 0||e===void 0?!1:typeof t=="string"?t===e:typeof n=="function"?n(t,e):typeof n=="string"?(t==null?void 0:t[n])===(e==null?void 0:e[n]):Hi(t,e)}const gU={key:0,value:""},[Lr,Gk]=ke("SelectRoot"),yU=i.defineComponent({inheritAttrs:!1,__name:"SelectRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{default:void 0},by:{},dir:{},multiple:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(t,{emit:e}){const n=t,o=e,{required:r,disabled:s,multiple:a,dir:l}=i.toRefs(n),c=rt(n,"modelValue",o,{defaultValue:n.defaultValue??(a.value?[]:void 0),passive:n.modelValue===void 0,deep:!0}),d=rt(n,"open",o,{defaultValue:n.defaultOpen,passive:n.open===void 0}),u=i.ref(),f=i.ref(),p=i.ref({x:0,y:0}),h=i.computed(()=>{var k;return a.value&&Array.isArray(c.value)?((k=c.value)==null?void 0:k.length)===0:wa(c.value)});bt({isProvider:!0});const m=eo(l),g=Zc(u),y=i.ref(new Set),b=i.computed(()=>Array.from(y.value).map(k=>k.value).join(";"));function C(k){if(a.value){const w=Array.isArray(c.value)?[...c.value]:[],x=w.findIndex(S=>wm(S,k,n.by));x===-1?w.push(k):w.splice(x,1),c.value=[...w]}else c.value=k}return Gk({triggerElement:u,onTriggerChange:k=>{u.value=k},valueElement:f,onValueElementChange:k=>{f.value=k},contentId:"",modelValue:c,onValueChange:C,by:n.by,open:d,multiple:a,required:r,onOpenChange:k=>{d.value=k},dir:m,triggerPointerDownPosRef:p,disabled:s,isEmptyModelValue:h,optionsSet:y,onOptionAdd:k=>y.value.add(k),onOptionRemove:k=>y.value.delete(k)}),(k,w)=>(i.openBlock(),i.createBlock(i.unref(Sa),null,{default:i.withCtx(()=>[i.renderSlot(k.$slots,"default",{modelValue:i.unref(c),open:i.unref(d)}),i.unref(g)?(i.openBlock(),i.createBlock(pU,{key:b.value,"aria-hidden":"true",tabindex:"-1",multiple:i.unref(a),required:i.unref(r),name:k.name,autocomplete:k.autocomplete,disabled:i.unref(s),value:i.unref(c)},{default:i.withCtx(()=>[i.unref(wa)(i.unref(c))?(i.openBlock(),i.createElementBlock("option",gU)):i.createCommentVNode("",!0),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(Array.from(y.value),x=>(i.openBlock(),i.createElementBlock("option",i.mergeProps({key:x.value??"",ref_for:!0},x),null,16))),128))]),_:1},8,["multiple","required","name","autocomplete","disabled","value"])):i.createCommentVNode("",!0)]),_:3}))}}),bU=i.defineComponent({__name:"SelectTrigger",props:{disabled:{type:Boolean},reference:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=Lr(),{forwardRef:o,currentElement:r}=H(),s=i.computed(()=>{var p;return((p=n.disabled)==null?void 0:p.value)||e.disabled});n.contentId||(n.contentId=Je(void 0,"reka-select-content")),i.onMounted(()=>{n.onTriggerChange(r.value)});const{getItems:a}=bt(),{search:l,handleTypeaheadSearch:c,resetTypeahead:d}=sm();function u(){s.value||(n.onOpenChange(!0),d())}function f(p){u(),n.triggerPointerDownPosRef.value={x:Math.round(p.pageX),y:Math.round(p.pageY)}}return(p,h)=>(i.openBlock(),i.createBlock(i.unref(nd),{"as-child":"",reference:p.reference},{default:i.withCtx(()=>{var m,g,y,b;return[i.createVNode(i.unref(Y),{ref:i.unref(o),role:"combobox",type:p.as==="button"?"button":void 0,"aria-controls":i.unref(n).contentId,"aria-expanded":i.unref(n).open.value||!1,"aria-required":(m=i.unref(n).required)==null?void 0:m.value,"aria-autocomplete":"none",disabled:s.value,dir:(g=i.unref(n))==null?void 0:g.dir.value,"data-state":(y=i.unref(n))!=null&&y.open.value?"open":"closed","data-disabled":s.value?"":void 0,"data-placeholder":(b=i.unref(n).modelValue)!=null&&b.value?void 0:"","as-child":p.asChild,as:p.as,onClick:h[0]||(h[0]=C=>{var k;(k=C==null?void 0:C.currentTarget)==null||k.focus()}),onPointerdown:h[1]||(h[1]=C=>{if(C.pointerType==="touch")return C.preventDefault();const k=C.target;k.hasPointerCapture(C.pointerId)&&k.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&(f(C),C.preventDefault())}),onPointerup:h[2]||(h[2]=i.withModifiers(C=>{C.pointerType==="touch"&&f(C)},["prevent"])),onKeydown:h[3]||(h[3]=C=>{const k=i.unref(l)!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&k&&C.key===" "||(i.unref(c)(C.key,i.unref(a)()),i.unref(hU).includes(C.key)&&(u(),C.preventDefault()))})},{default:i.withCtx(()=>[i.renderSlot(p.$slots,"default")]),_:3},8,["type","aria-controls","aria-expanded","aria-required","disabled","dir","data-state","data-disabled","data-placeholder","as-child","as"])]}),_:3},8,["reference"]))}}),wU=i.defineComponent({__name:"SelectPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(Ca),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),[Cm,CU]=ke("SelectItemAlignedPosition"),kU=i.defineComponent({inheritAttrs:!1,__name:"SelectItemAlignedPosition",props:{asChild:{type:Boolean},as:{}},emits:["placed"],setup(t,{emit:e}){const n=t,o=e,{getItems:r}=bt(),s=Lr(),a=Vr(),l=i.ref(!1),c=i.ref(!0),d=i.ref(),{forwardRef:u,currentElement:f}=H(),{viewport:p,selectedItem:h,selectedItemText:m,focusSelectedItem:g}=a;function y(){if(s.triggerElement.value&&s.valueElement.value&&d.value&&f.value&&(p!=null&&p.value)&&(h!=null&&h.value)&&(m!=null&&m.value)){const k=s.triggerElement.value.getBoundingClientRect(),w=f.value.getBoundingClientRect(),x=s.valueElement.value.getBoundingClientRect(),S=m.value.getBoundingClientRect();if(s.dir.value!=="rtl"){const Oe=S.left-w.left,xe=x.left-Oe,Ce=k.left-xe,$e=k.width+Ce,en=Math.max($e,w.width),vt=window.innerWidth-cn,tn=gm(xe,cn,Math.max(cn,vt-en));d.value.style.minWidth=`${$e}px`,d.value.style.left=`${tn}px`}else{const Oe=w.right-S.right,xe=window.innerWidth-x.right-Oe,Ce=window.innerWidth-k.right-xe,$e=k.width+Ce,en=Math.max($e,w.width),vt=window.innerWidth-cn,tn=gm(xe,cn,Math.max(cn,vt-en));d.value.style.minWidth=`${$e}px`,d.value.style.right=`${tn}px`}const E=r().map(Oe=>Oe.ref),T=window.innerHeight-cn*2,_=p.value.scrollHeight,A=window.getComputedStyle(f.value),M=Number.parseInt(A.borderTopWidth,10),v=Number.parseInt(A.paddingTop,10),L=Number.parseInt(A.borderBottomWidth,10),z=Number.parseInt(A.paddingBottom,10),D=M+v+_+z+L,B=Math.min(h.value.offsetHeight*5,D),O=window.getComputedStyle(p.value),$=Number.parseInt(O.paddingTop,10),N=Number.parseInt(O.paddingBottom,10),I=k.top+k.height/2-cn,F=T-I,j=h.value.offsetHeight/2,te=h.value.offsetTop+j,ie=M+v+te,de=D-ie;if(ie<=I){const Oe=h.value===E[E.length-1];d.value.style.bottom="0px";const xe=f.value.clientHeight-p.value.offsetTop-p.value.offsetHeight,Ce=Math.max(F,j+(Oe?N:0)+xe+L),$e=ie+Ce;d.value.style.height=`${$e}px`}else{const Oe=h.value===E[0];d.value.style.top="0px";const Ce=Math.max(I,M+p.value.offsetTop+(Oe?$:0)+j)+de;d.value.style.height=`${Ce}px`,p.value.scrollTop=ie-I+p.value.offsetTop}d.value.style.margin=`${cn}px 0`,d.value.style.minHeight=`${B}px`,d.value.style.maxHeight=`${T}px`,o("placed"),requestAnimationFrame(()=>l.value=!0)}}const b=i.ref("");i.onMounted(async()=>{await i.nextTick(),y(),f.value&&(b.value=window.getComputedStyle(f.value).zIndex)});function C(k){k&&c.value===!0&&(y(),g==null||g(),c.value=!1)}return Dr(s.triggerElement,()=>{y()}),CU({contentWrapper:d,shouldExpandOnScrollRef:l,onScrollButtonChange:C}),(k,w)=>(i.openBlock(),i.createElementBlock("div",{ref_key:"contentWrapperElement",ref:d,style:i.normalizeStyle({display:"flex",flexDirection:"column",position:"fixed",zIndex:b.value})},[i.createVNode(i.unref(Y),i.mergeProps({ref:i.unref(u),style:{boxSizing:"border-box",maxHeight:"100%"}},{...k.$attrs,...n}),{default:i.withCtx(()=>[i.renderSlot(k.$slots,"default")]),_:3},16)],4))}}),xU=i.defineComponent({__name:"SelectPopperPosition",props:{side:{},sideOffset:{},align:{default:"start"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{default:cn},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},setup(t){const n=We(t);return(o,r)=>(i.openBlock(),i.createBlock(i.unref(od),i.mergeProps(i.unref(n),{style:{boxSizing:"border-box","--reka-select-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-select-content-available-width":"var(--reka-popper-available-width)","--reka-select-content-available-height":"var(--reka-popper-available-height)","--reka-select-trigger-width":"var(--reka-popper-anchor-width)","--reka-select-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16))}}),SU={onViewportChange:()=>{},itemTextRefCallback:()=>{},itemRefCallback:()=>{}},[Vr,qk]=ke("SelectContent"),EU=i.defineComponent({__name:"SelectContentImpl",props:{position:{default:"item-aligned"},bodyLock:{type:Boolean,default:!0},side:{},sideOffset:{},align:{default:"start"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,o=e,r=Lr();dm(),Xc(n.bodyLock);const{CollectionSlot:s,getItems:a}=bt(),l=i.ref();Jc(l);const{search:c,handleTypeaheadSearch:d}=sm(),u=i.ref(),f=i.ref(),p=i.ref(),h=i.ref(!1),m=i.ref(!1),g=i.ref(!1);function y(){f.value&&l.value&&Xh([f.value,l.value])}i.watch(h,()=>{y()});const{onOpenChange:b,triggerPointerDownPosRef:C}=r;i.watchEffect(S=>{if(!l.value)return;let E={x:0,y:0};const T=A=>{var M,v;E={x:Math.abs(Math.round(A.pageX)-(((M=C.value)==null?void 0:M.x)??0)),y:Math.abs(Math.round(A.pageY)-(((v=C.value)==null?void 0:v.y)??0))}},_=A=>{var M;A.pointerType!=="touch"&&(E.x<=10&&E.y<=10?A.preventDefault():(M=l.value)!=null&&M.contains(A.target)||b(!1),document.removeEventListener("pointermove",T),C.value=null)};C.value!==null&&(document.addEventListener("pointermove",T),document.addEventListener("pointerup",_,{capture:!0,once:!0})),S(()=>{document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",_,{capture:!0})})});function k(S){const E=S.ctrlKey||S.altKey||S.metaKey;if(S.key==="Tab"&&S.preventDefault(),!E&&S.key.length===1&&d(S.key,a()),["ArrowUp","ArrowDown","Home","End"].includes(S.key)){let _=[...a().map(A=>A.ref)];if(["ArrowUp","End"].includes(S.key)&&(_=_.slice().reverse()),["ArrowUp","ArrowDown"].includes(S.key)){const A=S.target,M=_.indexOf(A);_=_.slice(M+1)}setTimeout(()=>Xh(_)),S.preventDefault()}}const w=i.computed(()=>n.position==="popper"?n:{}),x=We(w.value);return qk({content:l,viewport:u,onViewportChange:S=>{u.value=S},itemRefCallback:(S,E,T)=>{const _=!m.value&&!T,A=bm(r.modelValue.value,E,r.by);if(r.multiple.value){if(g.value)return;(A||_)&&(f.value=S,A&&(g.value=!0))}else(A||_)&&(f.value=S);_&&(m.value=!0)},selectedItem:f,selectedItemText:p,onItemLeave:()=>{var S;(S=l.value)==null||S.focus()},itemTextRefCallback:(S,E,T)=>{const _=!m.value&&!T;(bm(r.modelValue.value,E,r.by)||_)&&(p.value=S)},focusSelectedItem:y,position:n.position,isPositioned:h,searchRef:c}),(S,E)=>(i.openBlock(),i.createBlock(i.unref(s),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Gc),{"as-child":"",onMountAutoFocus:E[6]||(E[6]=i.withModifiers(()=>{},["prevent"])),onUnmountAutoFocus:E[7]||(E[7]=T=>{var _;o("closeAutoFocus",T),!T.defaultPrevented&&((_=i.unref(r).triggerElement.value)==null||_.focus({preventScroll:!0}),T.preventDefault())})},{default:i.withCtx(()=>[i.createVNode(i.unref(ka),{"as-child":"","disable-outside-pointer-events":"",onFocusOutside:E[2]||(E[2]=i.withModifiers(()=>{},["prevent"])),onDismiss:E[3]||(E[3]=T=>i.unref(r).onOpenChange(!1)),onEscapeKeyDown:E[4]||(E[4]=T=>o("escapeKeyDown",T)),onPointerDownOutside:E[5]||(E[5]=T=>o("pointerDownOutside",T))},{default:i.withCtx(()=>[(i.openBlock(),i.createBlock(i.resolveDynamicComponent(S.position==="popper"?xU:kU),i.mergeProps({...S.$attrs,...i.unref(x)},{id:i.unref(r).contentId,ref:T=>{l.value=i.unref(Jt)(T)},role:"listbox","data-state":i.unref(r).open.value?"open":"closed",dir:i.unref(r).dir.value,style:{display:"flex",flexDirection:"column",outline:"none"},onContextmenu:E[0]||(E[0]=i.withModifiers(()=>{},["prevent"])),onPlaced:E[1]||(E[1]=T=>h.value=!0),onKeydown:k}),{default:i.withCtx(()=>[i.renderSlot(S.$slots,"default")]),_:3},16,["id","data-state","dir","onKeydown"]))]),_:3})]),_:3})]),_:3}))}}),_U=i.defineComponent({inheritAttrs:!1,__name:"SelectProvider",props:{context:{}},setup(t){return Gk(t.context),qk(SU),(n,o)=>i.renderSlot(n.$slots,"default")}}),AU={key:1},TU=i.defineComponent({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean},position:{},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,r=fe(n,e),s=Lr(),a=i.ref();i.onMounted(()=>{a.value=new DocumentFragment});const l=i.ref(),c=i.computed(()=>n.forceMount||s.open.value);return(d,u)=>{var f;return c.value?(i.openBlock(),i.createBlock(i.unref(At),{key:0,ref_key:"presenceRef",ref:l,present:!0},{default:i.withCtx(()=>[i.createVNode(EU,i.normalizeProps(i.guardReactiveProps({...i.unref(r),...d.$attrs})),{default:i.withCtx(()=>[i.renderSlot(d.$slots,"default")]),_:3},16)]),_:3},512)):!((f=l.value)!=null&&f.present)&&a.value?(i.openBlock(),i.createElementBlock("div",AU,[(i.openBlock(),i.createBlock(i.Teleport,{to:a.value},[i.createVNode(_U,{context:i.unref(s)},{default:i.withCtx(()=>[i.renderSlot(d.$slots,"default")]),_:3},8,["context"])],8,["to"]))])):i.createCommentVNode("",!0)}}}),[Yk,MU]=ke("SelectItem"),OU=i.defineComponent({__name:"SelectItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select"],setup(t,{emit:e}){const n=t,o=e,{disabled:r}=i.toRefs(n),s=Lr(),a=Vr(),{forwardRef:l,currentElement:c}=H(),{CollectionItem:d}=bt(),u=i.computed(()=>{var w;return bm((w=s.modelValue)==null?void 0:w.value,n.value,s.by)}),f=i.ref(!1),p=i.ref(n.textValue??""),h=Je(void 0,"reka-select-item-text"),m="select.select";async function g(w){if(w.defaultPrevented)return;const x={originalEvent:w,value:n.value};qh(m,y,x)}async function y(w){await i.nextTick(),o("select",w),!w.defaultPrevented&&(r.value||(s.onValueChange(n.value),s.multiple.value||s.onOpenChange(!1)))}async function b(w){var x;await i.nextTick(),!w.defaultPrevented&&(r.value?(x=a.onItemLeave)==null||x.call(a):w.currentTarget.focus({preventScroll:!0}))}async function C(w){var x;await i.nextTick(),!w.defaultPrevented&&w.currentTarget===Ke()&&((x=a.onItemLeave)==null||x.call(a))}async function k(w){var S;await i.nextTick(),!(w.defaultPrevented||((S=a.searchRef)==null?void 0:S.value)!==""&&w.key===" ")&&(mU.includes(w.key)&&g(w),w.key===" "&&w.preventDefault())}if(n.value==="")throw new Error("A <SelectItem /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.onMounted(()=>{c.value&&a.itemRefCallback(c.value,n.value,n.disabled)}),MU({value:n.value,disabled:r,textId:h,isSelected:u,onItemTextChange:w=>{p.value=((p.value||(w==null?void 0:w.textContent))??"").trim()}}),(w,x)=>(i.openBlock(),i.createBlock(i.unref(d),{value:{textValue:p.value}},{default:i.withCtx(()=>[i.createVNode(i.unref(Y),{ref:i.unref(l),role:"option","aria-labelledby":i.unref(h),"data-highlighted":f.value?"":void 0,"aria-selected":u.value,"data-state":u.value?"checked":"unchecked","aria-disabled":i.unref(r)||void 0,"data-disabled":i.unref(r)?"":void 0,tabindex:i.unref(r)?void 0:-1,as:w.as,"as-child":w.asChild,onFocus:x[0]||(x[0]=S=>f.value=!0),onBlur:x[1]||(x[1]=S=>f.value=!1),onPointerup:g,onPointerdown:x[2]||(x[2]=S=>{S.currentTarget.focus({preventScroll:!0})}),onTouchend:x[3]||(x[3]=i.withModifiers(()=>{},["prevent","stop"])),onPointermove:b,onPointerleave:C,onKeydown:k},{default:i.withCtx(()=>[i.renderSlot(w.$slots,"default")]),_:3},8,["aria-labelledby","data-highlighted","aria-selected","data-state","aria-disabled","data-disabled","tabindex","as","as-child"])]),_:3},8,["value"]))}}),vU=i.defineComponent({__name:"SelectItemIndicator",props:{asChild:{type:Boolean},as:{default:"span"}},setup(t){const e=t,n=Yk();return(o,r)=>i.unref(n).isSelected.value?(i.openBlock(),i.createBlock(i.unref(Y),i.mergeProps({key:0,"aria-hidden":"true"},e),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16)):i.createCommentVNode("",!0)}}),NU=i.defineComponent({inheritAttrs:!1,__name:"SelectItemText",props:{asChild:{type:Boolean},as:{default:"span"}},setup(t){const e=t,n=Lr(),o=Vr(),r=Yk(),{forwardRef:s,currentElement:a}=H(),l=i.computed(()=>{var c,d;return{value:r.value,disabled:r.disabled.value,textContent:((c=a.value)==null?void 0:c.textContent)??((d=r.value)==null?void 0:d.toString())??""}});return i.onMounted(()=>{a.value&&(r.onItemTextChange(a.value),o.itemTextRefCallback(a.value,r.value,r.disabled.value),n.onOptionAdd(l.value))}),i.onBeforeUnmount(()=>{n.onOptionRemove(l.value)}),(c,d)=>(i.openBlock(),i.createBlock(i.unref(Y),i.mergeProps({id:i.unref(r).textId,ref:i.unref(s)},{...e,...c.$attrs}),{default:i.withCtx(()=>[i.renderSlot(c.$slots,"default")]),_:3},16,["id"]))}}),IU=i.defineComponent({__name:"SelectViewport",props:{nonce:{},asChild:{type:Boolean},as:{}},setup(t){const e=t,{nonce:n}=i.toRefs(e),o=Tk(n),r=Vr(),s=r.position==="item-aligned"?Cm():void 0,{forwardRef:a,currentElement:l}=H();i.onMounted(()=>{r==null||r.onViewportChange(l.value)});const c=i.ref(0);function d(u){const f=u.currentTarget,{shouldExpandOnScrollRef:p,contentWrapper:h}=s??{};if(p!=null&&p.value&&(h!=null&&h.value)){const m=Math.abs(c.value-f.scrollTop);if(m>0){const g=window.innerHeight-cn*2,y=Number.parseFloat(h.value.style.minHeight),b=Number.parseFloat(h.value.style.height),C=Math.max(y,b);if(C<g){const k=C+m,w=Math.min(g,k),x=k-w;h.value.style.height=`${w}px`,h.value.style.bottom==="0px"&&(f.scrollTop=x>0?x:0,h.value.style.justifyContent="flex-end")}}}c.value=f.scrollTop}return(u,f)=>(i.openBlock(),i.createElementBlock(i.Fragment,null,[i.createVNode(i.unref(Y),i.mergeProps({ref:i.unref(a),"data-reka-select-viewport":"",role:"presentation"},{...u.$attrs,...e},{style:{position:"relative",flex:1,overflow:"hidden auto"},onScroll:d}),{default:i.withCtx(()=>[i.renderSlot(u.$slots,"default")]),_:3},16),i.createVNode(i.unref(Y),{as:"style",nonce:i.unref(o)},{default:i.withCtx(()=>f[0]||(f[0]=[i.createTextVNode(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-select-viewport] { scrollbar-width:none; -ms-overflow-style: none; -webkit-overflow-scrolling: touch; } [data-reka-select-viewport]::-webkit-scrollbar { display: none; } ")])),_:1},8,["nonce"])],64))}}),Jk=i.defineComponent({__name:"SelectScrollButtonImpl",emits:["autoScroll"],setup(t,{emit:e}){const n=e,{getItems:o}=bt(),r=Vr(),s=i.ref(null);function a(){s.value!==null&&(window.clearInterval(s.value),s.value=null)}i.watchEffect(()=>{const d=o().map(u=>u.ref).find(u=>u===Ke());d==null||d.scrollIntoView({block:"nearest"})});function l(){s.value===null&&(s.value=window.setInterval(()=>{n("autoScroll")},50))}function c(){var d;(d=r.onItemLeave)==null||d.call(r),s.value===null&&(s.value=window.setInterval(()=>{n("autoScroll")},50))}return i.onBeforeUnmount(()=>a()),(d,u)=>{var f;return i.openBlock(),i.createBlock(i.unref(Y),i.mergeProps({"aria-hidden":"true",style:{flexShrink:0}},(f=d.$parent)==null?void 0:f.$props,{onPointerdown:l,onPointermove:c,onPointerleave:u[0]||(u[0]=()=>{a()})}),{default:i.withCtx(()=>[i.renderSlot(d.$slots,"default")]),_:3},16)}}}),BU=i.defineComponent({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean},as:{}},setup(t){const e=Vr(),n=e.position==="item-aligned"?Cm():void 0,{forwardRef:o,currentElement:r}=H(),s=i.ref(!1);return i.watchEffect(a=>{var l,c;if((l=e.viewport)!=null&&l.value&&((c=e.isPositioned)!=null&&c.value)){let d=function(){s.value=u.scrollTop>0};const u=e.viewport.value;d(),u.addEventListener("scroll",d),a(()=>u.removeEventListener("scroll",d))}}),i.watch(r,()=>{r.value&&(n==null||n.onScrollButtonChange(r.value))}),(a,l)=>s.value?(i.openBlock(),i.createBlock(Jk,{key:0,ref:i.unref(o),onAutoScroll:l[0]||(l[0]=()=>{const{viewport:c,selectedItem:d}=i.unref(e);c!=null&&c.value&&(d!=null&&d.value)&&(c.value.scrollTop=c.value.scrollTop-d.value.offsetHeight)})},{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},512)):i.createCommentVNode("",!0)}}),RU=i.defineComponent({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean},as:{}},setup(t){const e=Vr(),n=e.position==="item-aligned"?Cm():void 0,{forwardRef:o,currentElement:r}=H(),s=i.ref(!1);return i.watchEffect(a=>{var l,c;if((l=e.viewport)!=null&&l.value&&((c=e.isPositioned)!=null&&c.value)){let d=function(){const f=u.scrollHeight-u.clientHeight;s.value=Math.ceil(u.scrollTop)<f};const u=e.viewport.value;d(),u.addEventListener("scroll",d),a(()=>u.removeEventListener("scroll",d))}}),i.watch(r,()=>{r.value&&(n==null||n.onScrollButtonChange(r.value))}),(a,l)=>s.value?(i.openBlock(),i.createBlock(Jk,{key:0,ref:i.unref(o),onAutoScroll:l[0]||(l[0]=()=>{const{viewport:c,selectedItem:d}=i.unref(e);c!=null&&c.value&&(d!=null&&d.value)&&(c.value.scrollTop=c.value.scrollTop+d.value.offsetHeight)})},{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},512)):i.createCommentVNode("",!0)}}),PU=i.defineComponent({__name:"SelectValue",props:{placeholder:{default:""},asChild:{type:Boolean},as:{default:"span"}},setup(t){const e=t,{forwardRef:n,currentElement:o}=H(),r=Lr();i.onMounted(()=>{r.valueElement=o});const s=i.computed(()=>{var u;let l=[];const c=Array.from(r.optionsSet.value),d=f=>c.find(p=>p.value===f);return Array.isArray(r.modelValue.value)?l=r.modelValue.value.map(f=>{var p;return((p=d(f))==null?void 0:p.textContent)??""}):l=[((u=d(r.modelValue.value))==null?void 0:u.textContent)??""],l.filter(Boolean)}),a=i.computed(()=>s.value.length?s.value.join(", "):e.placeholder);return(l,c)=>(i.openBlock(),i.createBlock(i.unref(Y),{ref:i.unref(n),as:l.as,"as-child":l.asChild,style:{pointerEvents:"none"},"data-placeholder":s.value.length?void 0:e.placeholder},{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default",{selectedLabel:s.value,modelValue:i.unref(r).modelValue.value},()=>[i.createTextVNode(i.toDisplayString(a.value),1)])]),_:3},8,["as","as-child","data-placeholder"]))}}),DU=i.defineComponent({__name:"SelectIcon",props:{asChild:{type:Boolean},as:{default:"span"}},setup(t){return(e,n)=>(i.openBlock(),i.createBlock(i.unref(Y),{"aria-hidden":"true",as:e.as,"as-child":e.asChild},{default:i.withCtx(()=>[i.renderSlot(e.$slots,"default",{},()=>[n[0]||(n[0]=i.createTextVNode(""))])]),_:3},8,["as","as-child"]))}}),$U=i.defineComponent({__name:"BaseSeparator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const e=t,n=["horizontal","vertical"];function o(l){return n.includes(l)}const r=i.computed(()=>o(e.orientation)?e.orientation:"horizontal"),s=i.computed(()=>r.value==="vertical"?e.orientation:void 0),a=i.computed(()=>e.decorative?{role:"none"}:{"aria-orientation":s.value,role:"separator"});return(l,c)=>(i.openBlock(),i.createBlock(i.unref(Y),i.mergeProps({as:l.as,"as-child":l.asChild,"data-orientation":r.value},a.value),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16,["as","as-child","data-orientation"]))}}),LU=i.defineComponent({__name:"Separator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock($U,i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}});let km=null,Fr=null;function VU(t,e){if(e){const n=(e&sx)!==0,o=(e&ax)!==0,r=(e&lx)!==0,s=(e&cx)!==0;if(n)return r?"se-resize":s?"ne-resize":"e-resize";if(o)return r?"sw-resize":s?"nw-resize":"w-resize";if(r)return"s-resize";if(s)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Xk(){Fr!==null&&(document.head.removeChild(Fr),km=null,Fr=null)}function xm(t,e){const n=VU(t,e);km!==n&&(km=n,Fr===null&&(Fr=document.createElement("style"),document.head.appendChild(Fr)),Fr.innerHTML=`*{cursor: ${n}!important;}`)}function FU({defaultSize:t,dragState:e,layout:n,panelData:o,panelIndex:r,precision:s=3}){const a=n[r];let l;return a==null?l=t!==void 0?t.toPrecision(s):"1":o.length===1?l="1":l=a.toPrecision(s),{flexBasis:0,flexGrow:l,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function Zk(t){return t.type==="keydown"}function Qk(t){return t.type.startsWith("mouse")}function ex(t){return t.type.startsWith("touch")}function ld(t){if(Qk(t))return{x:t.clientX,y:t.clientY};if(ex(t)){const e=t.touches[0];if(e&&e.clientX&&e.clientY)return{x:e.clientX,y:e.clientY}}return{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY}}function tx(t,e){const n=t==="horizontal",{x:o,y:r}=ld(e);return n?o:r}function zU(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function ce(t,e="Assertion failed!"){if(!t)throw console.error(e),new Error(e)}function HU(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:rx(t),b:rx(e)};let o;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),o=t;ce(o);const r={a:ox(nx(n.a)),b:ox(nx(n.b))};if(r.a===r.b){const s=o.childNodes,a={a:n.a.at(-1),b:n.b.at(-1)};let l=s.length;for(;l--;){const c=s[l];if(c===a.a)return 1;if(c===a.b)return-1}}return Math.sign(r.a-r.b)}const UU=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function jU(t){const e=getComputedStyle(ix(t)).display;return e==="flex"||e==="inline-flex"}function WU(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||jU(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||UU.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function nx(t){let e=t.length;for(;e--;){const n=t[e];if(ce(n),WU(n))return n}return null}function ox(t){return t&&Number(getComputedStyle(t).zIndex)||0}function rx(t){const e=[];for(;t;)e.push(t),t=ix(t);return e}function ix(t){var e;return t.parentNode instanceof DocumentFragment&&((e=t.parentNode)==null?void 0:e.host)||t.parentNode}const sx=1,ax=2,lx=4,cx=8;function KU(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}const GU=KU()==="coarse",jo=[];let cd=!1;const Wo=new Map,dd=new Map,Aa=new Set;function qU(t,e,n,o,r){const{ownerDocument:s}=e,a={direction:n,element:e,hitAreaMargins:o,setResizeHandlerState:r},l=Wo.get(s)??0;return Wo.set(s,l+1),Aa.add(a),fd(),function(){dd.delete(t),Aa.delete(a);const d=Wo.get(s)??1;Wo.set(s,d-1),fd(),Xk(),d===1&&Wo.delete(s)}}function ud(t){const{target:e}=t,{x:n,y:o}=ld(t);cd=!0,Sm({target:e,x:n,y:o}),fd(),jo.length>0&&(_m("down",t),t.preventDefault())}function Ko(t){const{x:e,y:n}=ld(t);if(!cd){const{target:o}=t;Sm({target:o,x:e,y:n})}_m("move",t),dx(),jo.length>0&&t.preventDefault()}function Go(t){const{target:e}=t,{x:n,y:o}=ld(t);dd.clear(),cd=!1,jo.length>0&&t.preventDefault(),_m("up",t),Sm({target:e,x:n,y:o}),dx(),fd()}function Sm({target:t,x:e,y:n}){jo.splice(0);let o=null;t instanceof HTMLElement&&(o=t),Aa.forEach(r=>{const{element:s,hitAreaMargins:a}=r,l=s.getBoundingClientRect(),{bottom:c,left:d,right:u,top:f}=l,p=GU?a.coarse:a.fine;if(e>=d-p&&e<=u+p&&n>=f-p&&n<=c+p){if(o!==null&&s!==o&&!s.contains(o)&&!o.contains(s)&&HU(o,s)>0){let m=o,g=!1;for(;m&&!m.contains(s);){if(zU(m.getBoundingClientRect(),l)){g=!0;break}m=m.parentElement}if(g)return}jo.push(r)}})}function Em(t,e){dd.set(t,e)}function dx(){let t=!1,e=!1;jo.forEach(o=>{const{direction:r}=o;r.value==="horizontal"?t=!0:e=!0});let n=0;dd.forEach(o=>{n|=o}),t&&e?xm("intersection",n):t?xm("horizontal",n):e?xm("vertical",n):Xk()}function fd(){Wo.forEach((t,e)=>{const{body:n}=e;n.removeEventListener("contextmenu",Go),n.removeEventListener("mousedown",ud),n.removeEventListener("mouseleave",Ko),n.removeEventListener("mousemove",Ko),n.removeEventListener("touchmove",Ko),n.removeEventListener("touchstart",ud)}),window.removeEventListener("mouseup",Go),window.removeEventListener("touchcancel",Go),window.removeEventListener("touchend",Go),Aa.size>0&&(cd?(jo.length>0&&Wo.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("contextmenu",Go),n.addEventListener("mouseleave",Ko),n.addEventListener("mousemove",Ko),n.addEventListener("touchmove",Ko,{passive:!1}))}),window.addEventListener("mouseup",Go),window.addEventListener("touchcancel",Go),window.addEventListener("touchend",Go)):Wo.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("mousedown",ud),n.addEventListener("mousemove",Ko),n.addEventListener("touchmove",Ko,{passive:!1}),n.addEventListener("touchstart",ud))}))}function _m(t,e){Aa.forEach(n=>{const{setResizeHandlerState:o}=n,r=jo.includes(n);o(t,r,e)})}const Am=10;function Ta(t,e,n=Am){t=Number.parseFloat(t.toFixed(n)),e=Number.parseFloat(e.toFixed(n));const o=t-e;return o===0?0:o>0?1:-1}function Lt(t,e,n){return Ta(t,e,n)===0}function ji({panelConstraints:t,panelIndex:e,size:n}){const o=t[e];ce(o!=null);const{collapsedSize:r=0,collapsible:s,maxSize:a=100,minSize:l=0}=o;if(Ta(n,l)<0)if(s){const c=(r+l)/2;Ta(n,c)<0?n=r:n=l}else n=l;return n=Math.min(a,n),n=Number.parseFloat(n.toFixed(Am)),n}function pd(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Ma({delta:t,layout:e,panelConstraints:n,pivotIndices:o,trigger:r}){if(Lt(t,0))return e;const s=[...e],[a,l]=o;ce(a!=null),ce(l!=null);let c=0;if(r==="keyboard"){{const u=t<0?l:a,f=n[u];if(ce(f),f.collapsible){const p=e[u];ce(p!=null);const h=n[u];ce(h);const{collapsedSize:m=0,minSize:g=0}=h;if(Lt(p,m)){const y=g-p;Ta(y,Math.abs(t))>0&&(t=t<0?0-y:y)}}}{const u=t<0?a:l,f=n[u];ce(f);const{collapsible:p}=f;if(p){const h=e[u];ce(h!=null);const m=n[u];ce(m);const{collapsedSize:g=0,minSize:y=0}=m;if(Lt(h,y)){const b=h-g;Ta(b,Math.abs(t))>0&&(t=t<0?0-b:b)}}}}{const u=t<0?1:-1;let f=t<0?l:a,p=0;for(;;){const m=e[f];ce(m!=null);const y=ji({panelConstraints:n,panelIndex:f,size:100})-m;if(p+=y,f+=u,f<0||f>=n.length)break}const h=Math.min(Math.abs(t),Math.abs(p));t=t<0?0-h:h}{let f=t<0?a:l;for(;f>=0&&f<n.length;){const p=Math.abs(t)-Math.abs(c),h=e[f];ce(h!=null);const m=h-p,g=ji({panelConstraints:n,panelIndex:f,size:m});if(!Lt(h,g)&&(c+=h-g,s[f]=g,c.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?f--:f++}}if(Lt(c,0))return e;{const u=t<0?l:a,f=e[u];ce(f!=null);const p=f+c,h=ji({panelConstraints:n,panelIndex:u,size:p});if(s[u]=h,!Lt(h,p)){let m=p-h,y=t<0?l:a;for(;y>=0&&y<n.length;){const b=s[y];ce(b!=null);const C=b+m,k=ji({panelConstraints:n,panelIndex:y,size:C});if(Lt(b,k)||(m-=k-b,s[y]=k),Lt(m,0))break;t>0?y--:y++}}}const d=s.reduce((u,f)=>f+u,0);return Lt(d,100)?s:e}const Oa=typeof document<"u";function ux(t,e=document){var o;if(!Oa)return null;if(e instanceof HTMLElement&&((o=e==null?void 0:e.dataset)==null?void 0:o.panelGroupId)===t)return e;const n=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return n||null}function hd(t,e=document){if(!Oa)return null;const n=e.querySelector(`[data-panel-resize-handle-id="${t}"]`);return n||null}function fx(t,e,n=document){return Oa?va(t,n).findIndex(s=>s.getAttribute("data-panel-resize-handle-id")===e)??null:null}function va(t,e=document){return Oa?Array.from(e.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${t}"]`)):[]}function YU(t,e,n,o=document){var d,u;const r=hd(e,o),s=va(t,o),a=r?s.indexOf(r):-1,l=((d=n[a])==null?void 0:d.id)??null,c=((u=n[a+1])==null?void 0:u.id)??null;return[l,c]}function JU(t,e,n,o,r){const s=n==="horizontal",a=hd(e,r);ce(a);const l=a.getAttribute("data-panel-group-id");ce(l);const{initialCursorPosition:c}=o,d=tx(n,t),u=ux(l,r);ce(u);const f=u.getBoundingClientRect(),p=s?f.width:f.height;return(d-c)/p*100}function XU(t,e,n,o,r,s){if(Zk(t)){const a=n==="horizontal";let l=0;t.shiftKey?l=100:l=r??10;let c=0;switch(t.key){case"ArrowDown":c=a?0:l;break;case"ArrowLeft":c=a?-l:0;break;case"ArrowRight":c=a?l:0;break;case"ArrowUp":c=a?0:-l;break;case"End":c=100;break;case"Home":c=-100;break}return c}else return o==null?0:JU(t,e,n,o,s)}function ZU({layout:t,panelsArray:e,pivotIndices:n}){let o=0,r=100,s=0,a=0;const l=n[0];ce(l!=null),e.forEach((f,p)=>{const{constraints:h}=f,{maxSize:m=100,minSize:g=0}=h;p===l?(o=g,r=m):(s+=g,a+=m)});const c=Math.min(r,100-s),d=Math.max(o,100-a),u=t[l];return{valueMax:c,valueMin:d,valueNow:u}}function QU({panelDataArray:t}){const e=Array(t.length),n=t.map(s=>s.constraints);let o=0,r=100;for(let s=0;s<t.length;s++){const a=n[s];ce(a);const{defaultSize:l}=a;l!=null&&(o++,e[s]=l,r-=l)}for(let s=0;s<t.length;s++){const a=n[s];ce(a);const{defaultSize:l}=a;if(l!=null)continue;const c=t.length-o,d=r/c;o++,e[s]=d,r-=d}return e}function Na(t,e,n){e.forEach((o,r)=>{const s=t[r];ce(s);const{callbacks:a,constraints:l,id:c}=s,{collapsedSize:d=0,collapsible:u}=l,f=n[c];if(f==null||o!==f){n[c]=o;const{onCollapse:p,onExpand:h,onResize:m}=a;m&&m(o,f),u&&(p||h)&&(h&&(f==null||f===d)&&o!==d&&h(),p&&(f==null||f!==d)&&o===d&&p())}})}function ej(t,e=10){let n=null;return(...r)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}}function px(t,e,n){const o=fx(t,e,n);return o!=null?[o,o+1]:[-1,-1]}function tj({layout:t,panelConstraints:e}){const n=[...t],o=n.reduce((s,a)=>s+a,0);if(n.length!==e.length)throw new Error(`Invalid ${e.length} panel layout: ${n.map(s=>`${s}%`).join(", ")}`);if(!Lt(o,100)){console.warn(`WARNING: Invalid layout total size: ${n.map(s=>`${s}%`).join(", ")}. Layout normalization will be applied.`);for(let s=0;s<e.length;s++){const a=n[s];ce(a!=null);const l=100/o*a;n[s]=l}}let r=0;for(let s=0;s<e.length;s++){const a=n[s];ce(a!=null);const l=ji({panelConstraints:e,panelIndex:s,size:a});a!==l&&(r+=a-l,n[s]=l)}if(!Lt(r,0))for(let s=0;s<e.length;s++){const a=n[s];ce(a!=null);const l=a+r,c=ji({panelConstraints:e,panelIndex:s,size:l});if(a!==c&&(r-=c-a,n[s]=c,Lt(r,0)))break}return n}function hx(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new TypeError("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function mx(t){return`reka:${t}`}function gx(t){return t.map(e=>{const{constraints:n,id:o,idIsFromProps:r,order:s}=e;return r?o:s?`${s}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function yx(t,e){try{const n=mx(t),o=e.getItem(n);if(o){const r=JSON.parse(o);if(typeof r=="object"&&r!=null)return r}}catch{}return null}function nj(t,e,n){const o=yx(t,n)??{},r=gx(e);return o[r]??null}function oj(t,e,n,o,r){const s=mx(t),a=gx(e),l=yx(t,r)??{};l[a]={expandToSizes:Object.fromEntries(n.entries()),layout:o};try{r.setItem(s,JSON.stringify(l))}catch(c){console.error(c)}}function rj({eagerValuesRef:t,groupId:e,layout:n,panelDataArray:o,panelGroupElement:r,setLayout:s}){i.watchEffect(a=>{const l=r.value;if(!l)return;const c=va(e,l);for(let d=0;d<o.length-1;d++){const{valueMax:u,valueMin:f,valueNow:p}=ZU({layout:n.value,panelsArray:o,pivotIndices:[d,d+1]}),h=c[d];if(h!=null){const m=o[d];ce(m),h.setAttribute("aria-controls",m.id),h.setAttribute("aria-valuemax",`${Math.round(u)}`),h.setAttribute("aria-valuemin",`${Math.round(f)}`),h.setAttribute("aria-valuenow",p!=null?`${Math.round(p)}`:"")}}a(()=>{c.forEach(d=>{d.removeAttribute("aria-controls"),d.removeAttribute("aria-valuemax"),d.removeAttribute("aria-valuemin"),d.removeAttribute("aria-valuenow")})})}),i.watchEffect(a=>{const l=r.value;if(!l)return;const c=t.value;ce(c);const{panelDataArray:d}=c,u=ux(e,l);ce(u!=null,`No group found for id "${e}"`);const f=va(e,l);ce(f);const p=f.map(h=>{const m=h.getAttribute("data-panel-resize-handle-id");ce(m);const[g,y]=YU(e,m,d,l);if(g==null||y==null)return()=>{};const b=C=>{if(!C.defaultPrevented)switch(C.key){case"Enter":{C.preventDefault();const k=d.findIndex(w=>w.id===g);if(k>=0){const w=d[k];ce(w);const x=n.value[k],{collapsedSize:S=0,collapsible:E,minSize:T=0}=w.constraints;if(x!=null&&E){const _=Ma({delta:Lt(x,S)?T-S:S-x,layout:n.value,panelConstraints:d.map(A=>A.constraints),pivotIndices:px(e,m,l),trigger:"keyboard"});n.value!==_&&s(_)}}break}}};return h.addEventListener("keydown",b),()=>{h.removeEventListener("keydown",b)}});a(()=>{p.forEach(h=>h())})})}const ij=100,Ia={getItem:t=>(hx(Ia),Ia.getItem(t)),setItem:(t,e)=>{hx(Ia),Ia.setItem(t,e)}},[bx,sj]=ke("PanelGroup"),aj=i.defineComponent({__name:"SplitterGroup",props:{id:{},autoSaveId:{default:null},direction:{},keyboardResizeBy:{default:10},storage:{default:()=>Ia},asChild:{type:Boolean},as:{}},emits:["layout"],setup(t,{emit:e}){const n=t,o=e,r={},{direction:s}=i.toRefs(n),a=Je(n.id,"reka-splitter-group"),l=eo(),{forwardRef:c,currentElement:d}=H(),u=i.ref(null),f=i.ref([]),p=i.ref({}),h=i.ref(new Map),m=i.ref(0),g=i.computed(()=>({autoSaveId:n.autoSaveId,direction:n.direction,dragState:u.value,id:a,keyboardResizeBy:n.keyboardResizeBy,storage:n.storage})),y=i.ref({layout:f.value,panelDataArray:[],panelDataArrayChanged:!1}),b=O=>f.value=O;rj({eagerValuesRef:y,groupId:a,layout:f,panelDataArray:y.value.panelDataArray,setLayout:b,panelGroupElement:d}),i.watchEffect(()=>{const{panelDataArray:O}=y.value,{autoSaveId:$}=n;if($){if(f.value.length===0||f.value.length!==O.length)return;let N=r[$];N||(N=ej(oj,ij),r[$]=N);const I=[...O],F=new Map(h.value);N($,I,F,f.value,n.storage)}});function C(O,$){const{panelDataArray:N}=y.value,I=D(N,O);return FU({defaultSize:$,dragState:u.value,layout:f.value,panelData:N,panelIndex:I})}function k(O){const{panelDataArray:$}=y.value;$.push(O),$.sort((N,I)=>{const F=N.order,j=I.order;return F==null&&j==null?0:F==null?-1:j==null?1:F-j}),y.value.panelDataArrayChanged=!0}i.watch(()=>y.value.panelDataArrayChanged,()=>{if(y.value.panelDataArrayChanged){y.value.panelDataArrayChanged=!1;const{autoSaveId:O,storage:$}=g.value,{layout:N,panelDataArray:I}=y.value;let F=null;if(O){const te=nj(O,I,$);te&&(h.value=new Map(Object.entries(te.expandToSizes)),F=te.layout)}F===null&&(F=QU({panelDataArray:I}));const j=tj({layout:F,panelConstraints:I.map(te=>te.constraints)});Xz(N,j)||(b(j),y.value.layout=j,o("layout",j),Na(I,j,p.value))}});function w(O){return function(N){N.preventDefault();const I=d.value;if(!I)return()=>null;const{direction:F,dragState:j,id:te,keyboardResizeBy:ie}=g.value,{layout:de,panelDataArray:pe}=y.value,{initialLayout:Oe}=j??{},xe=px(te,O,I);let Ce=XU(N,O,F,j,ie,I);if(Ce===0)return;const $e=F==="horizontal";l.value==="rtl"&&$e&&(Ce=-Ce);const en=pe.map(ks=>ks.constraints),vt=Ma({delta:Ce,layout:Oe??de,panelConstraints:en,pivotIndices:xe,trigger:Zk(N)?"keyboard":"mouse-or-touch"}),tn=!pd(de,vt);(Qk(N)||ex(N))&&m.value!==Ce&&(m.value=Ce,tn?Em(O,0):$e?Em(O,Ce<0?sx:ax):Em(O,Ce<0?lx:cx)),tn&&(b(vt),y.value.layout=vt,o("layout",vt),Na(pe,vt,p.value))}}function x(O,$){const{layout:N,panelDataArray:I}=y.value,F=I.map(Oe=>Oe.constraints),{panelSize:j,pivotIndices:te}=B(I,O,N);ce(j!=null);const de=D(I,O)===I.length-1?j-$:$-j,pe=Ma({delta:de,layout:N,panelConstraints:F,pivotIndices:te,trigger:"imperative-api"});pd(N,pe)||(b(pe),y.value.layout=pe,o("layout",pe),Na(I,pe,p.value))}function S(O,$){const{layout:N,panelDataArray:I}=y.value,F=D(I,O);I[F]=O,y.value.panelDataArrayChanged=!0;const{collapsedSize:j=0,collapsible:te}=$,{collapsedSize:ie=0,collapsible:de,maxSize:pe=100,minSize:Oe=0}=O.constraints,{panelSize:xe}=B(I,O,N);xe!==null&&(te&&de&&xe===j?j!==ie&&x(O,ie):xe<Oe?x(O,Oe):xe>pe&&x(O,pe))}function E(O,$){const{direction:N}=g.value,{layout:I}=y.value;if(!d.value)return;const F=hd(O,d.value);ce(F);const j=tx(N,$);u.value={dragHandleId:O,dragHandleRect:F.getBoundingClientRect(),initialCursorPosition:j,initialLayout:I}}function T(){u.value=null}function _(O){const{panelDataArray:$}=y.value,N=D($,O);N>=0&&($.splice(N,1),delete p.value[O.id],y.value.panelDataArrayChanged=!0)}function A(O){const{layout:$,panelDataArray:N}=y.value;if(O.constraints.collapsible){const I=N.map(ie=>ie.constraints),{collapsedSize:F=0,panelSize:j,pivotIndices:te}=B(N,O,$);if(ce(j!=null,`Panel size not found for panel "${O.id}"`),j!==F){h.value.set(O.id,j);const de=D(N,O)===N.length-1?j-F:F-j,pe=Ma({delta:de,layout:$,panelConstraints:I,pivotIndices:te,trigger:"imperative-api"});pd($,pe)||(b(pe),y.value.layout=pe,o("layout",pe),Na(N,pe,p.value))}}}function M(O){const{layout:$,panelDataArray:N}=y.value;if(O.constraints.collapsible){const I=N.map(de=>de.constraints),{collapsedSize:F=0,panelSize:j,minSize:te=0,pivotIndices:ie}=B(N,O,$);if(j===F){const de=h.value.get(O.id),pe=de!=null&&de>=te?de:te,xe=D(N,O)===N.length-1?j-pe:pe-j,Ce=Ma({delta:xe,layout:$,panelConstraints:I,pivotIndices:ie,trigger:"imperative-api"});pd($,Ce)||(b(Ce),y.value.layout=Ce,o("layout",Ce),Na(N,Ce,p.value))}}}function v(O){const{layout:$,panelDataArray:N}=y.value,{panelSize:I}=B(N,O,$);return ce(I!=null,`Panel size not found for panel "${O.id}"`),I}function L(O){const{layout:$,panelDataArray:N}=y.value,{collapsedSize:I=0,collapsible:F,panelSize:j}=B(N,O,$);return F?j===void 0?O.constraints.defaultSize===O.constraints.collapsedSize:j===I:!1}function z(O){const{layout:$,panelDataArray:N}=y.value,{collapsedSize:I=0,collapsible:F,panelSize:j}=B(N,O,$);return ce(j!=null,`Panel size not found for panel "${O.id}"`),!F||j>I}sj({direction:s,dragState:u.value,groupId:a,reevaluatePanelConstraints:S,registerPanel:k,registerResizeHandle:w,resizePanel:x,startDragging:E,stopDragging:T,unregisterPanel:_,panelGroupElement:d,collapsePanel:A,expandPanel:M,isPanelCollapsed:L,isPanelExpanded:z,getPanelSize:v,getPanelStyle:C});function D(O,$){return O.findIndex(N=>N===$||N.id===$.id)}function B(O,$,N){const I=D(O,$),j=I===O.length-1?[I-1,I]:[I,I+1],te=N[I];return{...$.constraints,panelSize:te,pivotIndices:j}}return(O,$)=>(i.openBlock(),i.createBlock(i.unref(Y),{ref:i.unref(c),as:O.as,"as-child":O.asChild,style:i.normalizeStyle({display:"flex",flexDirection:i.unref(s)==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"}),"data-panel-group":"","data-orientation":i.unref(s),"data-panel-group-id":i.unref(a)},{default:i.withCtx(()=>[i.renderSlot(O.$slots,"default",{layout:f.value})]),_:3},8,["as","as-child","style","data-orientation","data-panel-group-id"]))}}),wx=i.defineComponent({__name:"SplitterPanel",props:{collapsedSize:{},collapsible:{type:Boolean},defaultSize:{},id:{},maxSize:{},minSize:{},order:{},asChild:{type:Boolean},as:{}},emits:["collapse","expand","resize"],setup(t,{expose:e,emit:n}){const o=t,r=n,s=bx();if(s===null)throw new Error("SplitterPanel components must be rendered within a SplitterGroup container");const{collapsePanel:a,expandPanel:l,getPanelSize:c,getPanelStyle:d,isPanelCollapsed:u,resizePanel:f,groupId:p,reevaluatePanelConstraints:h,registerPanel:m,unregisterPanel:g}=s,y=Je(o.id,"reka-splitter-panel"),b=i.computed(()=>({callbacks:{onCollapse:()=>r("collapse"),onExpand:()=>r("expand"),onResize:(...x)=>r("resize",...x)},constraints:{collapsedSize:o.collapsedSize&&Number.parseFloat(o.collapsedSize.toFixed(Am)),collapsible:o.collapsible,defaultSize:o.defaultSize,maxSize:o.maxSize,minSize:o.minSize},id:y,idIsFromProps:o.id!==void 0,order:o.order}));i.watch(()=>b.value.constraints,(x,S)=>{(S.collapsedSize!==x.collapsedSize||S.collapsible!==x.collapsible||S.maxSize!==x.maxSize||S.minSize!==x.minSize)&&h(b.value,S)},{deep:!0}),i.onMounted(()=>{const x=b.value;m(x),i.onUnmounted(()=>{g(x)})});const C=i.computed(()=>d(b.value,o.defaultSize)),k=i.computed(()=>u(b.value)),w=i.computed(()=>!k.value);return e({collapse:()=>{a(b.value)},expand:()=>{l(b.value)},getSize(){return c(b.value)},resize:x=>{f(b.value,x)},isCollapsed:k,isExpanded:w}),(x,S)=>(i.openBlock(),i.createBlock(i.unref(Y),{id:i.unref(y),style:i.normalizeStyle(C.value),as:x.as,"as-child":x.asChild,"data-panel":"","data-panel-collapsible":x.collapsible||void 0,"data-panel-group-id":i.unref(p),"data-panel-id":i.unref(y),"data-panel-size":Number.parseFloat(`${C.value.flexGrow}`).toFixed(1),"data-state":x.collapsible?k.value?"collapsed":"expanded":void 0},{default:i.withCtx(()=>[i.renderSlot(x.$slots,"default",{isCollapsed:k.value,isExpanded:w.value})]),_:3},8,["id","style","as","as-child","data-panel-collapsible","data-panel-group-id","data-panel-id","data-panel-size","data-state"]))}});function lj({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:o}){i.watchEffect(r=>{const s=o.value;if(t.value||n.value===null||s===null)return;const a=hd(e,s);if(a==null)return;const l=c=>{var d;if(!c.defaultPrevented)switch(c.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{c.preventDefault(),(d=n.value)==null||d.call(n,c);break}case"F6":{c.preventDefault();const u=a.getAttribute("data-panel-group-id");ce(u);const f=va(u,s),p=fx(u,e,s);ce(p!==null);const h=c.shiftKey?p>0?p-1:f.length-1:p+1<f.length?p+1:0;f[h].focus();break}}};a.addEventListener("keydown",l),r(()=>{a.removeEventListener("keydown",l)})})}const cj=i.defineComponent({__name:"SplitterResizeHandle",props:{id:{},hitAreaMargins:{},tabindex:{default:0},disabled:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["dragging"],setup(t,{emit:e}){const n=t,o=e,{forwardRef:r,currentElement:s}=H(),{disabled:a}=i.toRefs(n),l=bx();if(l===null)throw new Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:c,groupId:d,registerResizeHandle:u,startDragging:f,stopDragging:p,panelGroupElement:h}=l,m=Je(n.id,"reka-splitter-resize-handle"),g=i.ref("inactive"),y=i.ref(!1),b=i.ref(null);return i.watch(a,()=>{Oa&&(a.value?b.value=null:b.value=u(m))},{immediate:!0}),i.watchEffect(C=>{var x,S;if(a.value||b.value===null)return;const k=s.value;if(!k)return;ce(k);const w=(E,T,_)=>{var A;if(T)switch(E){case"down":{g.value="drag",f(m,_),o("dragging",!0);break}case"move":{g.value!=="drag"&&(g.value="hover"),(A=b.value)==null||A.call(b,_);break}case"up":{g.value="hover",p(),o("dragging",!1);break}}else g.value="inactive"};C(qU(m,k,c,{coarse:((x=n.hitAreaMargins)==null?void 0:x.coarse)??15,fine:((S=n.hitAreaMargins)==null?void 0:S.fine)??5},w))}),lj({disabled:a,resizeHandler:b,handleId:m,panelGroupElement:h}),(C,k)=>(i.openBlock(),i.createBlock(i.unref(Y),{id:i.unref(m),ref:i.unref(r),style:{touchAction:"none",userSelect:"none"},as:C.as,"as-child":C.asChild,role:"separator","data-resize-handle":"",tabindex:C.tabindex,"data-state":g.value,"data-disabled":i.unref(a)?"":void 0,"data-orientation":i.unref(c),"data-panel-group-id":i.unref(d),"data-resize-handle-active":g.value==="drag"?"pointer":y.value?"keyboard":void 0,"data-resize-handle-state":g.value,"data-panel-resize-handle-enabled":!i.unref(a),"data-panel-resize-handle-id":i.unref(m),onBlur:k[0]||(k[0]=w=>y.value=!1),onFocus:k[1]||(k[1]=w=>y.value=!1)},{default:i.withCtx(()=>[i.renderSlot(C.$slots,"default")]),_:3},8,["id","as","as-child","tabindex","data-state","data-disabled","data-orientation","data-panel-group-id","data-resize-handle-active","data-resize-handle-state","data-panel-resize-handle-enabled","data-panel-resize-handle-id"]))}}),[Tm,dj]=ke("TabsRoot"),uj=i.defineComponent({__name:"TabsRoot",props:{defaultValue:{},orientation:{default:"horizontal"},dir:{},activationMode:{default:"automatic"},modelValue:{},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=e,{orientation:r,unmountOnHide:s,dir:a}=i.toRefs(n),l=eo(a);H();const c=rt(n,"modelValue",o,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),d=i.ref();return dj({modelValue:c,changeModelValue:u=>{c.value=u},orientation:r,dir:l,unmountOnHide:s,activationMode:n.activationMode,baseId:Je(void 0,"reka-tabs"),tabsList:d}),(u,f)=>(i.openBlock(),i.createBlock(i.unref(Y),{dir:i.unref(l),"data-orientation":i.unref(r),"as-child":u.asChild,as:u.as},{default:i.withCtx(()=>[i.renderSlot(u.$slots,"default",{modelValue:i.unref(c)})]),_:3},8,["dir","data-orientation","as-child","as"]))}}),fj=i.defineComponent({__name:"TabsList",props:{loop:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},setup(t){const e=t,{loop:n}=i.toRefs(e),{forwardRef:o,currentElement:r}=H(),s=Tm();return s.tabsList=r,(a,l)=>(i.openBlock(),i.createBlock(i.unref(Qc),{"as-child":"",orientation:i.unref(s).orientation.value,dir:i.unref(s).dir.value,loop:i.unref(n)},{default:i.withCtx(()=>[i.createVNode(i.unref(Y),{ref:i.unref(o),role:"tablist","as-child":a.asChild,as:a.as,"aria-orientation":i.unref(s).orientation.value},{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},8,["as-child","as","aria-orientation"])]),_:3},8,["orientation","dir","loop"]))}});function Cx(t,e){return`${t}-trigger-${e}`}function kx(t,e){return`${t}-content-${e}`}const pj=i.defineComponent({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const e=t,{forwardRef:n}=H(),o=Tm(),r=i.computed(()=>Cx(o.baseId,e.value)),s=i.computed(()=>kx(o.baseId,e.value)),a=i.computed(()=>e.value===o.modelValue.value),l=i.ref(a.value);return i.onMounted(()=>{requestAnimationFrame(()=>{l.value=!1})}),(c,d)=>(i.openBlock(),i.createBlock(i.unref(At),{present:c.forceMount||a.value,"force-mount":""},{default:i.withCtx(({present:u})=>[i.createVNode(i.unref(Y),{id:s.value,ref:i.unref(n),"as-child":c.asChild,as:c.as,role:"tabpanel","data-state":a.value?"active":"inactive","data-orientation":i.unref(o).orientation.value,"aria-labelledby":r.value,hidden:!u,tabindex:"0",style:i.normalizeStyle({animationDuration:l.value?"0s":void 0})},{default:i.withCtx(()=>[!i.unref(o).unmountOnHide.value||u?i.renderSlot(c.$slots,"default",{key:0}):i.createCommentVNode("",!0)]),_:2},1032,["id","as-child","as","data-state","data-orientation","aria-labelledby","hidden","style"])]),_:3},8,["present"]))}}),hj=i.defineComponent({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,{forwardRef:n}=H(),o=Tm(),r=i.computed(()=>Cx(o.baseId,e.value)),s=i.computed(()=>kx(o.baseId,e.value)),a=i.computed(()=>e.value===o.modelValue.value);return(l,c)=>(i.openBlock(),i.createBlock(i.unref(td),{"as-child":"",focusable:!l.disabled,active:a.value},{default:i.withCtx(()=>[i.createVNode(i.unref(Y),{id:r.value,ref:i.unref(n),role:"tab",type:l.as==="button"?"button":void 0,as:l.as,"as-child":l.asChild,"aria-selected":a.value?"true":"false","aria-controls":s.value,"data-state":a.value?"active":"inactive",disabled:l.disabled,"data-disabled":l.disabled?"":void 0,"data-orientation":i.unref(o).orientation.value,onMousedown:c[0]||(c[0]=i.withModifiers(d=>{!l.disabled&&d.ctrlKey===!1?i.unref(o).changeModelValue(l.value):d.preventDefault()},["left"])),onKeydown:c[1]||(c[1]=i.withKeys(d=>i.unref(o).changeModelValue(l.value),["enter","space"])),onFocus:c[2]||(c[2]=()=>{const d=i.unref(o).activationMode!=="manual";!a.value&&!l.disabled&&d&&i.unref(o).changeModelValue(l.value)})},{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},8,["id","type","as","as-child","aria-selected","aria-controls","data-state","disabled","data-disabled","data-orientation"])]),_:3},8,["focusable","active"]))}}),[md,mj]=ke("ToastProvider"),gj=i.defineComponent({inheritAttrs:!1,__name:"ToastProvider",props:{label:{default:"Notification"},duration:{default:5e3},swipeDirection:{default:"right"},swipeThreshold:{default:50}},setup(t){const e=t,{label:n,duration:o,swipeDirection:r,swipeThreshold:s}=i.toRefs(e);bt({isProvider:!0});const a=i.ref(),l=i.ref(0),c=i.ref(!1),d=i.ref(!1);if(e.label&&typeof e.label=="string"&&!e.label.trim()){const u="Invalid prop `label` supplied to `ToastProvider`. Expected non-empty `string`.";throw new Error(u)}return mj({label:n,duration:o,swipeDirection:r,swipeThreshold:s,toastCount:l,viewport:a,onViewportChange(u){a.value=u},onToastAdd(){l.value++},onToastRemove(){l.value--},isFocusedToastEscapeKeyDownRef:c,isClosePausedRef:d}),(u,f)=>i.renderSlot(u.$slots,"default")}}),yj="toast.swipeStart",bj="toast.swipeMove",wj="toast.swipeCancel",Cj="toast.swipeEnd",Mm="toast.viewportPause",Om="toast.viewportResume";function gd(t,e,n){const o=n.originalEvent.currentTarget,r=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),o.dispatchEvent(r)}function xx(t,e,n=0){const o=Math.abs(t.x),r=Math.abs(t.y),s=o>r;return e==="left"||e==="right"?s&&o>n:!s&&r>n}function kj(t){return t.nodeType===t.ELEMENT_NODE}function Sx(t){const e=[];return Array.from(t.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&e.push(o.textContent),kj(o)){const r=o.ariaHidden||o.hidden||o.style.display==="none",s=o.dataset.rekaToastAnnounceExclude==="";if(!r)if(s){const a=o.dataset.rekaToastAnnounceAlt;a&&e.push(a)}else e.push(...Sx(o))}}),e}const xj=i.defineComponent({__name:"ToastAnnounce",setup(t){const e=md(),n=LF(1e3),o=i.ref(!1);return ak(()=>{o.value=!0}),(r,s)=>i.unref(n)||o.value?(i.openBlock(),i.createBlock(i.unref(ya),{key:0},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(e).label.value)+" ",1),i.renderSlot(r.$slots,"default")]),_:3})):i.createCommentVNode("",!0)}}),[Sj,Ej]=ke("ToastRoot"),_j=i.defineComponent({inheritAttrs:!1,__name:"ToastRootImpl",props:{type:{},open:{type:Boolean,default:!1},duration:{},asChild:{type:Boolean},as:{default:"li"}},emits:["close","escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd"],setup(t,{emit:e}){const n=t,o=e,{forwardRef:r,currentElement:s}=H(),{CollectionItem:a}=bt(),l=md(),c=i.ref(null),d=i.ref(null),u=i.computed(()=>typeof n.duration=="number"?n.duration:l.duration.value),f=i.ref(0),p=i.ref(u.value),h=i.ref(0),m=i.ref(u.value),g=ak(()=>{const k=new Date().getTime()-f.value;m.value=Math.max(p.value-k,0)},{fpsLimit:60});function y(k){k<=0||k===Number.POSITIVE_INFINITY||vn&&(window.clearTimeout(h.value),f.value=new Date().getTime(),h.value=window.setTimeout(b,k))}function b(k){var S,E;const w=(k==null?void 0:k.pointerType)==="";((S=s.value)==null?void 0:S.contains(Ke()))&&w&&((E=l.viewport.value)==null||E.focus()),w&&(l.isClosePausedRef.value=!1),o("close")}const C=i.computed(()=>s.value?Sx(s.value):null);if(n.type&&!["foreground","background"].includes(n.type)){const k="Invalid prop `type` supplied to `Toast`. Expected `foreground | background`.";throw new Error(k)}return i.watchEffect(k=>{const w=l.viewport.value;if(w){const x=()=>{y(p.value),g.resume(),o("resume")},S=()=>{const E=new Date().getTime()-f.value;p.value=p.value-E,window.clearTimeout(h.value),g.pause(),o("pause")};return w.addEventListener(Mm,S),w.addEventListener(Om,x),()=>{w.removeEventListener(Mm,S),w.removeEventListener(Om,x)}}}),i.watch(()=>[n.open,u.value],()=>{p.value=u.value,n.open&&!l.isClosePausedRef.value&&y(u.value)},{immediate:!0}),Gh("Escape",k=>{o("escapeKeyDown",k),k.defaultPrevented||(l.isFocusedToastEscapeKeyDownRef.value=!0,b())}),i.onMounted(()=>{l.onToastAdd()}),i.onUnmounted(()=>{l.onToastRemove()}),Ej({onClose:b}),(k,w)=>(i.openBlock(),i.createElementBlock(i.Fragment,null,[C.value?(i.openBlock(),i.createBlock(xj,{key:0,role:"alert","aria-live":k.type==="foreground"?"assertive":"polite","aria-atomic":"true"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(C.value),1)]),_:1},8,["aria-live"])):i.createCommentVNode("",!0),i.unref(l).viewport.value?(i.openBlock(),i.createBlock(i.Teleport,{key:1,to:i.unref(l).viewport.value},[i.createVNode(i.unref(a),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Y),i.mergeProps({ref:i.unref(r),role:"alert","aria-live":"off","aria-atomic":"true",tabindex:"0"},k.$attrs,{as:k.as,"as-child":k.asChild,"data-state":k.open?"open":"closed","data-swipe-direction":i.unref(l).swipeDirection.value,style:{userSelect:"none",touchAction:"none"},onPointerdown:w[0]||(w[0]=i.withModifiers(x=>{c.value={x:x.clientX,y:x.clientY}},["left"])),onPointermove:w[1]||(w[1]=x=>{if(!c.value)return;const S=x.clientX-c.value.x,E=x.clientY-c.value.y,T=!!d.value,_=["left","right"].includes(i.unref(l).swipeDirection.value),A=["left","up"].includes(i.unref(l).swipeDirection.value)?Math.min:Math.max,M=_?A(0,S):0,v=_?0:A(0,E),L=x.pointerType==="touch"?10:2,z={x:M,y:v},D={originalEvent:x,delta:z};T?(d.value=z,i.unref(gd)(i.unref(bj),B=>o("swipeMove",B),D)):i.unref(xx)(z,i.unref(l).swipeDirection.value,L)?(d.value=z,i.unref(gd)(i.unref(yj),B=>o("swipeStart",B),D),x.target.setPointerCapture(x.pointerId)):(Math.abs(S)>L||Math.abs(E)>L)&&(c.value=null)}),onPointerup:w[2]||(w[2]=x=>{const S=d.value,E=x.target;if(E.hasPointerCapture(x.pointerId)&&E.releasePointerCapture(x.pointerId),d.value=null,c.value=null,S){const T=x.currentTarget,_={originalEvent:x,delta:S};i.unref(xx)(S,i.unref(l).swipeDirection.value,i.unref(l).swipeThreshold.value)?i.unref(gd)(i.unref(Cj),A=>o("swipeEnd",A),_):i.unref(gd)(i.unref(wj),A=>o("swipeCancel",A),_),T==null||T.addEventListener("click",A=>A.preventDefault(),{once:!0})}})}),{default:i.withCtx(()=>[i.renderSlot(k.$slots,"default",{remaining:m.value,duration:u.value})]),_:3},16,["as","as-child","data-state","data-swipe-direction"])]),_:3})],8,["to"])):i.createCommentVNode("",!0)],64))}}),Aj=i.defineComponent({__name:"ToastRoot",props:{defaultOpen:{type:Boolean,default:!0},forceMount:{type:Boolean},type:{default:"foreground"},open:{type:Boolean,default:void 0},duration:{},asChild:{type:Boolean},as:{default:"li"}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(t,{emit:e}){const n=t,o=e,{forwardRef:r}=H(),s=rt(n,"open",o,{defaultValue:n.defaultOpen,passive:n.open===void 0});return(a,l)=>(i.openBlock(),i.createBlock(i.unref(At),{present:a.forceMount||i.unref(s)},{default:i.withCtx(()=>[i.createVNode(_j,i.mergeProps({ref:i.unref(r),open:i.unref(s),type:a.type,as:a.as,"as-child":a.asChild,duration:a.duration},a.$attrs,{onClose:l[0]||(l[0]=c=>s.value=!1),onPause:l[1]||(l[1]=c=>o("pause")),onResume:l[2]||(l[2]=c=>o("resume")),onEscapeKeyDown:l[3]||(l[3]=c=>o("escapeKeyDown",c)),onSwipeStart:l[4]||(l[4]=c=>{o("swipeStart",c),c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:l[5]||(l[5]=c=>{o("swipeMove",c);const{x:d,y:u}=c.detail.delta,f=c.currentTarget;f.setAttribute("data-swipe","move"),f.style.setProperty("--reka-toast-swipe-move-x",`${d}px`),f.style.setProperty("--reka-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:l[6]||(l[6]=c=>{o("swipeCancel",c);const d=c.currentTarget;d.setAttribute("data-swipe","cancel"),d.style.removeProperty("--reka-toast-swipe-move-x"),d.style.removeProperty("--reka-toast-swipe-move-y"),d.style.removeProperty("--reka-toast-swipe-end-x"),d.style.removeProperty("--reka-toast-swipe-end-y")}),onSwipeEnd:l[7]||(l[7]=c=>{o("swipeEnd",c);const{x:d,y:u}=c.detail.delta,f=c.currentTarget;f.setAttribute("data-swipe","end"),f.style.removeProperty("--reka-toast-swipe-move-x"),f.style.removeProperty("--reka-toast-swipe-move-y"),f.style.setProperty("--reka-toast-swipe-end-x",`${d}px`),f.style.setProperty("--reka-toast-swipe-end-y",`${u}px`),s.value=!1})}),{default:i.withCtx(({remaining:c,duration:d})=>[i.renderSlot(a.$slots,"default",{remaining:c,duration:d,open:i.unref(s)})]),_:3},16,["open","type","as","as-child","duration"])]),_:3},8,["present"]))}}),Tj=i.defineComponent({__name:"ToastAnnounceExclude",props:{altText:{},asChild:{type:Boolean},as:{}},setup(t){return(e,n)=>(i.openBlock(),i.createBlock(i.unref(Y),{as:e.as,"as-child":e.asChild,"data-reka-toast-announce-exclude":"","data-reka-toast-announce-alt":e.altText||void 0},{default:i.withCtx(()=>[i.renderSlot(e.$slots,"default")]),_:3},8,["as","as-child","data-reka-toast-announce-alt"]))}}),Mj=i.defineComponent({__name:"ToastClose",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=Sj(),{forwardRef:o}=H();return(r,s)=>(i.openBlock(),i.createBlock(Tj,{"as-child":""},{default:i.withCtx(()=>[i.createVNode(i.unref(Y),i.mergeProps(e,{ref:i.unref(o),type:r.as==="button"?"button":void 0,onClick:i.unref(n).onClose}),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default")]),_:3},16,["type","onClick"])]),_:3}))}}),Ex=i.defineComponent({__name:"FocusProxy",emits:["focusFromOutsideViewport"],setup(t,{emit:e}){const n=e,o=md();return(r,s)=>(i.openBlock(),i.createBlock(i.unref(ya),{"aria-hidden":"true",tabindex:"0",style:{position:"fixed"},onFocus:s[0]||(s[0]=a=>{var d;const l=a.relatedTarget;!((d=i.unref(o).viewport.value)!=null&&d.contains(l))&&n("focusFromOutsideViewport")})},{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default")]),_:3}))}}),Oj=i.defineComponent({__name:"DismissableLayerBranch",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t,{forwardRef:n,currentElement:o}=H();return i.onMounted(()=>{ln.branches.add(o.value)}),i.onUnmounted(()=>{ln.branches.delete(o.value)}),(r,s)=>(i.openBlock(),i.createBlock(i.unref(Y),i.mergeProps({ref:i.unref(n)},e),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default")]),_:3},16))}}),vj=i.defineComponent({inheritAttrs:!1,__name:"ToastViewport",props:{hotkey:{default:()=>["F8"]},label:{type:[String,Function],default:"Notifications ({hotkey})"},asChild:{type:Boolean},as:{default:"ol"}},setup(t){const e=t,{hotkey:n,label:o}=i.toRefs(e),{forwardRef:r,currentElement:s}=H(),{CollectionSlot:a,getItems:l}=bt(),c=md(),d=i.computed(()=>c.toastCount.value>0),u=i.ref(),f=i.ref(),p=i.computed(()=>n.value.join("+").replace(/Key/g,"").replace(/Digit/g,""));Gh(n.value,()=>{s.value.focus()}),i.onMounted(()=>{c.onViewportChange(s.value)}),i.watchEffect(m=>{const g=s.value;if(d.value&&g){const y=()=>{if(!c.isClosePausedRef.value){const x=new CustomEvent(Mm);g.dispatchEvent(x),c.isClosePausedRef.value=!0}},b=()=>{if(c.isClosePausedRef.value){const x=new CustomEvent(Om);g.dispatchEvent(x),c.isClosePausedRef.value=!1}},C=x=>{!g.contains(x.relatedTarget)&&b()},k=()=>{g.contains(Ke())||b()},w=x=>{var T,_,A;const S=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!S){const M=Ke(),v=x.shiftKey;if(x.target===g&&v){(T=u.value)==null||T.focus();return}const D=h({tabbingDirection:v?"backwards":"forwards"}),B=D.findIndex(O=>O===M);Kc(D.slice(B+1))?x.preventDefault():v?(_=u.value)==null||_.focus():(A=f.value)==null||A.focus()}};g.addEventListener("focusin",y),g.addEventListener("focusout",C),g.addEventListener("pointermove",y),g.addEventListener("pointerleave",k),g.addEventListener("keydown",w),window.addEventListener("blur",y),window.addEventListener("focus",b),m(()=>{g.removeEventListener("focusin",y),g.removeEventListener("focusout",C),g.removeEventListener("pointermove",y),g.removeEventListener("pointerleave",k),g.removeEventListener("keydown",w),window.removeEventListener("blur",y),window.removeEventListener("focus",b)})}});function h({tabbingDirection:m}){const y=l().map(b=>b.ref).map(b=>{const C=[b,...em(b)];return m==="forwards"?C:C.reverse()});return(m==="forwards"?y.reverse():y).flat()}return(m,g)=>(i.openBlock(),i.createBlock(i.unref(Oj),{role:"region","aria-label":typeof i.unref(o)=="string"?i.unref(o).replace("{hotkey}",p.value):i.unref(o)(p.value),tabindex:"-1",style:i.normalizeStyle({pointerEvents:d.value?void 0:"none"})},{default:i.withCtx(()=>[d.value?(i.openBlock(),i.createBlock(Ex,{key:0,ref:y=>{u.value=i.unref(Jt)(y)},onFocusFromOutsideViewport:g[0]||(g[0]=()=>{const y=h({tabbingDirection:"forwards"});i.unref(Kc)(y)})},null,512)):i.createCommentVNode("",!0),i.createVNode(i.unref(a),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Y),i.mergeProps({ref:i.unref(r),tabindex:"-1",as:m.as,"as-child":m.asChild},m.$attrs),{default:i.withCtx(()=>[i.renderSlot(m.$slots,"default")]),_:3},16,["as","as-child"])]),_:3}),d.value?(i.openBlock(),i.createBlock(Ex,{key:1,ref:y=>{f.value=i.unref(Jt)(y)},onFocusFromOutsideViewport:g[1]||(g[1]=()=>{const y=h({tabbingDirection:"backwards"});i.unref(Kc)(y)})},null,512)):i.createCommentVNode("",!0)]),_:3},8,["aria-label","style"]))}}),Nj=i.defineComponent({__name:"ToastTitle",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return H(),(n,o)=>(i.openBlock(),i.createBlock(i.unref(Y),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),Ij=i.defineComponent({__name:"ToastDescription",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return H(),(n,o)=>(i.openBlock(),i.createBlock(i.unref(Y),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),[_x,Bj]=ke("ToggleGroupRoot"),Rj=i.defineComponent({__name:"ToggleGroupRoot",props:{rovingFocus:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},orientation:{},dir:{},loop:{type:Boolean,default:!0},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},type:{},modelValue:{},defaultValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=e,{loop:r,rovingFocus:s,disabled:a,dir:l}=i.toRefs(n),c=eo(l),{forwardRef:d,currentElement:u}=H(),{modelValue:f,changeModelValue:p,isSingle:h}=qF(n,o),m=Zc(u);return Bj({isSingle:h,modelValue:f,changeModelValue:p,dir:c,orientation:n.orientation,loop:r,rovingFocus:s,disabled:a}),(g,y)=>(i.openBlock(),i.createBlock(i.resolveDynamicComponent(i.unref(s)?i.unref(Qc):i.unref(Y)),{"as-child":"",orientation:i.unref(s)?g.orientation:void 0,dir:i.unref(c),loop:i.unref(s)?i.unref(r):void 0},{default:i.withCtx(()=>[i.createVNode(i.unref(Y),{ref:i.unref(d),role:"group","as-child":g.asChild,as:g.as},{default:i.withCtx(()=>[i.renderSlot(g.$slots,"default",{modelValue:i.unref(f)}),i.unref(m)&&g.name?(i.openBlock(),i.createBlock(im,{key:0,name:g.name,required:g.required,value:i.unref(f)},null,8,["name","required","value"])):i.createCommentVNode("",!0)]),_:3},8,["as-child","as"])]),_:3},8,["orientation","dir","loop"]))}}),Ax=i.defineComponent({__name:"Toggle",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null],default:void 0},disabled:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=e,{forwardRef:r,currentElement:s}=H(),a=_x(null),l=rt(n,"modelValue",o,{defaultValue:n.defaultValue,passive:n.modelValue===void 0});function c(){l.value=!l.value}const d=i.computed(()=>l.value?"on":"off"),u=Zc(s);return(f,p)=>(i.openBlock(),i.createBlock(i.unref(Y),{ref:i.unref(r),type:f.as==="button"?"button":void 0,"as-child":n.asChild,as:f.as,"aria-pressed":i.unref(l),"data-state":d.value,"data-disabled":f.disabled?"":void 0,disabled:f.disabled,onClick:c},{default:i.withCtx(()=>[i.renderSlot(f.$slots,"default",{modelValue:i.unref(l),disabled:f.disabled,pressed:i.unref(l),state:d.value}),i.unref(u)&&f.name&&!i.unref(a)?(i.openBlock(),i.createBlock(im,{key:0,type:"checkbox",name:f.name,value:i.unref(l),required:f.required},null,8,["name","value","required"])):i.createCommentVNode("",!0)]),_:3},8,["type","as-child","as","aria-pressed","data-state","data-disabled","disabled"]))}}),Pj=i.defineComponent({__name:"ToggleGroupItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=_x(),o=i.computed(()=>{var a;return((a=n.disabled)==null?void 0:a.value)||e.disabled}),r=i.computed(()=>Hc(n.modelValue.value,e.value)),{forwardRef:s}=H();return(a,l)=>(i.openBlock(),i.createBlock(i.resolveDynamicComponent(i.unref(n).rovingFocus.value?i.unref(td):i.unref(Y)),{"as-child":"",focusable:!o.value,active:r.value},{default:i.withCtx(()=>[i.createVNode(i.unref(Ax),i.mergeProps(e,{ref:i.unref(s),disabled:o.value,"model-value":r.value,"onUpdate:modelValue":l[0]||(l[0]=c=>i.unref(n).changeModelValue(a.value))}),{default:i.withCtx(c=>[i.renderSlot(a.$slots,"default",i.normalizeProps(i.guardReactiveProps(c)))]),_:3},16,["disabled","model-value"])]),_:3},8,["focusable","active"]))}}),Tx="tooltip.open",[vm,Dj]=ke("TooltipProvider"),$j=i.defineComponent({inheritAttrs:!1,__name:"TooltipProvider",props:{delayDuration:{default:700},skipDelayDuration:{default:300},disableHoverableContent:{type:Boolean,default:!1},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean,default:!1}},setup(t){const e=t,{delayDuration:n,skipDelayDuration:o,disableHoverableContent:r,disableClosingTrigger:s,ignoreNonKeyboardFocus:a,disabled:l}=i.toRefs(e);H();const c=i.ref(!0),d=i.ref(!1),{start:u,stop:f}=Kh(()=>{c.value=!0},o,{immediate:!1});return Dj({isOpenDelayed:c,delayDuration:n,onOpen(){f(),c.value=!1},onClose(){u()},isPointerInTransitRef:d,disableHoverableContent:r,disableClosingTrigger:s,disabled:l,ignoreNonKeyboardFocus:a}),(p,h)=>i.renderSlot(p.$slots,"default")}}),[yd,Lj]=ke("TooltipRoot"),Vj=i.defineComponent({__name:"TooltipRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},delayDuration:{default:void 0},disableHoverableContent:{type:Boolean,default:void 0},disableClosingTrigger:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,default:void 0}},emits:["update:open"],setup(t,{emit:e}){const n=t,o=e;H();const r=vm(),s=i.computed(()=>n.disableHoverableContent??r.disableHoverableContent.value),a=i.computed(()=>n.disableClosingTrigger??r.disableClosingTrigger.value),l=i.computed(()=>n.disabled??r.disabled.value),c=i.computed(()=>n.delayDuration??r.delayDuration.value),d=i.computed(()=>n.ignoreNonKeyboardFocus??r.ignoreNonKeyboardFocus.value),u=rt(n,"open",o,{defaultValue:n.defaultOpen,passive:n.open===void 0});i.watch(u,k=>{r.onClose&&(k?(r.onOpen(),document.dispatchEvent(new CustomEvent(Tx))):r.onClose())});const f=i.ref(!1),p=i.ref(),h=i.computed(()=>u.value?f.value?"delayed-open":"instant-open":"closed"),{start:m,stop:g}=Kh(()=>{f.value=!0,u.value=!0},c,{immediate:!1});function y(){g(),f.value=!1,u.value=!0}function b(){g(),u.value=!1}function C(){m()}return Lj({contentId:"",open:u,stateAttribute:h,trigger:p,onTriggerChange(k){p.value=k},onTriggerEnter(){r.isOpenDelayed.value?C():y()},onTriggerLeave(){s.value?b():g()},onOpen:y,onClose:b,disableHoverableContent:s,disableClosingTrigger:a,disabled:l,ignoreNonKeyboardFocus:d}),(k,w)=>(i.openBlock(),i.createBlock(i.unref(Sa),null,{default:i.withCtx(()=>[i.renderSlot(k.$slots,"default",{open:i.unref(u)})]),_:3}))}}),Fj=i.defineComponent({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=yd(),o=vm();n.contentId||(n.contentId=Je(void 0,"reka-tooltip-content"));const{forwardRef:r,currentElement:s}=H(),a=i.ref(!1),l=i.ref(!1),c=i.computed(()=>n.disabled.value?{}:{click:g,focus:h,pointermove:f,pointerleave:p,pointerdown:u,blur:m});i.onMounted(()=>{n.onTriggerChange(s.value)});function d(){setTimeout(()=>{a.value=!1},1)}function u(){a.value=!0,document.addEventListener("pointerup",d,{once:!0})}function f(y){y.pointerType!=="touch"&&!l.value&&!o.isPointerInTransitRef.value&&(n.onTriggerEnter(),l.value=!0)}function p(){n.onTriggerLeave(),l.value=!1}function h(y){var b,C;a.value||n.ignoreNonKeyboardFocus.value&&!((C=(b=y.target).matches)!=null&&C.call(b,":focus-visible"))||n.onOpen()}function m(){n.onClose()}function g(){n.disableClosingTrigger.value||n.onClose()}return(y,b)=>(i.openBlock(),i.createBlock(i.unref(nd),{"as-child":"",reference:y.reference},{default:i.withCtx(()=>[i.createVNode(i.unref(Y),i.mergeProps({ref:i.unref(r),"aria-describedby":i.unref(n).open.value?i.unref(n).contentId:void 0,"data-state":i.unref(n).stateAttribute.value,as:y.as,"as-child":e.asChild,"data-grace-area-trigger":""},i.toHandlers(c.value)),{default:i.withCtx(()=>[i.renderSlot(y.$slots,"default")]),_:3},16,["aria-describedby","data-state","as","as-child"])]),_:3},8,["reference"]))}}),Mx=i.defineComponent({__name:"TooltipContentImpl",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"top"},sideOffset:{default:0},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean,default:!0},collisionBoundary:{default:()=>[]},collisionPadding:{default:0},arrowPadding:{default:0},sticky:{default:"partial"},hideWhenDetached:{type:Boolean,default:!1},positionStrategy:{},updatePositionStrategy:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,o=e,r=yd(),{forwardRef:s}=H(),a=i.useSlots(),l=i.computed(()=>{var u;return(u=a.default)==null?void 0:u.call(a,{})}),c=i.computed(()=>{var p;if(n.ariaLabel)return n.ariaLabel;let u="";function f(h){typeof h.children=="string"&&h.type!==i.Comment?u+=h.children:Array.isArray(h.children)&&h.children.forEach(m=>f(m))}return(p=l.value)==null||p.forEach(h=>f(h)),u}),d=i.computed(()=>{const{ariaLabel:u,...f}=n;return f});return i.onMounted(()=>{zi(window,"scroll",u=>{const f=u.target;f!=null&&f.contains(r.trigger.value)&&r.onClose()}),zi(window,Tx,r.onClose)}),(u,f)=>(i.openBlock(),i.createBlock(i.unref(ka),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:f[0]||(f[0]=p=>o("escapeKeyDown",p)),onPointerDownOutside:f[1]||(f[1]=p=>{var h;i.unref(r).disableClosingTrigger.value&&((h=i.unref(r).trigger.value)!=null&&h.contains(p.target))&&p.preventDefault(),o("pointerDownOutside",p)}),onFocusOutside:f[2]||(f[2]=i.withModifiers(()=>{},["prevent"])),onDismiss:f[3]||(f[3]=p=>i.unref(r).onClose())},{default:i.withCtx(()=>[i.createVNode(i.unref(od),i.mergeProps({ref:i.unref(s),"data-state":i.unref(r).stateAttribute.value},{...u.$attrs,...d.value},{style:{"--reka-tooltip-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-tooltip-content-available-width":"var(--reka-popper-available-width)","--reka-tooltip-content-available-height":"var(--reka-popper-available-height)","--reka-tooltip-trigger-width":"var(--reka-popper-anchor-width)","--reka-tooltip-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:i.withCtx(()=>[i.renderSlot(u.$slots,"default"),i.createVNode(i.unref(ya),{id:i.unref(r).contentId,role:"tooltip"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(c.value),1)]),_:1},8,["id"])]),_:3},16,["data-state"])]),_:3}))}}),zj=i.defineComponent({__name:"TooltipContentHoverable",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{}},setup(t){const n=We(t),{forwardRef:o,currentElement:r}=H(),{trigger:s,onClose:a}=yd(),l=vm(),{isPointerInTransit:c,onPointerExit:d}=BH(s,r);return l.isPointerInTransitRef=c,d(()=>{a()}),(u,f)=>(i.openBlock(),i.createBlock(Mx,i.mergeProps({ref:i.unref(o)},i.unref(n)),{default:i.withCtx(()=>[i.renderSlot(u.$slots,"default")]),_:3},16))}}),Hj=i.defineComponent({__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"top"},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,o=e,r=yd(),s=fe(n,o),{forwardRef:a}=H();return(l,c)=>(i.openBlock(),i.createBlock(i.unref(At),{present:l.forceMount||i.unref(r).open.value},{default:i.withCtx(()=>[(i.openBlock(),i.createBlock(i.resolveDynamicComponent(i.unref(r).disableHoverableContent.value?Mx:zj),i.mergeProps({ref:i.unref(a)},i.unref(s)),{default:i.withCtx(()=>[i.renderSlot(l.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Uj=i.defineComponent({__name:"TooltipPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(Ca),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),to=i.defineComponent({__name:"Separator",props:{orientation:{},decorative:{type:Boolean},asChild:{type:Boolean},as:{},class:{},label:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(LU),i.mergeProps(n.value,{class:i.unref(ne)("shrink-0 bg-border relative",e.orientation==="vertical"?"w-px h-full":"h-px w-full",e.class)}),{default:i.withCtx(()=>[e.label?(i.openBlock(),i.createElementBlock("span",{key:0,class:i.normalizeClass(i.unref(ne)("text-xs text-muted-foreground bg-background absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex justify-center items-center",e.orientation==="vertical"?"w-[1px] px-1 py-2":"h-[1px] py-1 px-2"))},i.toDisplayString(e.label),3)):i.createCommentVNode("",!0)]),_:1},16,["class"]))}}),jj={class:"border border-neutral-200 dark:border-neutral-800 px-3 py-2 transition-all select-none pointer-events-auto shadow-sm rounded-sm bg-background w-auto max-w-[calc(-68px_+_100vw)] overflow-x-auto"},Wj={class:"flex items-center flex-nowrap whitespace-nowrap h-[26px] justify-start relative gap-0.5"},Kj=i.defineComponent({__name:"BasicBubbleMenu",props:{editor:{},disabled:{type:Boolean,default:!1}},setup(t){const e=t,n=Pt(),{t:o}=Ee(),r=i.reactive({maxWidth:"auto",zIndex:20,appendTo:"parent",moveTransition:"transform 0.15s ease-out"}),s=i.computed(()=>{var p;const c=e.editor.state.selection,d=e.editor.isActive("link"),u=((p=c.node)==null?void 0:p.type.name)==="video",f=c instanceof J;if(d)return"link";if(u)return"video";if(f)return"text"}),a=i.computed(()=>{var p;const{extensions:c=[]}=e.editor.extensionManager,d=c.find(h=>h.name==="base-kit");if(!d)return{};const{button:u}=((p=d.options)==null?void 0:p.bubble)??{};return u?u({editor:e.editor,extension:d,t:i.unref(o)}):{}}),l=i.computed(()=>{var c;return s.value?((c=i.unref(a))==null?void 0:c[s.value])??[]:[]});return(c,d)=>{var u;return i.withDirectives((i.openBlock(),i.createBlock(i.unref(Ei),{editor:c.editor,"tippy-options":r},{default:i.withCtx(()=>[i.createElementVNode("div",jj,[i.createElementVNode("div",Wj,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(l.value,(f,p)=>{var h;return i.openBlock(),i.createElementBlock(i.Fragment,{key:p},[f.type==="divider"?(i.openBlock(),i.createBlock(i.unref(to),{key:0,orientation:"vertical",class:"mx-1 me-1 h-[16px]"})):(i.openBlock(),i.createBlock(i.resolveDynamicComponent(f.component),i.mergeProps({key:1,ref_for:!0},f.componentProps,{editor:c.editor,disabled:c.disabled||((h=f.componentProps)==null?void 0:h.disabled)}),i.createSlots({_:2},[i.renderList(f.componentSlots,(m,g,y)=>({name:`${g}`,fn:i.withCtx(b=>[(i.openBlock(),i.createBlock(i.resolveDynamicComponent(m),i.mergeProps({ref_for:!0},b==null?void 0:b.props),null,16))])}))]),1040,["editor","disabled"]))],64)}),128))])])]),_:1},8,["editor","tippy-options"])),[[i.vShow,l.value.length&&!((u=i.unref(n))!=null&&u.state.AIMenu)]])}}});/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=({size:t,strokeWidth:e=2,absoluteStrokeWidth:n,color:o,iconNode:r,name:s,class:a,...l},{slots:c})=>i.h("svg",{...bd,width:t||bd.width,height:t||bd.height,stroke:o||bd.stroke,"stroke-width":n?Number(e)*24/Number(t):e,class:["lucide",`lucide-${Gj(s??"icon")}`],...l},[...r.map(d=>i.h(...d)),...c.default?[c.default()]:[]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=(t,e)=>(n,{slots:o})=>i.h(qj,{...n,iconNode:e,name:t},o);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=Wi("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=Wi("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=Wi("ChevronRightIcon",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=Wi("ChevronUpIcon",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=Wi("GripVerticalIcon",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=Wi("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Nx=i.defineComponent({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=fe(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(Gz),i.mergeProps(i.unref(s),{class:i.unref(ne)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n.class)}),{default:i.withCtx(()=>[i.createVNode(i.unref(qz),{class:"flex h-full w-full items-center justify-center text-current"},{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default",{},()=>[i.createVNode(i.unref(Ba),{class:"h-4 w-4"})])]),_:3})]),_:3},16,["class"]))}}),Zj={Bold:"lucide:bold",LoaderCircle:"lucide:loader-circle",Italic:"lucide:italic",Underline:"lucide:underline",Quote:"lucide:quote",TextQuote:"lucide:text-quote",Strikethrough:"lucide:strikethrough",Minus:"lucide:minus",Eraser:"lucide:eraser",PaintRoller:"lucide:paint-roller",Redo2:"lucide:redo-2",Undo2:"lucide:undo-2",AlignCenter:"radix-icons:text-align-center",AlignJustify:"radix-icons:text-align-justify",AlignLeft:"radix-icons:text-align-left",AlignRight:"radix-icons:text-align-right",ChevronUp:"lucide:chevron-up",ChevronDown:"lucide:chevron-down",Subscript:"lucide:subscript",Superscript:"lucide:superscript",Code:"lucide:code",Code2:"lucide:code-2",Type:"lucide:type",IndentIncrease:"lucide:indent-increase",IndentDecrease:"lucide:indent-decrease",List:"lucide:list",ListOrdered:"lucide:list-ordered",ListTodo:"lucide:list-todo",Link:"lucide:link",ImageUp:"lucide:image-up",Video:"lucide:video",Maximize:"lucide:maximize",Minimize:"lucide:minimize",Table:"lucide:table",Sparkles:"lucide:sparkles",Magic:"mdi:magic",Pencil:"lucide:pencil",Unlink:"lucide:unlink",BetweenHorizonalEnd:"lucide:between-horizontal-end",BetweenHorizonalStart:"lucide:between-horizontal-start",ColumnDelete:"hugeicons:column-delete",BetweenVerticalStart:"lucide:between-vertical-start",BetweenVerticalEnd:"lucide:between-vertical-end",RowDelete:"hugeicons:row-delete",TableCellsMerge:"lucide:table-cells-merge",TableCellsSplit:"lucide:table-cells-split",Trash2:"lucide:trash-2",Trash:"lucide:trash",Replace:"lucide:replace",ChevronsUpDown:"lucide:chevrons-up-down",LineHeight:"mdi:format-line-height",Word:"mdi:file-word-outline",Paragraph:"ci:text",Heading1:"lucide:heading-1",Heading2:"lucide:heading-2",Heading3:"lucide:heading-3",Columns2:"lucide:columns-2",Columns3:"lucide:columns-3",Columns4:"lucide:columns-4",Plus:"lucide:plus",Grip:"lucide:grip-vertical",Copy:"lucide:copy",Clipboard:"lucide:clipboard",MenuDown:"icon-park-solid:down-one",SizeS:"mdi:size-s",SizeM:"mdi:size-m",SizeL:"mdi:size-l",AspectRatio:"mdi:aspect-ratio",Gaode:"echo-gaode",Baidu:"echo-baidu",Youku:"echo-youku",BiliBili:"echo-bilibili",Modao:"echo-modao",Lanhu:"echo-lanhu",QQVideo:"echo-qqvideo",Figma:"echo-figma",Canva:"echo-canva",Processon:"echo-processon",Codepen:"echo-codepen",Jinshuju:"echo-jinshuju",PanelLeft:"lucide:panel-left",PanelRight:"lucide:panel-right",Columns:"lucide:columns",AI:"meteocons:star-fill",ChevronRight:"lucide:chevron-right",ArrowUp:"lucide:arrow-up",Paste:"lucide:clipboard-paste",Cut:"lucide:scissors",File:"lucide:file",Refresh:"lucide:refresh-ccw",Eye:"lucide:eye",Printer:"lucide:printer",Tablet:"lucide:tablet",Phone:"lucide:smartphone",Monitor:"lucide:monitor",TextSelect:"lucide:text-select",SpellCheck:"lucide:spell-check-2",DocSearch:"lucide:text-search",Close:"lucide:x",ImageSize:"fluent:resize-image-24-filled",FlipVertical:"lucide:flip-vertical",FlipHorizontal:"lucide:flip-horizontal",WrapText:"lucide:wrap-text"};function no(...t){return LC(_h(t))}const Ix=/^[a-z0-9]+(-[a-z0-9]+)*$/,wd=(t,e,n,o="")=>{const r=t.split(":");if(t.slice(0,1)==="@"){if(r.length<2||r.length>3)return null;o=r.shift().slice(1)}if(r.length>3||!r.length)return null;if(r.length>1){const l=r.pop(),c=r.pop(),d={provider:r.length>0?r[0]:o,prefix:c,name:l};return e&&!Cd(d)?null:d}const s=r[0],a=s.split("-");if(a.length>1){const l={provider:o,prefix:a.shift(),name:a.join("-")};return e&&!Cd(l)?null:l}if(n&&o===""){const l={provider:o,prefix:"",name:s};return e&&!Cd(l,n)?null:l}return null},Cd=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1,Bx=Object.freeze({left:0,top:0,width:16,height:16}),kd=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),xd=Object.freeze({...Bx,...kd}),Nm=Object.freeze({...xd,body:"",hidden:!1});function Qj(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const o=((t.rotate||0)+(e.rotate||0))%4;return o&&(n.rotate=o),n}function Rx(t,e){const n=Qj(t,e);for(const o in Nm)o in kd?o in t&&!(o in n)&&(n[o]=kd[o]):o in e?n[o]=e[o]:o in t&&(n[o]=t[o]);return n}function eW(t,e){const n=t.icons,o=t.aliases||Object.create(null),r=Object.create(null);function s(a){if(n[a])return r[a]=[];if(!(a in r)){r[a]=null;const l=o[a]&&o[a].parent,c=l&&s(l);c&&(r[a]=[l].concat(c))}return r[a]}return Object.keys(n).concat(Object.keys(o)).forEach(s),r}function tW(t,e,n){const o=t.icons,r=t.aliases||Object.create(null);let s={};function a(l){s=Rx(o[l]||r[l],s)}return a(e),n.forEach(a),Rx(t,s)}function Px(t,e){const n=[];if(typeof t!="object"||typeof t.icons!="object")return n;t.not_found instanceof Array&&t.not_found.forEach(r=>{e(r,null),n.push(r)});const o=eW(t);for(const r in o){const s=o[r];s&&(e(r,tW(t,r,s)),n.push(r))}return n}const nW={provider:"",aliases:{},not_found:{},...Bx};function Im(t,e){for(const n in e)if(n in t&&typeof t[n]!=typeof e[n])return!1;return!0}function Dx(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!Im(t,nW))return null;const n=e.icons;for(const r in n){const s=n[r];if(!r||typeof s.body!="string"||!Im(s,Nm))return null}const o=e.aliases||Object.create(null);for(const r in o){const s=o[r],a=s.parent;if(!r||typeof a!="string"||!n[a]&&!o[a]||!Im(s,Nm))return null}return e}const $x=Object.create(null);function oW(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function Ki(t,e){const n=$x[t]||($x[t]=Object.create(null));return n[e]||(n[e]=oW(t,e))}function Lx(t,e){return Dx(e)?Px(e,(n,o)=>{o?t.icons[n]=o:t.missing.add(n)}):[]}function rW(t,e,n){try{if(typeof n.body=="string")return t.icons[e]={...n},!0}catch{}return!1}let Ra=!1;function Vx(t){return typeof t=="boolean"&&(Ra=t),Ra}function iW(t){const e=typeof t=="string"?wd(t,!0,Ra):t;if(e){const n=Ki(e.provider,e.prefix),o=e.name;return n.icons[o]||(n.missing.has(o)?null:void 0)}}function sW(t,e){const n=wd(t,!0,Ra);if(!n)return!1;const o=Ki(n.provider,n.prefix);return e?rW(o,n.name,e):(o.missing.add(n.name),!0)}function Fx(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),Ra&&!e&&!t.prefix){let r=!1;return Dx(t)&&(t.prefix="",Px(t,(s,a)=>{sW(s,a)&&(r=!0)})),r}const n=t.prefix;if(!Cd({prefix:n,name:"a"}))return!1;const o=Ki(e,n);return!!Lx(o,t)}const zx=Object.freeze({width:null,height:null}),Hx=Object.freeze({...zx,...kd}),aW=/(-?[0-9.]*[0-9]+[0-9.]*)/g,lW=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Ux(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const o=t.split(aW);if(o===null||!o.length)return t;const r=[];let s=o.shift(),a=lW.test(s);for(;;){if(a){const l=parseFloat(s);isNaN(l)?r.push(s):r.push(Math.ceil(l*e*n)/n)}else r.push(s);if(s=o.shift(),s===void 0)return r.join("");a=!a}}function cW(t,e="defs"){let n="";const o=t.indexOf("<"+e);for(;o>=0;){const r=t.indexOf(">",o),s=t.indexOf("</"+e);if(r===-1||s===-1)break;const a=t.indexOf(">",s);if(a===-1)break;n+=t.slice(r+1,s).trim(),t=t.slice(0,o).trim()+t.slice(a+1)}return{defs:n,content:t}}function dW(t,e){return t?"<defs>"+t+"</defs>"+e:e}function uW(t,e,n){const o=cW(t);return dW(o.defs,e+o.content+n)}const fW=t=>t==="unset"||t==="undefined"||t==="none";function pW(t,e){const n={...xd,...t},o={...Hx,...e},r={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,o].forEach(g=>{const y=[],b=g.hFlip,C=g.vFlip;let k=g.rotate;b?C?k+=2:(y.push("translate("+(r.width+r.left).toString()+" "+(0-r.top).toString()+")"),y.push("scale(-1 1)"),r.top=r.left=0):C&&(y.push("translate("+(0-r.left).toString()+" "+(r.height+r.top).toString()+")"),y.push("scale(1 -1)"),r.top=r.left=0);let w;switch(k<0&&(k-=Math.floor(k/4)*4),k=k%4,k){case 1:w=r.height/2+r.top,y.unshift("rotate(90 "+w.toString()+" "+w.toString()+")");break;case 2:y.unshift("rotate(180 "+(r.width/2+r.left).toString()+" "+(r.height/2+r.top).toString()+")");break;case 3:w=r.width/2+r.left,y.unshift("rotate(-90 "+w.toString()+" "+w.toString()+")");break}k%2===1&&(r.left!==r.top&&(w=r.left,r.left=r.top,r.top=w),r.width!==r.height&&(w=r.width,r.width=r.height,r.height=w)),y.length&&(s=uW(s,'<g transform="'+y.join(" ")+'">',"</g>"))});const a=o.width,l=o.height,c=r.width,d=r.height;let u,f;a===null?(f=l===null?"1em":l==="auto"?d:l,u=Ux(f,c/d)):(u=a==="auto"?c:a,f=l===null?Ux(u,d/c):l==="auto"?d:l);const p={},h=(g,y)=>{fW(y)||(p[g]=y.toString())};h("width",u),h("height",f);const m=[r.left,r.top,c,d];return p.viewBox=m.join(" "),{attributes:p,viewBox:m,body:s}}const hW=/\sid="(\S+)"/g,mW="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let gW=0;function yW(t,e=mW){const n=[];let o;for(;o=hW.exec(t);)n.push(o[1]);if(!n.length)return t;const r="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(s=>{const a=typeof e=="function"?e(s):e+(gW++).toString(),l=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+l+')([")]|\\.[a-z])',"g"),"$1"+a+r+"$3")}),t=t.replace(new RegExp(r,"g"),""),t}const Bm=Object.create(null);function bW(t,e){Bm[t]=e}function Rm(t){return Bm[t]||Bm[""]}function Pm(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const Dm=Object.create(null),Pa=["https://api.simplesvg.com","https://api.unisvg.com"],Sd=[];for(;Pa.length>0;)Pa.length===1||Math.random()>.5?Sd.push(Pa.shift()):Sd.push(Pa.pop());Dm[""]=Pm({resources:["https://api.iconify.design"].concat(Sd)});function wW(t,e){const n=Pm(e);return n===null?!1:(Dm[t]=n,!0)}function $m(t){return Dm[t]}let jx=(()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}})();function CW(t,e){const n=$m(t);if(!n)return 0;let o;if(!n.maxURL)o=0;else{let r=0;n.resources.forEach(a=>{r=Math.max(r,a.length)});const s=e+".json?icons=";o=n.maxURL-r-n.path.length-s.length}return o}function kW(t){return t===404}const xW=(t,e,n)=>{const o=[],r=CW(t,e),s="icons";let a={type:s,provider:t,prefix:e,icons:[]},l=0;return n.forEach((c,d)=>{l+=c.length+1,l>=r&&d>0&&(o.push(a),a={type:s,provider:t,prefix:e,icons:[]},l=c.length),a.icons.push(c)}),o.push(a),o};function SW(t){if(typeof t=="string"){const e=$m(t);if(e)return e.path}return"/"}const EW={prepare:xW,send:(t,e,n)=>{if(!jx){n("abort",424);return}let o=SW(e.provider);switch(e.type){case"icons":{const s=e.prefix,l=e.icons.join(","),c=new URLSearchParams({icons:l});o+=s+".json?"+c.toString();break}case"custom":{const s=e.uri;o+=s.slice(0,1)==="/"?s.slice(1):s;break}default:n("abort",400);return}let r=503;jx(t+o).then(s=>{const a=s.status;if(a!==200){setTimeout(()=>{n(kW(a)?"abort":"next",a)});return}return r=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?n("abort",s):n("next",r)});return}setTimeout(()=>{n("success",s)})}).catch(()=>{n("next",r)})}};function _W(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort((r,s)=>r.provider!==s.provider?r.provider.localeCompare(s.provider):r.prefix!==s.prefix?r.prefix.localeCompare(s.prefix):r.name.localeCompare(s.name));let o={provider:"",prefix:"",name:""};return t.forEach(r=>{if(o.name===r.name&&o.prefix===r.prefix&&o.provider===r.provider)return;o=r;const s=r.provider,a=r.prefix,l=r.name,c=n[s]||(n[s]=Object.create(null)),d=c[a]||(c[a]=Ki(s,a));let u;l in d.icons?u=e.loaded:a===""||d.missing.has(l)?u=e.missing:u=e.pending;const f={provider:s,prefix:a,name:l};u.push(f)}),e}function Wx(t,e){t.forEach(n=>{const o=n.loaderCallbacks;o&&(n.loaderCallbacks=o.filter(r=>r.id!==e))})}function AW(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const o=t.provider,r=t.prefix;e.forEach(s=>{const a=s.icons,l=a.pending.length;a.pending=a.pending.filter(c=>{if(c.prefix!==r)return!0;const d=c.name;if(t.icons[d])a.loaded.push({provider:o,prefix:r,name:d});else if(t.missing.has(d))a.missing.push({provider:o,prefix:r,name:d});else return n=!0,!0;return!1}),a.pending.length!==l&&(n||Wx([t],s.id),s.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),s.abort))})}))}let TW=0;function MW(t,e,n){const o=TW++,r=Wx.bind(null,n,o);if(!e.pending.length)return r;const s={id:o,icons:e,callback:t,abort:r};return n.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(s)}),r}function OW(t,e=!0,n=!1){const o=[];return t.forEach(r=>{const s=typeof r=="string"?wd(r,e,n):r;s&&o.push(s)}),o}var vW={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function NW(t,e,n,o){const r=t.resources.length,s=t.random?Math.floor(Math.random()*r):t.index;let a;if(t.random){let S=t.resources.slice(0);for(a=[];S.length>1;){const E=Math.floor(Math.random()*S.length);a.push(S[E]),S=S.slice(0,E).concat(S.slice(E+1))}a=a.concat(S)}else a=t.resources.slice(s).concat(t.resources.slice(0,s));const l=Date.now();let c="pending",d=0,u,f=null,p=[],h=[];typeof o=="function"&&h.push(o);function m(){f&&(clearTimeout(f),f=null)}function g(){c==="pending"&&(c="aborted"),m(),p.forEach(S=>{S.status==="pending"&&(S.status="aborted")}),p=[]}function y(S,E){E&&(h=[]),typeof S=="function"&&h.push(S)}function b(){return{startTime:l,payload:e,status:c,queriesSent:d,queriesPending:p.length,subscribe:y,abort:g}}function C(){c="failed",h.forEach(S=>{S(void 0,u)})}function k(){p.forEach(S=>{S.status==="pending"&&(S.status="aborted")}),p=[]}function w(S,E,T){const _=E!=="success";switch(p=p.filter(A=>A!==S),c){case"pending":break;case"failed":if(_||!t.dataAfterTimeout)return;break;default:return}if(E==="abort"){u=T,C();return}if(_){u=T,p.length||(a.length?x():C());return}if(m(),k(),!t.random){const A=t.resources.indexOf(S.resource);A!==-1&&A!==t.index&&(t.index=A)}c="completed",h.forEach(A=>{A(T)})}function x(){if(c!=="pending")return;m();const S=a.shift();if(S===void 0){if(p.length){f=setTimeout(()=>{m(),c==="pending"&&(k(),C())},t.timeout);return}C();return}const E={status:"pending",resource:S,callback:(T,_)=>{w(E,T,_)}};p.push(E),d++,f=setTimeout(x,t.rotate),n(S,e,E.callback)}return setTimeout(x),b}function Kx(t){const e={...vW,...t};let n=[];function o(){n=n.filter(l=>l().status==="pending")}function r(l,c,d){const u=NW(e,l,c,(f,p)=>{o(),d&&d(f,p)});return n.push(u),u}function s(l){return n.find(c=>l(c))||null}return{query:r,find:s,setIndex:l=>{e.index=l},getIndex:()=>e.index,cleanup:o}}function Gx(){}const Lm=Object.create(null);function IW(t){if(!Lm[t]){const e=$m(t);if(!e)return;const n=Kx(e),o={config:e,redundancy:n};Lm[t]=o}return Lm[t]}function BW(t,e,n){let o,r;if(typeof t=="string"){const s=Rm(t);if(!s)return n(void 0,424),Gx;r=s.send;const a=IW(t);a&&(o=a.redundancy)}else{const s=Pm(t);if(s){o=Kx(s);const a=t.resources?t.resources[0]:"",l=Rm(a);l&&(r=l.send)}}return!o||!r?(n(void 0,424),Gx):o.query(e,r,n)().abort}function qx(){}function RW(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,AW(t)}))}function PW(t){const e=[],n=[];return t.forEach(o=>{(o.match(Ix)?e:n).push(o)}),{valid:e,invalid:n}}function Da(t,e,n){function o(){const r=t.pendingIcons;e.forEach(s=>{r&&r.delete(s),t.icons[s]||t.missing.add(s)})}if(n&&typeof n=="object")try{if(!Lx(t,n).length){o();return}}catch(r){console.error(r)}o(),RW(t)}function Yx(t,e){t instanceof Promise?t.then(n=>{e(n)}).catch(()=>{e(null)}):e(t)}function DW(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:n,prefix:o}=t,r=t.iconsToLoad;if(delete t.iconsToLoad,!r||!r.length)return;const s=t.loadIcon;if(t.loadIcons&&(r.length>1||!s)){Yx(t.loadIcons(r,o,n),u=>{Da(t,r,u)});return}if(s){r.forEach(u=>{const f=s(u,o,n);Yx(f,p=>{const h=p?{prefix:o,icons:{[u]:p}}:null;Da(t,[u],h)})});return}const{valid:a,invalid:l}=PW(r);if(l.length&&Da(t,l,null),!a.length)return;const c=o.match(Ix)?Rm(n):null;if(!c){Da(t,a,null);return}c.prepare(n,o,a).forEach(u=>{BW(n,u,f=>{Da(t,u.icons,f)})})}))}const $W=(t,e)=>{const n=OW(t,!0,Vx()),o=_W(n);if(!o.pending.length){let c=!0;return e&&setTimeout(()=>{c&&e(o.loaded,o.missing,o.pending,qx)}),()=>{c=!1}}const r=Object.create(null),s=[];let a,l;return o.pending.forEach(c=>{const{provider:d,prefix:u}=c;if(u===l&&d===a)return;a=d,l=u,s.push(Ki(d,u));const f=r[d]||(r[d]=Object.create(null));f[u]||(f[u]=[])}),o.pending.forEach(c=>{const{provider:d,prefix:u,name:f}=c,p=Ki(d,u),h=p.pendingIcons||(p.pendingIcons=new Set);h.has(f)||(h.add(f),r[d][u].push(f))}),s.forEach(c=>{const d=r[c.provider][c.prefix];d.length&&DW(c,d)}),e?MW(e,o,s):qx};function LW(t,e){const n={...t};for(const o in e){const r=e[o],s=typeof r;o in zx?(r===null||r&&(s==="string"||s==="number"))&&(n[o]=r):s===typeof n[o]&&(n[o]=o==="rotate"?r%4:r)}return n}const VW=/[\s,]+/;function FW(t,e){e.split(VW).forEach(n=>{switch(n.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function zW(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function o(r){for(;r<0;)r+=4;return r%4}if(n===""){const r=parseInt(t);return isNaN(r)?0:o(r)}else if(n!==t){let r=0;switch(n){case"%":r=25;break;case"deg":r=90}if(r){let s=parseFloat(t.slice(0,t.length-n.length));return isNaN(s)?0:(s=s/r,s%1===0?o(s):0)}}return e}function HW(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in e)n+=" "+o+'="'+e[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function UW(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function jW(t){return"data:image/svg+xml,"+UW(t)}function WW(t){return'url("'+jW(t)+'")'}const Jx={...Hx,inline:!1},KW={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},GW={display:"inline-block"},Vm={backgroundColor:"currentColor"},Xx={backgroundColor:"transparent"},Zx={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},Qx={webkitMask:Vm,mask:Vm,background:Xx};for(const t in Qx){const e=Qx[t];for(const n in Zx)e[t+n]=Zx[n]}const Ed={};["horizontal","vertical"].forEach(t=>{const e=t.slice(0,1)+"Flip";Ed[t+"-flip"]=e,Ed[t.slice(0,1)+"-flip"]=e,Ed[t+"Flip"]=e});function eS(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}const tS=(t,e)=>{const n=LW(Jx,e),o={...KW},r=e.mode||"svg",s={},a=e.style,l=typeof a=="object"&&!(a instanceof Array)?a:{};for(let g in e){const y=e[g];if(y!==void 0)switch(g){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":n[g]=y===!0||y==="true"||y===1;break;case"flip":typeof y=="string"&&FW(n,y);break;case"color":s.color=y;break;case"rotate":typeof y=="string"?n[g]=zW(y):typeof y=="number"&&(n[g]=y);break;case"ariaHidden":case"aria-hidden":y!==!0&&y!=="true"&&delete o["aria-hidden"];break;default:{const b=Ed[g];b?(y===!0||y==="true"||y===1)&&(n[b]=!0):Jx[g]===void 0&&(o[g]=y)}}}const c=pW(t,n),d=c.attributes;if(n.inline&&(s.verticalAlign="-0.125em"),r==="svg"){o.style={...s,...l},Object.assign(o,d);let g=0,y=e.id;return typeof y=="string"&&(y=y.replace(/-/g,"_")),o.innerHTML=yW(c.body,y?()=>y+"ID"+g++:"iconifyVue"),i.h("svg",o)}const{body:u,width:f,height:p}=t,h=r==="mask"||(r==="bg"?!1:u.indexOf("currentColor")!==-1),m=HW(u,{...d,width:f+"",height:p+""});return o.style={...s,"--svg":WW(m),width:eS(d.width),height:eS(d.height),...GW,...h?Vm:Xx,...l},i.h("span",o)};if(Vx(!0),bW("",EW),typeof document<"u"&&typeof window<"u"){const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(o=>{try{(typeof o!="object"||o===null||o instanceof Array||typeof o.icons!="object"||typeof o.prefix!="string"||!Fx(o))&&console.error(n)}catch{console.error(n)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let n in e){const o="IconifyProviders["+n+"] is invalid.";try{const r=e[n];if(typeof r!="object"||!r||r.resources===void 0)continue;wW(n,r)||console.error(o)}catch{console.error(o)}}}}const qW={...xd,body:""},YW=i.defineComponent({inheritAttrs:!1,data(){return{_name:"",_loadingIcon:null,iconMounted:!1,counter:0}},mounted(){this.iconMounted=!0},unmounted(){this.abortLoading()},methods:{abortLoading(){this._loadingIcon&&(this._loadingIcon.abort(),this._loadingIcon=null)},getIcon(t,e,n){if(typeof t=="object"&&t!==null&&typeof t.body=="string")return this._name="",this.abortLoading(),{data:t};let o;if(typeof t!="string"||(o=wd(t,!1,!0))===null)return this.abortLoading(),null;let r=iW(o);if(!r)return(!this._loadingIcon||this._loadingIcon.name!==t)&&(this.abortLoading(),this._name="",r!==null&&(this._loadingIcon={name:t,abort:$W([o],()=>{this.counter++})})),null;if(this.abortLoading(),this._name!==t&&(this._name=t,e&&e(t)),n){r=Object.assign({},r);const a=n(r.body,o.name,o.prefix,o.provider);typeof a=="string"&&(r.body=a)}const s=["iconify"];return o.prefix!==""&&s.push("iconify--"+o.prefix),o.provider!==""&&s.push("iconify--"+o.provider),{data:r,classes:s}}},render(){this.counter;const t=this.$attrs,e=this.iconMounted||t.ssr?this.getIcon(t.icon,t.onLoad,t.customise):null;if(!e)return tS(qW,t);let n=t;return e.classes&&(n={...t,class:(typeof t.class=="string"?t.class+" ":"")+e.classes.join(" ")}),tS({...xd,...e.data},n)}}),oe=i.defineComponent({__name:"Icon",props:{name:{},class:{}},setup(t){const e=t,n=i.computed(()=>Zj[e.name]);return n.value||console.error(`Icon ${e.name} not found`),(o,r)=>(i.openBlock(),i.createBlock(i.unref(YW),{icon:n.value,class:i.normalizeClass(i.unref(no)("w-4 h-4",e.class))},null,8,["icon","class"]))}}),qo=i.defineComponent({__name:"Input",props:{defaultValue:{},modelValue:{},class:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=H9(n,"modelValue",e,{passive:!0,defaultValue:n.defaultValue});return(s,a)=>i.withDirectives((i.openBlock(),i.createElementBlock("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>i.isRef(r)?r.value=l:null),class:i.normalizeClass(i.unref(ne)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n.class))},null,2)),[[i.vModelText,i.unref(r)]])}}),$a=i.defineComponent({__name:"Label",props:{for:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(FH),i.mergeProps(n.value,{class:i.unref(ne)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e.class)}),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16,["class"]))}}),nS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,oS=_h,Fm=(t,e)=>n=>{var o;if((e==null?void 0:e.variants)==null)return oS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:s}=e,a=Object.keys(r).map(d=>{const u=n==null?void 0:n[d],f=s==null?void 0:s[d];if(u===null)return null;const p=nS(u)||nS(f);return r[d][p]}),l=n&&Object.entries(n).reduce((d,u)=>{let[f,p]=u;return p===void 0||(d[f]=p),d},{}),c=e==null||(o=e.compoundVariants)===null||o===void 0?void 0:o.reduce((d,u)=>{let{class:f,className:p,...h}=u;return Object.entries(h).every(m=>{let[g,y]=m;return Array.isArray(y)?y.includes({...s,...l}[g]):{...s,...l}[g]===y})?[...d,f,p]:d},[]);return oS(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},it=i.defineComponent({__name:"Button",props:{variant:{},size:{},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(Y),{as:n.as,"as-child":n.asChild,class:i.normalizeClass(i.unref(ne)(i.unref(JW)({variant:n.variant,size:n.size}),e.class))},{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),JW=Fm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",xs:"h-7 rounded px-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),XW={class:"flex w-full max-w-sm items-center gap-1.5"},ZW={class:"relative w-full max-w-sm items-center"},QW={class:"flex w-full max-w-sm items-center gap-1.5"},eK={class:"relative w-full max-w-sm items-center"},tK={class:"absolute start-0 inset-y-0 flex items-center justify-center px-2"},nK={class:"flex items-center space-x-2 mt-1"},rS=i.defineComponent({__name:"LinkEditBlock",props:{editor:{}},emits:["onSetLink","onClickOutside"],setup(t,{emit:e}){const n=t,o=e,{t:r}=Ee();let s=i.reactive({text:"",link:""});const a=i.ref(null),{focused:l}=wh(a),c=i.ref(!1),d=i.ref(null);E9(d,f=>o("onClickOutside",f)),i.watchEffect(()=>{const{href:f,target:p}=n.editor.getAttributes("link"),{from:h,to:m}=n.editor.state.selection,g=n.editor.state.doc.textBetween(h,m," ");s={link:f,text:g},c.value=p==="_blank"});function u(){o("onSetLink",s.link,s.text,c.value)}return i.onMounted(()=>{l.value=!0}),(f,p)=>{const h=Nx;return i.openBlock(),i.createElementBlock("div",{ref_key:"target",ref:d,class:"p-2 bg-white rounded-lg dark:bg-black shadow-sm border border-neutral-200 dark:border-neutral-800"},[i.createElementVNode("form",{onSubmit:i.withModifiers(u,["prevent"]),class:"flex flex-col gap-2"},[i.createVNode(i.unref($a),null,{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(r)("editor.link.dialog.text")),1)]),_:1}),i.createElementVNode("div",XW,[i.createElementVNode("div",ZW,[i.createVNode(i.unref(qo),{type:"text",modelValue:i.unref(s).text,"onUpdate:modelValue":p[0]||(p[0]=m=>i.unref(s).text=m),required:"",class:"w-80",placeholder:""},null,8,["modelValue"])])]),i.createVNode(i.unref($a),null,{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(r)("editor.link.dialog.link")),1)]),_:1}),i.createElementVNode("div",QW,[i.createElementVNode("div",eK,[i.createVNode(i.unref(qo),{type:"url",ref_key:"inputRef",ref:a,modelValue:i.unref(s).link,"onUpdate:modelValue":p[1]||(p[1]=m=>i.unref(s).link=m),required:"",class:"pl-10"},null,8,["modelValue"]),i.createElementVNode("span",tK,[i.createVNode(i.unref(oe),{class:"size-5 text-muted-foreground",name:"Link"})])])]),i.createElementVNode("div",nK,[i.createVNode(h,{checked:c.value,"onUpdate:checked":p[2]||(p[2]=m=>c.value=m),id:"openInNewTab"},null,8,["checked"]),i.createVNode(i.unref($a),{for:"openInNewTab"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(r)("editor.link.dialog.openInNewTab")),1)]),_:1})]),i.createVNode(i.unref(it),{type:"submit",class:"mt-2 self-end"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(r)("editor.link.dialog.button.apply")),1)]),_:1})],32)],512)}}});let zm;function Hm(){return zm===void 0&&(zm=navigator.platform.includes("Mac")),zm}function _d(t){return t.toLowerCase()==="mod"?Hm()?"":"Ctrl":t.toLowerCase()==="alt"?Hm()?"":"Alt":t.toLowerCase()==="shift"?Hm()?"":"Shift":t}function oo(t){return t.map(_d).join(" ")}const iS=i.defineComponent({__name:"Toggle",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null]},disabled:{type:Boolean,default:!1},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{},variant:{default:"default"},size:{default:"default"}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,size:l,variant:c,...d}=n;return d}),s=fe(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(Ax),i.mergeProps(i.unref(s),{class:i.unref(ne)(i.unref(sS)({variant:a.variant,size:a.size}),n.class)}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),sS=Fm("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),dn=i.defineComponent({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const r=fe(t,e);return(s,a)=>(i.openBlock(),i.createBlock(i.unref(Vj),i.normalizeProps(i.guardReactiveProps(i.unref(r))),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16))}}),un=i.defineComponent({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=fe(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(Uj),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Hj),i.mergeProps({...i.unref(s),...a.$attrs},{class:i.unref(ne)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),fn=i.defineComponent({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref($j),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),pn=i.defineComponent({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(Fj),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),oK={key:0},rK={key:1,class:"flex gap-1 items-center"},iK={key:2,class:"ml-1 font-normal"},sK={class:"max-w-24 text-center flex flex-col items-center"},aK={key:0,style:{display:"flex",gap:"4px"}},ee=i.defineComponent({__name:"ActionButton",props:{icon:{default:void 0},title:{default:void 0},tooltip:{default:void 0},disabled:{type:Boolean,default:!1},shortcutKeys:{default:void 0},customClass:{default:""},loading:{type:Boolean,default:!1},tooltipOptions:{default:void 0},color:{default:void 0},action:{type:Function,default:void 0},isActive:{type:Function,default:void 0},editor:{},class:{}},setup(t){return(e,n)=>(i.openBlock(),i.createBlock(i.unref(fn),null,{default:i.withCtx(()=>[i.createVNode(i.unref(dn),{"delay-duration":0},{default:i.withCtx(()=>[i.createVNode(i.unref(pn),null,{default:i.withCtx(()=>{var o;return[i.createVNode(i.unref(iS),{size:"sm",class:i.normalizeClass(["h-[32px]",[e.customClass,e.title?"w-auto":"w-[32px]"]]),"model-value":((o=e.isActive)==null?void 0:o.call(e))||!1,disabled:e.disabled,onClick:e.action},{default:i.withCtx(()=>[e.loading?(i.openBlock(),i.createElementBlock("div",oK,[i.createVNode(i.unref(oe),{class:"animate-spin",name:"LoaderCircle"})])):(i.openBlock(),i.createElementBlock("div",rK,[e.icon?(i.openBlock(),i.createBlock(i.unref(oe),{key:0,name:e.icon},null,8,["name"])):i.createCommentVNode("",!0),i.renderSlot(e.$slots,"icon")])),e.title?(i.openBlock(),i.createElementBlock("div",iK,i.toDisplayString(e.title),1)):i.createCommentVNode("",!0),i.renderSlot(e.$slots,"default")]),_:3},8,["model-value","disabled","class","onClick"])]}),_:3}),e.tooltip?(i.openBlock(),i.createBlock(i.unref(un),i.normalizeProps(i.mergeProps({key:0},e.tooltipOptions)),{default:i.withCtx(()=>[i.createElementVNode("div",sK,[i.createElementVNode("div",null,i.toDisplayString(e.tooltip),1),e.shortcutKeys&&e.shortcutKeys.length?(i.openBlock(),i.createElementBlock("div",aK,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.shortcutKeys,(o,r)=>(i.openBlock(),i.createElementBlock("span",{key:r},i.toDisplayString(i.unref(_d)(o)),1))),128))])):i.createCommentVNode("",!0)])]),_:1},16)):i.createCommentVNode("",!0)]),_:3})]),_:3}))}}),lK={class:"flex items-center gap-2 p-2 bg-white rounded-lg dark:bg-black shadow-sm border border-neutral-200 dark:border-neutral-800"},cK=["href"],dK={class:"flex flex-nowrap"},uK=i.defineComponent({__name:"LinkViewBlock",props:{editor:{},link:{default:void 0}},emits:["clear","edit"],setup(t,{emit:e}){const{t:n}=Ee(),o=e;function r(){o("clear")}function s(){o("edit")}return(a,l)=>(i.openBlock(),i.createElementBlock("div",lK,[i.createElementVNode("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",class:"text-sm underline break-all"},i.toDisplayString(i.unref(n9)(a.link,{length:50,omission:""})),9,cK),a.link?(i.openBlock(),i.createBlock(i.unref(to),{key:0,orientation:"vertical",class:"h-4"})):i.createCommentVNode("",!0),i.createElementVNode("div",dK,[i.createVNode(ee,{icon:"Pencil",tooltip:i.unref(n)("editor.link.edit.tooltip"),action:s,"tooltip-options":{sideOffset:15}},null,8,["tooltip"]),i.createVNode(ee,{icon:"Unlink",tooltip:i.unref(n)("editor.link.unlink.tooltip"),action:r,"tooltip-options":{sideOffset:15}},null,8,["tooltip"])])]))}}),fK=i.defineComponent({__name:"LinkBubbleMenu",props:{editor:{},disabled:{type:Boolean,default:!1}},setup(t){const e=t,n=i.ref(!1),o=i.computed(()=>{const{href:c}=e.editor.getAttributes("link");return c}),r=i.computed(()=>e.editor.isActive("link"));function s(c,d,u){e.editor.chain().extendMarkRange("link").insertContent({type:"text",text:d,marks:[{type:"link",attrs:{href:c,target:u?"_blank":""}}]}).setLink({href:c}).focus().run(),n.value=!1}function a(){e.editor.chain().extendMarkRange("link").unsetLink().focus().run(),n.value=!1}function l(){const{state:c,view:d}=e.editor,{tr:u,selection:f}=c,p=u.setSelection(J.create(c.doc,f.from));d.dispatch(p),n.value=!1}return(c,d)=>i.withDirectives((i.openBlock(),i.createBlock(i.unref(Ei),{editor:c.editor,"update-delay":0,"tippy-options":{popperOptions:{modifiers:[{name:"flip",enabled:!1}]},appendTo:"parent",placement:"bottom-start",offset:[-2,16],zIndex:99,onHidden:()=>{n.value=!1}}},{default:i.withCtx(()=>[n.value?(i.openBlock(),i.createBlock(rS,{key:0,onOnSetLink:s,onOnClickOutside:l,editor:c.editor},null,8,["editor"])):(i.openBlock(),i.createBlock(uK,{key:1,editor:c.editor,onClear:a,onEdit:d[0]||(d[0]=u=>n.value=!0),link:o.value},null,8,["editor","link"]))]),_:1},8,["editor","tippy-options"])),[[i.vShow,r.value]])}}),Yo=i.defineComponent({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const r=fe(t,e);return(s,a)=>(i.openBlock(),i.createBlock(i.unref(mH),i.normalizeProps(i.guardReactiveProps(i.unref(r))),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16))}}),Jo=i.defineComponent({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=fe(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(yH),null,{default:i.withCtx(()=>[i.createVNode(i.unref(CH),i.mergeProps({...i.unref(s),...a.$attrs},{class:i.unref(ne)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Xo=i.defineComponent({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(gH),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),pK={class:"flex flex-col"},hK={class:"w-6 h-6 p-0.5 inline-block rounded-sm border cursor-pointer hover:border-border hover:shadow-sm relative after:border-b-2 after:border-b-red-500 after:top-[10px] after:h-0 after:left-0 after:w-6 after:absolute after:block after:rotate-[45deg]"},mK={style:{"background-color":"transparent"}},gK={viewBox:"0 0 18 18",style:{fill:"rgba(0, 0, 0, 0.4)",display:"none"}},yK={class:"text-sm ml-1"},bK={class:"w-6 h-6 p-0.5 inline-block rounded-sm border border-transparent cursor-pointer"},wK={viewBox:"0 0 18 18",style:{fill:"rgb(255, 255, 255)",display:"none"}},CK={class:"text-sm ml-1"},kK=["onClick"],xK={key:0,viewBox:"0 0 18 18",style:{fill:"rgb(255, 255, 255)",display:"none"}},SK={key:1,class:"absolute top-[-1px] left-[1px] w-3 h-3",viewBox:"0 0 18 18",style:{fill:"rgb(255, 255, 255)",display:"block"}},EK={class:"text-sm my-1"},_K={class:"flex p-0 w-full h-auto relative last:pb-2"},AK=["onClick"],TK={viewBox:"0 0 18 18",style:{fill:"rgb(255, 255, 255)",display:"none"}},MK={class:"relative"},aS=i.defineComponent({__name:"ColorPicker",props:{modelValue:{default:""},highlight:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(t,{emit:e}){const{t:n}=Ee(),o=w5.reduce((p,h,m)=>{const g=Math.floor(m/10);return p[g]||(p[g]=[]),p[g].push(h),p},[]),r=t,s=i.ref(null),a=z9(r.highlight?"recentColorsHighlight":"recentColors",[]),l=e;function c(p){const h=a.value.indexOf(p);h!==-1&&a.value.splice(h,1),a.value.unshift(p),a.value.length>10&&a.value.pop()}const d=i.computed(()=>a.value.slice(0,10));function u(p){if(p===void 0){l("update:modelValue",p),l("change",p);return}/^#([0-9A-F]{3}){1,2}$/i.test(p)&&(l("update:modelValue",p),l("change",p),c(p))}const f=()=>{var p;(p=s.value)==null||p.click()};return(p,h)=>(i.openBlock(),i.createBlock(i.unref(Yo),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Xo),{disabled:p.disabled},{default:i.withCtx(()=>[i.renderSlot(p.$slots,"default")]),_:3},8,["disabled"]),i.createVNode(i.unref(Jo),{hideWhenDetached:"",class:"p-2 w-full h-full",align:"start",side:"bottom"},{default:i.withCtx(()=>[i.createElementVNode("div",pK,[p.highlight?(i.openBlock(),i.createElementBlock("div",{key:0,class:"flex items-center p-1 rd-1 cursor-pointer hover:bg-accent",onClick:h[0]||(h[0]=m=>u(void 0))},[i.createElementVNode("span",hK,[i.createElementVNode("span",mK,[(i.openBlock(),i.createElementBlock("svg",gK,h[3]||(h[3]=[i.createElementVNode("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},null,-1)])))])]),i.createElementVNode("span",yK,i.toDisplayString(i.unref(n)("editor.nofill")),1)])):(i.openBlock(),i.createElementBlock("div",{key:1,class:"flex items-center p-1 rd-1 cursor-pointer hover:bg-accent",onClick:h[1]||(h[1]=m=>u(void 0))},[i.createElementVNode("span",bK,[i.createElementVNode("span",{style:i.normalizeStyle({backgroundColor:i.unref(b5)}),class:"relative w-[18px] h-[18px] block rounded-[2px] border-transparent"},[(i.openBlock(),i.createElementBlock("svg",wK,h[4]||(h[4]=[i.createElementVNode("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},null,-1)])))],4)]),i.createElementVNode("span",CK,i.toDisplayString(i.unref(n)("editor.default")),1)])),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(i.unref(o),(m,g)=>(i.openBlock(),i.createElementBlock("span",{class:"flex p-0 w-full h-auto relative last:pb-2",key:g},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(m,(y,b)=>(i.openBlock(),i.createElementBlock("span",{class:"w-6 h-6 p-0.5 inline-block rounded-sm border border-transparent flex-[0 0 auto] cursor-pointer hover:border-border hover:shadow-sm",key:b,onClick:C=>u(y)},[i.createElementVNode("span",{style:i.normalizeStyle({backgroundColor:y}),class:"relative w-[18px] h-[18px] block rounded-[2px] border-transparent"},[y!==p.modelValue?(i.openBlock(),i.createElementBlock("svg",xK,h[5]||(h[5]=[i.createElementVNode("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},null,-1)]))):(i.openBlock(),i.createElementBlock("svg",SK,h[6]||(h[6]=[i.createElementVNode("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},null,-1)])))],4)],8,kK))),128))]))),128)),i.withDirectives(i.createElementVNode("div",null,[i.createElementVNode("div",EK,i.toDisplayString(i.unref(n)("editor.recent")),1),i.createElementVNode("span",_K,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(d.value,(m,g)=>(i.openBlock(),i.createElementBlock("span",{class:"w-6 h-6 p-0.5 inline-block rounded-sm border border-transparent flex-[0 0 auto] cursor-pointer hover:border-border hover:shadow-sm",key:g,onClick:y=>u(m)},[i.createElementVNode("span",{class:"relative w-[18px] h-[18px] block rounded-[2px] border-transparent",style:i.normalizeStyle({backgroundColor:m})},[(i.openBlock(),i.createElementBlock("svg",TK,h[7]||(h[7]=[i.createElementVNode("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},null,-1)])))],4)],8,AK))),128))])],512),[[i.vShow,d.value.length]]),i.createElementVNode("div",MK,[i.createElementVNode("div",{class:"text-sm hover:cursor-pointer hover:bg-accent py-1.5 px-1.5",onClick:f},i.toDisplayString(i.unref(n)("editor.color.more"))+"... ",1),i.createElementVNode("input",{type:"color",ref_key:"html5Color",ref:s,onChange:h[2]||(h[2]=m=>{u(m.target.value)}),class:"absolute left-0 top-4",style:{visibility:"hidden"}},null,544)])])]),_:1})]),_:3}))}}),OK={class:"flex items-center h-[32px] hover:bg-muted rounded-md"},vK={class:"text-sm flex items-center justify-center"},NK={width:"18px",height:"18px",viewBox:"0 0 256 256",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},IK={id:"icon/",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},BK={id:"icon/"},RK=["fill"],lS=i.defineComponent({__name:"HighlightActionButton",props:{editor:{},tooltip:{default:void 0},disabled:{type:Boolean,default:!1},action:{type:Function,default:void 0},isActive:{type:Function,default:void 0},tooltipOptions:{default:void 0}},setup(t){const e=t,n=i.ref(void 0),{state:o}=Pt();function r(a){var l;(l=e.action)==null||l.call(e,a)}function s(a){var l;(l=e.action)==null||l.call(e,n.value)}return i.watchEffect(()=>{const{color:a}=e.editor.getAttributes("highlight");o.highlight=a}),(a,l)=>(i.openBlock(),i.createElementBlock("div",OK,[i.createVNode(ee,{tooltip:a.tooltip,disabled:a.disabled,action:s,"tooltip-options":a.tooltipOptions},{icon:i.withCtx(()=>[i.createElementVNode("span",vK,[(i.openBlock(),i.createElementBlock("svg",NK,[i.createElementVNode("g",IK,[i.createElementVNode("g",BK,[l[1]||(l[1]=i.createElementVNode("g",{id:"",fill:"currentColor"},[i.createElementVNode("g",{transform:"translate(119.502295, 137.878331) rotate(-135.000000) translate(-119.502295, -137.878331) translate(48.002295, 31.757731)",id:""},[i.createElementVNode("path",{d:"M100.946943,60.8084699 L43.7469427,60.8084699 C37.2852111,60.8084699 32.0469427,66.0467383 32.0469427,72.5084699 L32.0469427,118.70847 C32.0469427,125.170201 37.2852111,130.40847 43.7469427,130.40847 L100.946943,130.40847 C107.408674,130.40847 112.646943,125.170201 112.646943,118.70847 L112.646943,72.5084699 C112.646943,66.0467383 107.408674,60.8084699 100.946943,60.8084699 Z M93.646,79.808 L93.646,111.408 L51.046,111.408 L51.046,79.808 L93.646,79.808 Z","fill-rule":"nonzero"}),i.createElementVNode("path",{d:"M87.9366521,16.90916 L87.9194966,68.2000001 C87.9183543,69.4147389 86.9334998,70.399264 85.7187607,70.4 L56.9423078,70.4 C55.7272813,70.4 54.7423078,69.4150264 54.7423078,68.2 L54.7423078,39.4621057 C54.7423078,37.2523513 55.5736632,35.1234748 57.0711706,33.4985176 L76.4832996,12.4342613 C78.9534987,9.75382857 83.1289108,9.5834005 85.8093436,12.0535996 C87.1658473,13.303709 87.9372691,15.0644715 87.9366521,16.90916 Z","fill-rule":"evenodd"}),i.createElementVNode("path",{d:"M131.3,111.241199 L11.7,111.241199 C5.23826843,111.241199 0,116.479467 0,122.941199 L0,200.541199 C0,207.002931 5.23826843,212.241199 11.7,212.241199 L131.3,212.241199 C137.761732,212.241199 143,207.002931 143,200.541199 L143,122.941199 C143,116.479467 137.761732,111.241199 131.3,111.241199 Z M124,130.241 L124,193.241 L19,193.241 L19,130.241 L124,130.241 Z","fill-rule":"nonzero"})])],-1)),i.createElementVNode("path",{d:"M51,218 L205,218 C211.075132,218 216,222.924868 216,229 C216,235.075132 211.075132,240 205,240 L51,240 C44.9248678,240 40,235.075132 40,229 C40,222.924868 44.9248678,218 51,218 Z",id:"",fill:n.value||"#FBDE28"},null,8,RK)])])]))])]),_:1},8,["tooltip","disabled","tooltip-options"]),i.createVNode(aS,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=c=>n.value=c),onChange:r,highlight:"",disabled:a.disabled},{default:i.withCtx(()=>[i.createVNode(i.unref(it),{variant:"ghost",size:"icon",class:"w-3 h-[32px] rounded-l-none hover:bg-muted-foreground/20",disabled:a.disabled},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{class:"w-3 h-3 text-zinc-500",name:"MenuDown"})]),_:1},8,["disabled"])]),_:1},8,["modelValue","disabled"])]))}}),PK={class:"min-w-32 flex flex-row h-full items-center leading-none gap-0.5 p-2 w-full bg-background rounded-lg shadow-sm border border-border"},DK=i.defineComponent({__name:"TableBubbleMenu",props:{editor:{}},setup(t){const e=t,n=({editor:g})=>ic(g.view.state,"table"),{t:o}=Ee();function r(){e.editor.chain().focus().addColumnBefore().run()}function s(){e.editor.chain().focus().addColumnAfter().run()}function a(){e.editor.chain().focus().deleteColumn().run()}function l(){e.editor.chain().focus().addRowBefore().run()}function c(){e.editor.chain().focus().addRowAfter().run()}function d(){e.editor.chain().focus().deleteRow().run()}function u(){e.editor.chain().focus().mergeCells().run()}function f(){var g;(g=e.editor)==null||g.chain().focus().splitCell().run()}function p(){e.editor.chain().focus().deleteTable().run()}function h(g){e.editor.chain().focus().setTableCellBackground(g).run()}const m=()=>{const{view:g,state:{selection:{from:y}}}=e.editor,b=g.domAtPos(y).node;if(!b)return new DOMRect(-1e3,-1e3,0,0);const C=b==null?void 0:b.closest(".tableWrapper");return C?C.getBoundingClientRect():new DOMRect(-1e3,-1e3,0,0)};return(g,y)=>(i.openBlock(),i.createBlock(i.unref(Ei),{editor:g.editor,pluginKey:"table",shouldShow:n,updateDelay:0,"tippy-options":{offset:[0,8],popperOptions:{modifiers:[{name:"flip",enabled:!1}]},maxWidth:"auto",getReferenceClientRect:m,plugins:[i.unref(jp)],sticky:"popper"}},{default:i.withCtx(()=>{var b,C,k,w,x,S,E,T,_;return[i.createElementVNode("div",PK,[i.createVNode(ee,{icon:"BetweenHorizonalEnd",tooltip:i.unref(o)("editor.table.menu.insertColumnBefore"),action:r,"tooltip-options":{sideOffset:15},disabled:!((b=g.editor)!=null&&b.can().addColumnBefore())},null,8,["tooltip","disabled"]),i.createVNode(ee,{icon:"BetweenHorizonalStart",tooltip:i.unref(o)("editor.table.menu.insertColumnAfter"),action:s,"tooltip-options":{sideOffset:15},disabled:!((C=g.editor)!=null&&C.can().addColumnAfter())},null,8,["tooltip","disabled"]),i.createVNode(ee,{icon:"ColumnDelete",action:a,tooltip:i.unref(o)("editor.table.menu.deleteColumn"),"tooltip-options":{sideOffset:15},disabled:!((k=g.editor)!=null&&k.can().deleteColumn())},null,8,["tooltip","disabled"]),i.createVNode(i.unref(to),{orientation:"vertical",class:"mx-1 me-2 h-[16px]"}),i.createVNode(ee,{icon:"BetweenVerticalEnd",action:l,tooltip:i.unref(o)("editor.table.menu.insertRowAbove"),"tooltip-options":{sideOffset:15},disabled:!((w=g.editor)!=null&&w.can().addRowBefore())},null,8,["tooltip","disabled"]),i.createVNode(ee,{icon:"BetweenVerticalStart",action:c,tooltip:i.unref(o)("editor.table.menu.insertRowBelow"),"tooltip-options":{sideOffset:15},disabled:!((x=g.editor)!=null&&x.can().addRowAfter())},null,8,["tooltip","disabled"]),i.createVNode(ee,{icon:"RowDelete",action:d,tooltip:i.unref(o)("editor.table.menu.deleteRow"),"tooltip-options":{sideOffset:15},disabled:!((S=g.editor)!=null&&S.can().deleteRow())},null,8,["tooltip","disabled"]),i.createVNode(i.unref(to),{orientation:"vertical",class:"mx-1 me-2 h-[16px]"}),i.createVNode(ee,{icon:"TableCellsMerge",action:u,tooltip:i.unref(o)("editor.table.menu.mergeCells"),"tooltip-options":{sideOffset:15},disabled:!((E=g.editor)!=null&&E.can().mergeCells())},null,8,["tooltip","disabled"]),i.createVNode(ee,{icon:"TableCellsSplit",action:f,tooltip:i.unref(o)("editor.table.menu.splitCells"),"tooltip-options":{sideOffset:15},disabled:!((T=g.editor)!=null&&T.can().splitCell())},null,8,["tooltip","disabled"]),i.createVNode(i.unref(to),{orientation:"vertical",class:"mx-1 me-2 h-[16px]"}),i.createVNode(lS,{editor:g.editor,tooltip:i.unref(o)("editor.table.menu.setCellsBgColor"),action:h,"tooltip-options":{sideOffset:15}},null,8,["editor","tooltip"]),i.createVNode(ee,{icon:"Trash2",tooltip:i.unref(o)("editor.table.menu.deleteTable"),action:p,"tooltip-options":{sideOffset:15},disabled:!((_=g.editor)!=null&&_.can().deleteTable())},null,8,["tooltip","disabled"])])]}),_:1},8,["editor","tippy-options"]))}}),$K={class:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center"},LK=i.defineComponent({__name:"DropdownMenuCheckboxItem",props:{modelValue:{type:[Boolean,String]},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},emits:["select","update:modelValue"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=fe(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(MH),i.mergeProps(i.unref(s),{class:i.unref(ne)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n.class)}),{default:i.withCtx(()=>[i.createElementVNode("span",$K,[i.createVNode(i.unref(OH),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Ba),{class:"w-4 h-4"})]),_:1})]),i.renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),Nn=()=>new Map,Um=t=>{const e=Nn();return t.forEach((n,o)=>{e.set(o,n)}),e},Gi=(t,e,n)=>{let o=t.get(e);return o===void 0&&t.set(e,o=n()),o},VK=(t,e)=>{const n=[];for(const[o,r]of t)n.push(e(r,o));return n},FK=(t,e)=>{for(const[n,o]of t)if(e(o,n))return!0;return!1},qi=()=>new Set,jm=t=>t[t.length-1],Yi=Array.from,zK=Array.isArray;class HK{constructor(){this._observers=Nn()}on(e,n){return Gi(this._observers,e,qi).add(n),n}once(e,n){const o=(...r)=>{this.off(e,o),n(...r)};this.on(e,o)}off(e,n){const o=this._observers.get(e);o!==void 0&&(o.delete(n),o.size===0&&this._observers.delete(e))}emit(e,n){return Yi((this._observers.get(e)||Nn()).values()).forEach(o=>o(...n))}destroy(){this._observers=Nn()}}const zr=Math.floor,Ad=Math.abs,cS=(t,e)=>t<e?t:e,Ji=(t,e)=>t>e?t:e,UK=t=>t!==0?t<0:1/t<0,dS=1,uS=2,Wm=4,Km=8,jK=32,fS=64,Td=128,WK=31,pS=63,La=127,KK=2147483647,GK=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&zr(t)===t),qK=t=>t.toLowerCase(),YK=/^\s*/g,JK=t=>t.replace(YK,""),XK=/([A-Z])/g,hS=(t,e)=>JK(t.replace(XK,n=>`${e}${qK(n)}`)),ZK=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,o=new Uint8Array(n);for(let r=0;r<n;r++)o[r]=e.codePointAt(r);return o},Va=typeof TextEncoder<"u"?new TextEncoder:null,QK=Va?t=>Va.encode(t):ZK;let Gm=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Gm&&Gm.decode(new Uint8Array).length===1&&(Gm=null);class Fa{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const qm=()=>new Fa,eG=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},ro=t=>{const e=new Uint8Array(eG(t));let n=0;for(let o=0;o<t.bufs.length;o++){const r=t.bufs[o];e.set(r,n),n+=r.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},tG=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Ji(n,e)*2),t.cpos=0)},Xe=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},Ym=Xe,Te=(t,e)=>{for(;e>La;)Xe(t,Td|La&e),e=zr(e/128);Xe(t,La&e)},Jm=(t,e)=>{const n=UK(e);for(n&&(e=-e),Xe(t,(e>pS?Td:0)|(n?fS:0)|pS&e),e=zr(e/64);e>0;)Xe(t,(e>La?Td:0)|La&e),e=zr(e/128)},Xm=new Uint8Array(3e4),nG=Xm.length/3,oG=(t,e)=>{if(e.length<nG){const n=Va.encodeInto(e,Xm).written||0;Te(t,n);for(let o=0;o<n;o++)Xe(t,Xm[o])}else Vt(t,QK(e))},rG=(t,e)=>{const n=unescape(encodeURIComponent(e)),o=n.length;Te(t,o);for(let r=0;r<o;r++)Xe(t,n.codePointAt(r))},Xi=Va&&Va.encodeInto?oG:rG,Zm=(t,e)=>{const n=t.cbuf.length,o=t.cpos,r=cS(n-o,e.length),s=e.length-r;t.cbuf.set(e.subarray(0,r),o),t.cpos+=r,s>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Ji(n*2,s)),t.cbuf.set(e.subarray(r)),t.cpos=s)},Vt=(t,e)=>{Te(t,e.byteLength),Zm(t,e)},Qm=(t,e)=>{tG(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},iG=(t,e)=>Qm(t,4).setFloat32(0,e,!1),sG=(t,e)=>Qm(t,8).setFloat64(0,e,!1),aG=(t,e)=>Qm(t,8).setBigInt64(0,e,!1),mS=new DataView(new ArrayBuffer(4)),lG=t=>(mS.setFloat32(0,t),mS.getFloat32(0)===t),za=(t,e)=>{switch(typeof e){case"string":Xe(t,119),Xi(t,e);break;case"number":GK(e)&&Ad(e)<=KK?(Xe(t,125),Jm(t,e)):lG(e)?(Xe(t,124),iG(t,e)):(Xe(t,123),sG(t,e));break;case"bigint":Xe(t,122),aG(t,e);break;case"object":if(e===null)Xe(t,126);else if(zK(e)){Xe(t,117),Te(t,e.length);for(let n=0;n<e.length;n++)za(t,e[n])}else if(e instanceof Uint8Array)Xe(t,116),Vt(t,e);else{Xe(t,118);const n=Object.keys(e);Te(t,n.length);for(let o=0;o<n.length;o++){const r=n[o];Xi(t,r),za(t,e[r])}}break;case"boolean":Xe(t,e?120:121);break;default:Xe(t,127)}};class gS extends Fa{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&Te(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const yS=t=>{t.count>0&&(Jm(t.encoder,t.count===1?t.s:-t.s),t.count>1&&Te(t.encoder,t.count-2))};class Md{constructor(){this.encoder=new Fa,this.s=0,this.count=0}write(e){this.s===e?this.count++:(yS(this),this.count=1,this.s=e)}toUint8Array(){return yS(this),ro(this.encoder)}}const bS=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);Jm(t.encoder,e),t.count>1&&Te(t.encoder,t.count-2)}};class eg{constructor(){this.encoder=new Fa,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(bS(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return bS(this),ro(this.encoder)}}class cG{constructor(){this.sarr=[],this.s="",this.lensE=new Md}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new Fa;return this.sarr.push(this.s),this.s="",Xi(e,this.sarr.join("")),Zm(e,this.lensE.toUint8Array()),ro(e)}}const Zi=t=>new Error(t),In=()=>{throw Zi("Method unimplemented")},Zo=()=>{throw Zi("Unexpected case")},dG=crypto.getRandomValues.bind(crypto),wS=()=>dG(new Uint32Array(1))[0],uG="10000000-1000-4000-8000"+-1e11,fG=()=>uG.replace(/[018]/g,t=>(t^wS()&15>>t/4).toString(16)),CS=t=>new Promise(t);Promise.all.bind(Promise);const kS=t=>t===void 0?null:t;class pG{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let xS=new pG,hG=!0;try{typeof localStorage<"u"&&localStorage&&(xS=localStorage,hG=!1)}catch{}const mG=xS,gG=Object.assign,yG=Object.keys,bG=(t,e)=>{for(const n in t)e(t[n],n)},SS=t=>yG(t).length,wG=t=>{for(const e in t)return!1;return!0},CG=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},kG=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),xG=(t,e)=>t===e||SS(t)===SS(e)&&CG(t,(n,o)=>(n!==void 0||kG(e,o))&&e[o]===n),SG=Object.freeze,ES=t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&ES(t[e])}return SG(t)},tg=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&tg(t,e,n+1)}},EG=(t,e)=>e.includes(t),Ha=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";let Bn;const _G=()=>{if(Bn===void 0)if(Ha){Bn=Nn();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const o=t[n];o[0]==="-"?(e!==null&&Bn.set(e,""),e=o):e!==null&&(Bn.set(e,o),e=null)}e!==null&&Bn.set(e,"")}else typeof location=="object"?(Bn=Nn(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");Bn.set(`--${hS(e,"-")}`,n),Bn.set(`-${hS(e,"-")}`,n)}})):Bn=Nn();return Bn},ng=t=>_G().has(t),Od=t=>kS(Ha?process.env[t.toUpperCase().replaceAll("-","_")]:mG.getItem(t)),_S=t=>ng("--"+t)||Od(t)!==null;_S("production");const AG=Ha&&EG(process.env.FORCE_COLOR,["true","1","2"])||!ng("--no-colors")&&!_S("no-color")&&(!Ha||process.stdout.isTTY)&&(!Ha||ng("--color")||Od("COLORTERM")!==null||(Od("TERM")||"").includes("color"));class TG{constructor(e,n){this.left=e,this.right=n}}const io=(t,e)=>new TG(t,e);typeof DOMParser<"u"&&new DOMParser;const MG=t=>VK(t,(e,n)=>`${n}:${e};`).join(""),so=Symbol,AS=so(),TS=so(),OG=so(),vG=so(),NG=so(),MS=so(),IG=so(),og=so(),BG=so(),RG=t=>{var r;t.length===1&&((r=t[0])==null?void 0:r.constructor)===Function&&(t=t[0]());const e=[],n=[];let o=0;for(;o<t.length;o++){const s=t[o];if(s===void 0)break;if(s.constructor===String||s.constructor===Number)e.push(s);else if(s.constructor===Object)break}for(o>0&&n.push(e.join(""));o<t.length;o++){const s=t[o];s instanceof Symbol||n.push(s)}return n},PG={[AS]:io("font-weight","bold"),[TS]:io("font-weight","normal"),[OG]:io("color","blue"),[NG]:io("color","green"),[vG]:io("color","grey"),[MS]:io("color","red"),[IG]:io("color","purple"),[og]:io("color","orange"),[BG]:io("color","black")},OS=AG?t=>{var a;t.length===1&&((a=t[0])==null?void 0:a.constructor)===Function&&(t=t[0]());const e=[],n=[],o=Nn();let r=[],s=0;for(;s<t.length;s++){const l=t[s],c=PG[l];if(c!==void 0)o.set(c.left,c.right);else{if(l===void 0)break;if(l.constructor===String||l.constructor===Number){const d=MG(o);s>0||d.length>0?(e.push("%c"+l),n.push(d)):e.push(l)}else break}}for(s>0&&(r=n,r.unshift(e.join("")));s<t.length;s++){const l=t[s];l instanceof Symbol||r.push(l)}return r}:RG,DG=(...t)=>{console.log(...OS(t)),vS.forEach(e=>e.print(t))},$G=(...t)=>{console.warn(...OS(t)),t.unshift(og),vS.forEach(e=>e.print(t))},vS=qi(),NS=t=>({[Symbol.iterator](){return this},next:t}),LG=(t,e)=>NS(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),rg=(t,e)=>NS(()=>{const{done:n,value:o}=t.next();return{done:n,value:n?void 0:e(o)}});class VG{constructor(e,n){this.clock=e,this.len=n}}class FG{constructor(){this.clients=new Map}}const IS=(t,e,n)=>e.clients.forEach((o,r)=>{const s=t.doc.store.clients.get(r);for(let a=0;a<o.length;a++){const l=o[a];US(t,s,l.clock,l.len,n)}}),zG=(t,e)=>{let n=0,o=t.length-1;for(;n<=o;){const r=zr((n+o)/2),s=t[r],a=s.clock;if(a<=e){if(e<a+s.len)return r;n=r+1}else o=r-1}return null},BS=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&zG(n,e.clock)!==null},RS=t=>{t.clients.forEach(e=>{e.sort((r,s)=>r.clock-s.clock);let n,o;for(n=1,o=1;n<e.length;n++){const r=e[o-1],s=e[n];r.clock+r.len>=s.clock?r.len=Ji(r.len,s.clock+s.len-r.clock):(o<n&&(e[o]=s),o++)}e.length=o})},PS=(t,e,n,o)=>{Gi(t.clients,e,()=>[]).push(new VG(n,o))},HG=(t,e)=>{Te(t.restEncoder,e.clients.size),Yi(e.clients.entries()).sort((n,o)=>o[0]-n[0]).forEach(([n,o])=>{t.resetDsCurVal(),Te(t.restEncoder,n);const r=o.length;Te(t.restEncoder,r);for(let s=0;s<r;s++){const a=o[s];t.writeDsClock(a.clock),t.writeDsLen(a.len)}})},DS=wS;class Ua extends HK{constructor({guid:e=fG(),collectionid:n=null,gc:o=!0,gcFilter:r=()=>!0,meta:s=null,autoLoad:a=!1,shouldLoad:l=!0}={}){super(),this.gc=o,this.gcFilter=r,this.clientID=DS(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new XG,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=l,this.autoLoad=a,this.meta=s,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=CS(d=>{this.on("load",()=>{this.isLoaded=!0,d(this)})});const c=()=>CS(d=>{const u=f=>{(f===void 0||f===!0)&&(this.off("sync",u),d())};this.on("sync",u)});this.on("sync",d=>{d===!1&&this.isSynced&&(this.whenSynced=c()),this.isSynced=d===void 0||d===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=c()}load(){const e=this._item;e!==null&&!this.shouldLoad&&Re(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Yi(this.subdocs).map(e=>e.guid))}transact(e,n=null){return Re(this,e,n)}get(e,n=st){const o=Gi(this.share,e,()=>{const s=new n;return s._integrate(this,null),s}),r=o.constructor;if(n!==st&&r!==n)if(r===st){const s=new n;s._map=o._map,o._map.forEach(a=>{for(;a!==null;a=a.left)a.parent=s}),s._start=o._start;for(let a=s._start;a!==null;a=a.right)a.parent=s;return s._length=o._length,this.share.set(e,s),s._integrate(this,null),s}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return o}getArray(e=""){return this.get(e,Ga)}getText(e=""){return this.get(e,qa)}getMap(e=""){return this.get(e,zd)}getXmlElement(e=""){return this.get(e,Ya)}getXmlFragment(e=""){return this.get(e,ts)}toJSON(){const e={};return this.share.forEach((n,o)=>{e[o]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,Yi(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new Ua({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,Re(e.parent.doc,o=>{const r=n.doc;e.deleted||o.subdocsAdded.add(r),o.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class UG{constructor(){this.restEncoder=qm()}toUint8Array(){return ro(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){Te(this.restEncoder,e)}writeDsLen(e){Te(this.restEncoder,e)}}class jG extends UG{writeLeftID(e){Te(this.restEncoder,e.client),Te(this.restEncoder,e.clock)}writeRightID(e){Te(this.restEncoder,e.client),Te(this.restEncoder,e.clock)}writeClient(e){Te(this.restEncoder,e)}writeInfo(e){Ym(this.restEncoder,e)}writeString(e){Xi(this.restEncoder,e)}writeParentInfo(e){Te(this.restEncoder,e?1:0)}writeTypeRef(e){Te(this.restEncoder,e)}writeLen(e){Te(this.restEncoder,e)}writeAny(e){za(this.restEncoder,e)}writeBuf(e){Vt(this.restEncoder,e)}writeJSON(e){Xi(this.restEncoder,JSON.stringify(e))}writeKey(e){Xi(this.restEncoder,e)}}class WG{constructor(){this.restEncoder=qm(),this.dsCurrVal=0}toUint8Array(){return ro(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,Te(this.restEncoder,n)}writeDsLen(e){e===0&&Zo(),Te(this.restEncoder,e-1),this.dsCurrVal+=e}}class KG extends WG{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new eg,this.clientEncoder=new Md,this.leftClockEncoder=new eg,this.rightClockEncoder=new eg,this.infoEncoder=new gS(Ym),this.stringEncoder=new cG,this.parentInfoEncoder=new gS(Ym),this.typeRefEncoder=new Md,this.lenEncoder=new Md}toUint8Array(){const e=qm();return Te(e,0),Vt(e,this.keyClockEncoder.toUint8Array()),Vt(e,this.clientEncoder.toUint8Array()),Vt(e,this.leftClockEncoder.toUint8Array()),Vt(e,this.rightClockEncoder.toUint8Array()),Vt(e,ro(this.infoEncoder)),Vt(e,this.stringEncoder.toUint8Array()),Vt(e,ro(this.parentInfoEncoder)),Vt(e,this.typeRefEncoder.toUint8Array()),Vt(e,this.lenEncoder.toUint8Array()),Zm(e,ro(this.restEncoder)),ro(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){za(this.restEncoder,e)}writeBuf(e){Vt(this.restEncoder,e)}writeJSON(e){za(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const GG=(t,e,n,o)=>{o=Ji(o,e[0].id.clock);const r=ao(e,o);Te(t.restEncoder,e.length-r),t.writeClient(n),Te(t.restEncoder,o);const s=e[r];s.write(t,o-s.id.clock);for(let a=r+1;a<e.length;a++)e[a].write(t,0)},qG=(t,e,n)=>{const o=new Map;n.forEach((r,s)=>{Tt(e,s)>r&&o.set(s,r)}),ag(e).forEach((r,s)=>{n.has(s)||o.set(s,0)}),Te(t.restEncoder,o.size),Yi(o.entries()).sort((r,s)=>s[0]-r[0]).forEach(([r,s])=>{GG(t,e.clients.get(r),r,s)})},YG=(t,e)=>qG(t,e.doc.store,e.beforeState);class JG{constructor(){this.l=[]}}const $S=()=>new JG,LS=(t,e)=>t.l.push(e),VS=(t,e)=>{const n=t.l,o=n.length;t.l=n.filter(r=>e!==r),o===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},FS=(t,e,n)=>tg(t.l,[e,n]);class vd{constructor(e,n){this.client=e,this.clock=n}}const Nd=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,Be=(t,e)=>new vd(t,e),ja=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw Zo()};class Id{constructor(e,n,o,r=0){this.type=e,this.tname=n,this.item=o,this.assoc=r}}const Bd=(t,e,n)=>{let o=null,r=null;return t._item===null?r=ja(t):o=Be(t._item.id.client,t._item.id.clock),new Id(o,r,e,n)},ig=(t,e,n=0)=>{let o=t._start;if(n<0){if(e===0)return Bd(t,null,n);e--}for(;o!==null;){if(!o.deleted&&o.countable){if(o.length>e)return Bd(t,Be(o.id.client,o.id.clock+e),n);e-=o.length}if(o.right===null&&n<0)return Bd(t,o.lastId,n);o=o.right}return Bd(t,null,n)},Qi=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!BS(e.ds,t.id),sg=(t,e)=>{const n=Gi(t.meta,sg,qi),o=t.doc.store;n.has(e)||(e.sv.forEach((r,s)=>{r<Tt(o,s)&&Qo(t,Be(s,r))}),IS(t,e.ds,r=>{}),n.add(e))};class XG{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const ag=t=>{const e=new Map;return t.clients.forEach((n,o)=>{const r=n[n.length-1];e.set(o,r.id.clock+r.length)}),e},Tt=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const o=n[n.length-1];return o.id.clock+o.length},zS=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const o=n[n.length-1];if(o.id.clock+o.length!==e.id.clock)throw Zo()}n.push(e)},ao=(t,e)=>{let n=0,o=t.length-1,r=t[o],s=r.id.clock;if(s===e)return o;let a=zr(e/(s+r.length-1)*o);for(;n<=o;){if(r=t[a],s=r.id.clock,s<=e){if(e<s+r.length)return a;n=a+1}else o=a-1;a=zr((n+o)/2)}throw Zo()},lg=(t,e)=>{const n=t.clients.get(e.client);return n[ao(n,e.clock)]},cg=(t,e,n)=>{const o=ao(e,n),r=e[o];return r.id.clock<n&&r instanceof Ft?(e.splice(o+1,0,pE(t,r,n-r.id.clock)),o+1):o},Qo=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[cg(t,n,e.clock)]},HS=(t,e,n)=>{const o=e.clients.get(n.client),r=ao(o,n.clock),s=o[r];return n.clock!==s.id.clock+s.length-1&&s.constructor!==tr&&o.splice(r+1,0,pE(t,s,n.clock-s.id.clock+1)),s},ZG=(t,e,n)=>{const o=t.clients.get(e.id.client);o[ao(o,e.id.clock)]=n},US=(t,e,n,o,r)=>{if(o===0)return;const s=n+o;let a=cg(t,e,n),l;do l=e[a++],s<l.id.clock+l.length&&cg(t,e,s),r(l);while(a<e.length&&e[a].id.clock<s)};class QG{constructor(e,n,o){this.doc=e,this.deleteSet=new FG,this.beforeState=ag(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=o,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const jS=(t,e)=>e.deleteSet.clients.size===0&&!FK(e.afterState,(n,o)=>e.beforeState.get(o)!==n)?!1:(RS(e.deleteSet),YG(t,e),HG(t,e.deleteSet),!0),WS=(t,e,n)=>{const o=e._item;(o===null||o.id.clock<(t.beforeState.get(o.id.client)||0)&&!o.deleted)&&Gi(t.changed,e,qi).add(n)},Rd=(t,e)=>{let n=t[e],o=t[e-1],r=e;for(;r>0;n=o,o=t[--r-1]){if(o.deleted===n.deleted&&o.constructor===n.constructor&&o.mergeWith(n)){n instanceof Ft&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,o);continue}break}const s=e-r;return s&&t.splice(e+1-s,s),s},eq=(t,e,n)=>{for(const[o,r]of t.clients.entries()){const s=e.clients.get(o);for(let a=r.length-1;a>=0;a--){const l=r[a],c=l.clock+l.len;for(let d=ao(s,l.clock),u=s[d];d<s.length&&u.id.clock<c;u=s[++d]){const f=s[d];if(l.clock+l.len<=f.id.clock)break;f instanceof Ft&&f.deleted&&!f.keep&&n(f)&&f.gc(e,!1)}}}},tq=(t,e)=>{t.clients.forEach((n,o)=>{const r=e.clients.get(o);for(let s=n.length-1;s>=0;s--){const a=n[s],l=cS(r.length-1,1+ao(r,a.clock+a.len-1));for(let c=l,d=r[c];c>0&&d.id.clock>=a.clock;d=r[c])c-=1+Rd(r,c)}})},KS=(t,e)=>{if(e<t.length){const n=t[e],o=n.doc,r=o.store,s=n.deleteSet,a=n._mergeStructs;try{RS(s),n.afterState=ag(n.doc.store),o.emit("beforeObserverCalls",[n,o]);const l=[];n.changed.forEach((c,d)=>l.push(()=>{(d._item===null||!d._item.deleted)&&d._callObserver(n,c)})),l.push(()=>{n.changedParentTypes.forEach((c,d)=>{d._dEH.l.length>0&&(d._item===null||!d._item.deleted)&&(c=c.filter(u=>u.target._item===null||!u.target._item.deleted),c.forEach(u=>{u.currentTarget=d,u._path=null}),c.sort((u,f)=>u.path.length-f.path.length),FS(d._dEH,c,n))})}),l.push(()=>o.emit("afterTransaction",[n,o])),tg(l,[]),n._needFormattingCleanup&&pq(n)}finally{o.gc&&eq(s,r,o.gcFilter),tq(s,r),n.afterState.forEach((u,f)=>{const p=n.beforeState.get(f)||0;if(p!==u){const h=r.clients.get(f),m=Ji(ao(h,p),1);for(let g=h.length-1;g>=m;)g-=1+Rd(h,g)}});for(let u=a.length-1;u>=0;u--){const{client:f,clock:p}=a[u].id,h=r.clients.get(f),m=ao(h,p);m+1<h.length&&Rd(h,m+1)>1||m>0&&Rd(h,m)}if(!n.local&&n.afterState.get(o.clientID)!==n.beforeState.get(o.clientID)&&(DG(og,AS,"[yjs] ",TS,MS,"Changed the client-id because another client seems to be using it."),o.clientID=DS()),o.emit("afterTransactionCleanup",[n,o]),o._observers.has("update")){const u=new jG;jS(u,n)&&o.emit("update",[u.toUint8Array(),n.origin,o,n])}if(o._observers.has("updateV2")){const u=new KG;jS(u,n)&&o.emit("updateV2",[u.toUint8Array(),n.origin,o,n])}const{subdocsAdded:l,subdocsLoaded:c,subdocsRemoved:d}=n;(l.size>0||d.size>0||c.size>0)&&(l.forEach(u=>{u.clientID=o.clientID,u.collectionid==null&&(u.collectionid=o.collectionid),o.subdocs.add(u)}),d.forEach(u=>o.subdocs.delete(u)),o.emit("subdocs",[{loaded:c,added:l,removed:d},o,n]),d.forEach(u=>u.destroy())),t.length<=e+1?(o._transactionCleanups=[],o.emit("afterAllTransactions",[o,t])):KS(t,e+1)}}},Re=(t,e,n=null,o=!0)=>{const r=t._transactionCleanups;let s=!1,a=null;t._transaction===null&&(s=!0,t._transaction=new QG(t,n,o),r.push(t._transaction),r.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{a=e(t._transaction)}finally{if(s){const l=t._transaction===r[0];t._transaction=null,l&&KS(r,0)}}return a},GS="You must not compute changes after the event-handler fired.";class Pd{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=nq(this.currentTarget,this.target))}deletes(e){return BS(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw Zi(GS);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(r=>{if(r!==null){const s=n._map.get(r);let a,l;if(this.adds(s)){let c=s.left;for(;c!==null&&this.adds(c);)c=c.left;if(this.deletes(s))if(c!==null&&this.deletes(c))a="delete",l=jm(c.content.getContent());else return;else c!==null&&this.deletes(c)?(a="update",l=jm(c.content.getContent())):(a="add",l=void 0)}else if(this.deletes(s))a="delete",l=jm(s.content.getContent());else return;e.set(r,{action:a,oldValue:l})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw Zi(GS);const n=this.target,o=qi(),r=qi(),s=[];if(e={added:o,deleted:r,delta:s,keys:this.keys},this.transaction.changed.get(n).has(null)){let l=null;const c=()=>{l&&s.push(l)};for(let d=n._start;d!==null;d=d.right)d.deleted?this.deletes(d)&&!this.adds(d)&&((l===null||l.delete===void 0)&&(c(),l={delete:0}),l.delete+=d.length,r.add(d)):this.adds(d)?((l===null||l.insert===void 0)&&(c(),l={insert:[]}),l.insert=l.insert.concat(d.content.getContent()),o.add(d)):((l===null||l.retain===void 0)&&(c(),l={retain:0}),l.retain+=d.length);l!==null&&l.retain===void 0&&c()}this._changes=e}return e}}const nq=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let o=0,r=e._item.parent._start;for(;r!==e._item&&r!==null;)!r.deleted&&r.countable&&(o+=r.length),r=r.right;n.unshift(o)}e=e._item.parent}return n},dt=()=>{$G("Invalid access: Add Yjs type to a document before reading data.")},qS=80;let dg=0;class oq{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=dg++}}const rq=t=>{t.timestamp=dg++},YS=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=dg++},iq=(t,e,n)=>{if(t.length>=qS){const o=t.reduce((r,s)=>r.timestamp<s.timestamp?r:s);return YS(o,e,n),o}else{const o=new oq(e,n);return t.push(o),o}},Dd=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((s,a)=>Ad(e-s.index)<Ad(e-a.index)?s:a);let o=t._start,r=0;for(n!==null&&(o=n.p,r=n.index,rq(n));o.right!==null&&r<e;){if(!o.deleted&&o.countable){if(e<r+o.length)break;r+=o.length}o=o.right}for(;o.left!==null&&r>e;)o=o.left,!o.deleted&&o.countable&&(r-=o.length);for(;o.left!==null&&o.left.id.client===o.id.client&&o.left.id.clock+o.left.length===o.id.clock;)o=o.left,!o.deleted&&o.countable&&(r-=o.length);return n!==null&&Ad(n.index-r)<o.parent.length/qS?(YS(n,o,r),n):iq(t._searchMarker,o,r)},Wa=(t,e,n)=>{for(let o=t.length-1;o>=0;o--){const r=t[o];if(n>0){let s=r.p;for(s.marker=!1;s&&(s.deleted||!s.countable);)s=s.left,s&&!s.deleted&&s.countable&&(r.index-=s.length);if(s===null||s.marker===!0){t.splice(o,1);continue}r.p=s,s.marker=!0}(e<r.index||n>0&&e===r.index)&&(r.index=Ji(e,r.index+n))}},$d=(t,e,n)=>{const o=t,r=e.changedParentTypes;for(;Gi(r,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;FS(o._eH,n,e)};class st{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=$S(),this._dEH=$S(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw In()}clone(){throw In()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){LS(this._eH,e)}observeDeep(e){LS(this._dEH,e)}unobserve(e){VS(this._eH,e)}unobserveDeep(e){VS(this._dEH,e)}toJSON(){}}const JS=(t,e,n)=>{t.doc??dt(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let o=n-e;const r=[];let s=t._start;for(;s!==null&&o>0;){if(s.countable&&!s.deleted){const a=s.content.getContent();if(a.length<=e)e-=a.length;else{for(let l=e;l<a.length&&o>0;l++)r.push(a[l]),o--;e=0}}s=s.right}return r},XS=t=>{t.doc??dt();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const o=n.content.getContent();for(let r=0;r<o.length;r++)e.push(o[r])}n=n.right}return e},Ka=(t,e)=>{let n=0,o=t._start;for(t.doc??dt();o!==null;){if(o.countable&&!o.deleted){const r=o.content.getContent();for(let s=0;s<r.length;s++)e(r[s],n++,t)}o=o.right}},ZS=(t,e)=>{const n=[];return Ka(t,(o,r)=>{n.push(e(o,r,t))}),n},sq=t=>{let e=t._start,n=null,o=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),o=0,e=e.right}const r=n[o++];return n.length<=o&&(n=null),{done:!1,value:r}}}},QS=(t,e)=>{t.doc??dt();const n=Dd(t,e);let o=t._start;for(n!==null&&(o=n.p,e-=n.index);o!==null;o=o.right)if(!o.deleted&&o.countable){if(e<o.length)return o.content.getContent()[e];e-=o.length}},Ld=(t,e,n,o)=>{let r=n;const s=t.doc,a=s.clientID,l=s.store,c=n===null?e._start:n.right;let d=[];const u=()=>{d.length>0&&(r=new Ft(Be(a,Tt(l,a)),r,r&&r.lastId,c,c&&c.id,e,null,new rs(d)),r.integrate(t,0),d=[])};o.forEach(f=>{if(f===null)d.push(f);else switch(f.constructor){case Number:case Object:case Boolean:case Array:case String:d.push(f);break;default:switch(u(),f.constructor){case Uint8Array:case ArrayBuffer:r=new Ft(Be(a,Tt(l,a)),r,r&&r.lastId,c,c&&c.id,e,null,new Ud(new Uint8Array(f))),r.integrate(t,0);break;case Ua:r=new Ft(Be(a,Tt(l,a)),r,r&&r.lastId,c,c&&c.id,e,null,new Wd(f)),r.integrate(t,0);break;default:if(f instanceof st)r=new Ft(Be(a,Tt(l,a)),r,r&&r.lastId,c,c&&c.id,e,null,new nr(f)),r.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),u()},eE=()=>Zi("Length exceeded!"),tE=(t,e,n,o)=>{if(n>e._length)throw eE();if(n===0)return e._searchMarker&&Wa(e._searchMarker,n,o.length),Ld(t,e,null,o);const r=n,s=Dd(e,n);let a=e._start;for(s!==null&&(a=s.p,n-=s.index,n===0&&(a=a.prev,n+=a&&a.countable&&!a.deleted?a.length:0));a!==null;a=a.right)if(!a.deleted&&a.countable){if(n<=a.length){n<a.length&&Qo(t,Be(a.id.client,a.id.clock+n));break}n-=a.length}return e._searchMarker&&Wa(e._searchMarker,r,o.length),Ld(t,e,a,o)},aq=(t,e,n)=>{let r=(e._searchMarker||[]).reduce((s,a)=>a.index>s.index?a:s,{index:0,p:e._start}).p;if(r)for(;r.right;)r=r.right;return Ld(t,e,r,n)},nE=(t,e,n,o)=>{if(o===0)return;const r=n,s=o,a=Dd(e,n);let l=e._start;for(a!==null&&(l=a.p,n-=a.index);l!==null&&n>0;l=l.right)!l.deleted&&l.countable&&(n<l.length&&Qo(t,Be(l.id.client,l.id.clock+n)),n-=l.length);for(;o>0&&l!==null;)l.deleted||(o<l.length&&Qo(t,Be(l.id.client,l.id.clock+o)),l.delete(t),o-=l.length),l=l.right;if(o>0)throw eE();e._searchMarker&&Wa(e._searchMarker,r,-s+o)},Vd=(t,e,n)=>{const o=e._map.get(n);o!==void 0&&o.delete(t)},ug=(t,e,n,o)=>{const r=e._map.get(n)||null,s=t.doc,a=s.clientID;let l;if(o==null)l=new rs([o]);else switch(o.constructor){case Number:case Object:case Boolean:case Array:case String:l=new rs([o]);break;case Uint8Array:l=new Ud(o);break;case Ua:l=new Wd(o);break;default:if(o instanceof st)l=new nr(o);else throw new Error("Unexpected content type")}new Ft(Be(a,Tt(s.store,a)),r,r&&r.lastId,null,null,e,n,l).integrate(t,0)},fg=(t,e)=>{t.doc??dt();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},oE=t=>{const e={};return t.doc??dt(),t._map.forEach((n,o)=>{n.deleted||(e[o]=n.content.getContent()[n.length-1])}),e},rE=(t,e)=>{t.doc??dt();const n=t._map.get(e);return n!==void 0&&!n.deleted},lq=(t,e)=>{const n={};return t._map.forEach((o,r)=>{let s=o;for(;s!==null&&(!e.sv.has(s.id.client)||s.id.clock>=(e.sv.get(s.id.client)||0));)s=s.left;s!==null&&Qi(s,e)&&(n[r]=s.content.getContent()[s.length-1])}),n},Fd=t=>(t.doc??dt(),LG(t._map.entries(),e=>!e[1].deleted));class cq extends Pd{}class Ga extends st{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new Ga;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Ga}clone(){const e=new Ga;return e.insert(0,this.toArray().map(n=>n instanceof st?n.clone():n)),e}get length(){return this.doc??dt(),this._length}_callObserver(e,n){super._callObserver(e,n),$d(this,e,new cq(this,e))}insert(e,n){this.doc!==null?Re(this.doc,o=>{tE(o,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?Re(this.doc,n=>{aq(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?Re(this.doc,o=>{nE(o,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return QS(this,e)}toArray(){return XS(this)}slice(e=0,n=this.length){return JS(this,e,n)}toJSON(){return this.map(e=>e instanceof st?e.toJSON():e)}map(e){return ZS(this,e)}forEach(e){Ka(this,e)}[Symbol.iterator](){return sq(this)}_write(e){e.writeTypeRef(wq)}}class dq extends Pd{constructor(e,n,o){super(e,n),this.keysChanged=o}}class zd extends st{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((o,r)=>{this.set(r,o)}),this._prelimContent=null}_copy(){return new zd}clone(){const e=new zd;return this.forEach((n,o)=>{e.set(o,n instanceof st?n.clone():n)}),e}_callObserver(e,n){$d(this,e,new dq(this,e,n))}toJSON(){this.doc??dt();const e={};return this._map.forEach((n,o)=>{if(!n.deleted){const r=n.content.getContent()[n.length-1];e[o]=r instanceof st?r.toJSON():r}}),e}get size(){return[...Fd(this)].length}keys(){return rg(Fd(this),e=>e[0])}values(){return rg(Fd(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return rg(Fd(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??dt(),this._map.forEach((n,o)=>{n.deleted||e(n.content.getContent()[n.length-1],o,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?Re(this.doc,n=>{Vd(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?Re(this.doc,o=>{ug(o,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return fg(this,e)}has(e){return rE(this,e)}clear(){this.doc!==null?Re(this.doc,e=>{this.forEach(function(n,o,r){Vd(e,r,o)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(Cq)}}const er=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&xG(t,e);class pg{constructor(e,n,o,r){this.left=e,this.right=n,this.index=o,this.currentAttributes=r}forward(){switch(this.right===null&&Zo(),this.right.content.constructor){case Ze:this.right.deleted||es(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const iE=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case Ze:e.right.deleted||es(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&Qo(t,Be(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},Hd=(t,e,n,o)=>{const r=new Map,s=o?Dd(e,n):null;if(s){const a=new pg(s.p.left,s.p,s.index,r);return iE(t,a,n-s.index)}else{const a=new pg(null,e._start,0,r);return iE(t,a,n)}},sE=(t,e,n,o)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===Ze&&er(o.get(n.right.content.key),n.right.content.value));)n.right.deleted||o.delete(n.right.content.key),n.forward();const r=t.doc,s=r.clientID;o.forEach((a,l)=>{const c=n.left,d=n.right,u=new Ft(Be(s,Tt(r.store,s)),c,c&&c.lastId,d,d&&d.id,e,null,new Ze(l,a));u.integrate(t,0),n.right=u,n.forward()})},es=(t,e)=>{const{key:n,value:o}=e;o===null?t.delete(n):t.set(n,o)},aE=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===Ze&&er(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},lE=(t,e,n,o)=>{const r=t.doc,s=r.clientID,a=new Map;for(const l in o){const c=o[l],d=n.currentAttributes.get(l)??null;if(!er(d,c)){a.set(l,d);const{left:u,right:f}=n;n.right=new Ft(Be(s,Tt(r.store,s)),u,u&&u.lastId,f,f&&f.id,e,null,new Ze(l,c)),n.right.integrate(t,0),n.forward()}}return a},hg=(t,e,n,o,r)=>{n.currentAttributes.forEach((p,h)=>{r[h]===void 0&&(r[h]=null)});const s=t.doc,a=s.clientID;aE(n,r);const l=lE(t,e,n,r),c=o.constructor===String?new lo(o):o instanceof st?new nr(o):new ns(o);let{left:d,right:u,index:f}=n;e._searchMarker&&Wa(e._searchMarker,n.index,c.getLength()),u=new Ft(Be(a,Tt(s.store,a)),d,d&&d.lastId,u,u&&u.id,e,null,c),u.integrate(t,0),n.right=u,n.index=f,n.forward(),sE(t,e,n,l)},cE=(t,e,n,o,r)=>{const s=t.doc,a=s.clientID;aE(n,r);const l=lE(t,e,n,r);e:for(;n.right!==null&&(o>0||l.size>0&&(n.right.deleted||n.right.content.constructor===Ze));){if(!n.right.deleted)switch(n.right.content.constructor){case Ze:{const{key:c,value:d}=n.right.content,u=r[c];if(u!==void 0){if(er(u,d))l.delete(c);else{if(o===0)break e;l.set(c,d)}n.right.delete(t)}else n.currentAttributes.set(c,d);break}default:o<n.right.length&&Qo(t,Be(n.right.id.client,n.right.id.clock+o)),o-=n.right.length;break}n.forward()}if(o>0){let c="";for(;o>0;o--)c+=`
`;n.right=new Ft(Be(a,Tt(s.store,a)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new lo(c)),n.right.integrate(t,0),n.forward()}sE(t,e,n,l)},dE=(t,e,n,o,r)=>{let s=e;const a=Nn();for(;s&&(!s.countable||s.deleted);){if(!s.deleted&&s.content.constructor===Ze){const d=s.content;a.set(d.key,d)}s=s.right}let l=0,c=!1;for(;e!==s;){if(n===e&&(c=!0),!e.deleted){const d=e.content;switch(d.constructor){case Ze:{const{key:u,value:f}=d,p=o.get(u)??null;(a.get(u)!==d||p===f)&&(e.delete(t),l++,!c&&(r.get(u)??null)===f&&p!==f&&(p===null?r.delete(u):r.set(u,p))),!c&&!e.deleted&&es(r,d);break}}}e=e.right}return l},uq=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===Ze){const o=e.content.key;n.has(o)?e.delete(t):n.add(o)}e=e.left}},fq=t=>{let e=0;return Re(t.doc,n=>{let o=t._start,r=t._start,s=Nn();const a=Um(s);for(;r;){if(r.deleted===!1)switch(r.content.constructor){case Ze:es(a,r.content);break;default:e+=dE(n,o,r,s,a),s=Um(a),o=r;break}r=r.right}}),e},pq=t=>{const e=new Set,n=t.doc;for(const[o,r]of t.afterState.entries()){const s=t.beforeState.get(o)||0;r!==s&&US(t,n.store.clients.get(o),s,r,a=>{!a.deleted&&a.content.constructor===Ze&&a.constructor!==tr&&e.add(a.parent)})}Re(n,o=>{IS(t,t.deleteSet,r=>{if(r instanceof tr||!r.parent._hasFormatting||e.has(r.parent))return;const s=r.parent;r.content.constructor===Ze?e.add(s):uq(o,r)});for(const r of e)fq(r)})},uE=(t,e,n)=>{const o=n,r=Um(e.currentAttributes),s=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case nr:case ns:case lo:n<e.right.length&&Qo(t,Be(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}s&&dE(t,s,e.right,r,e.currentAttributes);const a=(e.left||e.right).parent;return a._searchMarker&&Wa(a._searchMarker,e.index,-o+n),e};class hq extends Pd{constructor(e,n,o){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,o.forEach(r=>{r===null?this.childListChanged=!0:this.keysChanged.add(r)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];Re(e,o=>{const r=new Map,s=new Map;let a=this.target._start,l=null;const c={};let d="",u=0,f=0;const p=()=>{if(l!==null){let h=null;switch(l){case"delete":f>0&&(h={delete:f}),f=0;break;case"insert":(typeof d=="object"||d.length>0)&&(h={insert:d},r.size>0&&(h.attributes={},r.forEach((m,g)=>{m!==null&&(h.attributes[g]=m)}))),d="";break;case"retain":u>0&&(h={retain:u},wG(c)||(h.attributes=gG({},c))),u=0;break}h&&n.push(h),l=null}};for(;a!==null;){switch(a.content.constructor){case nr:case ns:this.adds(a)?this.deletes(a)||(p(),l="insert",d=a.content.getContent()[0],p()):this.deletes(a)?(l!=="delete"&&(p(),l="delete"),f+=1):a.deleted||(l!=="retain"&&(p(),l="retain"),u+=1);break;case lo:this.adds(a)?this.deletes(a)||(l!=="insert"&&(p(),l="insert"),d+=a.content.str):this.deletes(a)?(l!=="delete"&&(p(),l="delete"),f+=a.length):a.deleted||(l!=="retain"&&(p(),l="retain"),u+=a.length);break;case Ze:{const{key:h,value:m}=a.content;if(this.adds(a)){if(!this.deletes(a)){const g=r.get(h)??null;er(g,m)?m!==null&&a.delete(o):(l==="retain"&&p(),er(m,s.get(h)??null)?delete c[h]:c[h]=m)}}else if(this.deletes(a)){s.set(h,m);const g=r.get(h)??null;er(g,m)||(l==="retain"&&p(),c[h]=g)}else if(!a.deleted){s.set(h,m);const g=c[h];g!==void 0&&(er(g,m)?g!==null&&a.delete(o):(l==="retain"&&p(),m===null?delete c[h]:c[h]=m))}a.deleted||(l==="insert"&&p(),es(r,a.content));break}}a=a.right}for(p();n.length>0;){const h=n[n.length-1];if(h.retain!==void 0&&h.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class qa extends st{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??dt(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(o=>o())}catch(o){console.error(o)}this._pending=null}_copy(){return new qa}clone(){const e=new qa;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const o=new hq(this,e,n);$d(this,e,o),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??dt();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===lo&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?Re(this.doc,o=>{const r=new pg(null,this._start,0,new Map);for(let s=0;s<e.length;s++){const a=e[s];if(a.insert!==void 0){const l=!n&&typeof a.insert=="string"&&s===e.length-1&&r.right===null&&a.insert.slice(-1)===`
`?a.insert.slice(0,-1):a.insert;(typeof l!="string"||l.length>0)&&hg(o,this,r,l,a.attributes||{})}else a.retain!==void 0?cE(o,this,r,a.retain,a.attributes||{}):a.delete!==void 0&&uE(o,r,a.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,o){this.doc??dt();const r=[],s=new Map,a=this.doc;let l="",c=this._start;function d(){if(l.length>0){const f={};let p=!1;s.forEach((m,g)=>{p=!0,f[g]=m});const h={insert:l};p&&(h.attributes=f),r.push(h),l=""}}const u=()=>{for(;c!==null;){if(Qi(c,e)||n!==void 0&&Qi(c,n))switch(c.content.constructor){case lo:{const f=s.get("ychange");e!==void 0&&!Qi(c,e)?(f===void 0||f.user!==c.id.client||f.type!=="removed")&&(d(),s.set("ychange",o?o("removed",c.id):{type:"removed"})):n!==void 0&&!Qi(c,n)?(f===void 0||f.user!==c.id.client||f.type!=="added")&&(d(),s.set("ychange",o?o("added",c.id):{type:"added"})):f!==void 0&&(d(),s.delete("ychange")),l+=c.content.str;break}case nr:case ns:{d();const f={insert:c.content.getContent()[0]};if(s.size>0){const p={};f.attributes=p,s.forEach((h,m)=>{p[m]=h})}r.push(f);break}case Ze:Qi(c,e)&&(d(),es(s,c.content));break}c=c.right}d()};return e||n?Re(a,f=>{e&&sg(f,e),n&&sg(f,n),u()},"cleanup"):u(),r}insert(e,n,o){if(n.length<=0)return;const r=this.doc;r!==null?Re(r,s=>{const a=Hd(s,this,e,!o);o||(o={},a.currentAttributes.forEach((l,c)=>{o[c]=l})),hg(s,this,a,n,o)}):this._pending.push(()=>this.insert(e,n,o))}insertEmbed(e,n,o){const r=this.doc;r!==null?Re(r,s=>{const a=Hd(s,this,e,!o);hg(s,this,a,n,o||{})}):this._pending.push(()=>this.insertEmbed(e,n,o||{}))}delete(e,n){if(n===0)return;const o=this.doc;o!==null?Re(o,r=>{uE(r,Hd(r,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,o){if(n===0)return;const r=this.doc;r!==null?Re(r,s=>{const a=Hd(s,this,e,!1);a.right!==null&&cE(s,this,a,n,o)}):this._pending.push(()=>this.format(e,n,o))}removeAttribute(e){this.doc!==null?Re(this.doc,n=>{Vd(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?Re(this.doc,o=>{ug(o,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return fg(this,e)}getAttributes(){return oE(this)}_write(e){e.writeTypeRef(kq)}}class mg{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??dt()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===Ya||n.constructor===ts)&&n._start!==null)e=n._start;else for(;e!==null;){const o=e.next;if(o!==null){e=o;break}else e.parent===this._root?e=null:e=e.parent._item}while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class ts extends st{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new ts}clone(){const e=new ts;return e.insert(0,this.toArray().map(n=>n instanceof st?n.clone():n)),e}get length(){return this.doc??dt(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new mg(this,e)}querySelector(e){e=e.toUpperCase();const o=new mg(this,r=>r.nodeName&&r.nodeName.toUpperCase()===e).next();return o.done?null:o.value}querySelectorAll(e){return e=e.toUpperCase(),Yi(new mg(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){$d(this,e,new mq(this,n,e))}toString(){return ZS(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},o){const r=e.createDocumentFragment();return o!==void 0&&o._createAssociation(r,this),Ka(this,s=>{r.insertBefore(s.toDOM(e,n,o),null)}),r}insert(e,n){this.doc!==null?Re(this.doc,o=>{tE(o,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)Re(this.doc,o=>{const r=e&&e instanceof st?e._item:e;Ld(o,this,r,n)});else{const o=this._prelimContent,r=e===null?0:o.findIndex(s=>s===e)+1;if(r===0&&e!==null)throw Zi("Reference item not found");o.splice(r,0,...n)}}delete(e,n=1){this.doc!==null?Re(this.doc,o=>{nE(o,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return XS(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return QS(this,e)}slice(e=0,n=this.length){return JS(this,e,n)}forEach(e){Ka(this,e)}_write(e){e.writeTypeRef(Sq)}}class Ya extends ts{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((o,r)=>{this.setAttribute(r,o)}),this._prelimAttrs=null}_copy(){return new Ya(this.nodeName)}clone(){const e=new Ya(this.nodeName),n=this.getAttributes();return bG(n,(o,r)=>{typeof o=="string"&&e.setAttribute(r,o)}),e.insert(0,this.toArray().map(o=>o instanceof st?o.clone():o)),e}toString(){const e=this.getAttributes(),n=[],o=[];for(const l in e)o.push(l);o.sort();const r=o.length;for(let l=0;l<r;l++){const c=o[l];n.push(c+'="'+e[c]+'"')}const s=this.nodeName.toLocaleLowerCase(),a=n.length>0?" "+n.join(" "):"";return`<${s}${a}>${super.toString()}</${s}>`}removeAttribute(e){this.doc!==null?Re(this.doc,n=>{Vd(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?Re(this.doc,o=>{ug(o,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return fg(this,e)}hasAttribute(e){return rE(this,e)}getAttributes(e){return e?lq(this,e):oE(this)}toDOM(e=document,n={},o){const r=e.createElement(this.nodeName),s=this.getAttributes();for(const a in s){const l=s[a];typeof l=="string"&&r.setAttribute(a,l)}return Ka(this,a=>{r.appendChild(a.toDOM(e,n,o))}),o!==void 0&&o._createAssociation(r,this),r}_write(e){e.writeTypeRef(xq),e.writeKey(this.nodeName)}}class mq extends Pd{constructor(e,n,o){super(e,o),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(r=>{r===null?this.childListChanged=!0:this.attributesChanged.add(r)})}}class Ja extends qa{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new Ja}clone(){const e=new Ja;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,o){const r=e.createTextNode(this.toString());return o!==void 0&&o._createAssociation(r,this),r}toString(){return this.toDelta().map(e=>{const n=[];for(const r in e.attributes){const s=[];for(const a in e.attributes[r])s.push({key:a,value:e.attributes[r][a]});s.sort((a,l)=>a.key<l.key?-1:1),n.push({nodeName:r,attrs:s})}n.sort((r,s)=>r.nodeName<s.nodeName?-1:1);let o="";for(let r=0;r<n.length;r++){const s=n[r];o+=`<${s.nodeName}`;for(let a=0;a<s.attrs.length;a++){const l=s.attrs[a];o+=` ${l.key}="${l.value}"`}o+=">"}o+=e.insert;for(let r=n.length-1;r>=0;r--)o+=`</${n[r].nodeName}>`;return o}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(Eq)}}class fE{constructor(e,n){this.id=e,this.length=n}get deleted(){throw In()}mergeWith(e){return!1}write(e,n,o){throw In()}integrate(e,n){throw In()}}const gq=0;class tr extends fE{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),zS(e.doc.store,this)}write(e,n){e.writeInfo(gq),e.writeLen(this.length-n)}getMissing(e,n){return null}}class Ud{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Ud(this.content)}splice(e){throw In()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}class jd{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new jd(this.len)}splice(e){const n=new jd(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){PS(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const yq=(t,e)=>new Ua({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class Wd{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Wd(yq(this.doc.guid,this.opts))}splice(e){throw In()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}class ns{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new ns(this.embed)}splice(e){throw In()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}class Ze{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Ze(this.key,this.value)}splice(e){throw In()}mergeWith(e){return!1}integrate(e,n){const o=n.parent;o._searchMarker=null,o._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const bq=Od("node_env")==="development";class rs{constructor(e){this.arr=e,bq&&ES(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new rs(this.arr)}splice(e){const n=new rs(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const o=this.arr.length;e.writeLen(o-n);for(let r=n;r<o;r++){const s=this.arr[r];e.writeAny(s)}}getRef(){return 8}}class lo{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new lo(this.str)}splice(e){const n=new lo(this.str.slice(e));this.str=this.str.slice(0,e);const o=this.str.charCodeAt(e-1);return o>=55296&&o<=56319&&(this.str=this.str.slice(0,e-1)+"",n.str=""+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const wq=0,Cq=1,kq=2,xq=3,Sq=4,Eq=6;class nr{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new nr(this.type._copy())}splice(e){throw In()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(o=>{o.deleted?o.id.clock<(e.beforeState.get(o.id.client)||0)&&e._mergeStructs.push(o):o.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(o=>{for(;o!==null;)o.gc(e,!0),o=o.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const pE=(t,e,n)=>{const{client:o,clock:r}=e.id,s=new Ft(Be(o,r+n),e,Be(o,r+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&s.markDeleted(),e.keep&&(s.keep=!0),e.redone!==null&&(s.redone=Be(e.redone.client,e.redone.clock+n)),e.right=s,s.right!==null&&(s.right.left=s),t._mergeStructs.push(s),s.parentSub!==null&&s.right===null&&s.parent._map.set(s.parentSub,s),e.length=n,s};let Ft=class G1 extends fE{constructor(e,n,o,r,s,a,l,c){super(e,c.getLength()),this.origin=o,this.left=n,this.right=r,this.rightOrigin=s,this.parent=a,this.parentSub=l,this.redone=null,this.content=c,this.info=this.content.isCountable()?uS:0}set marker(e){(this.info&Km)>0!==e&&(this.info^=Km)}get marker(){return(this.info&Km)>0}get keep(){return(this.info&dS)>0}set keep(e){this.keep!==e&&(this.info^=dS)}get countable(){return(this.info&uS)>0}get deleted(){return(this.info&Wm)>0}set deleted(e){this.deleted!==e&&(this.info^=Wm)}markDeleted(){this.info|=Wm}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Tt(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Tt(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===vd&&this.id.client!==this.parent.client&&this.parent.clock>=Tt(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=HS(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Qo(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===tr||this.right&&this.right.constructor===tr)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===G1?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===G1&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===vd){const o=lg(n,this.parent);o.constructor===tr?this.parent=null:this.parent=o.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=HS(e,e.doc.store,Be(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let o=this.left,r;if(o!==null)r=o.right;else if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start;const s=new Set,a=new Set;for(;r!==null&&r!==this.right;){if(a.add(r),s.add(r),Nd(this.origin,r.origin)){if(r.id.client<this.id.client)o=r,s.clear();else if(Nd(this.rightOrigin,r.rightOrigin))break}else if(r.origin!==null&&a.has(lg(e.doc.store,r.origin)))s.has(lg(e.doc.store,r.origin))||(o=r,s.clear());else break;r=r.right}this.left=o}if(this.left!==null){const o=this.left.right;this.right=o,this.left.right=this}else{let o;if(this.parentSub!==null)for(o=this.parent._map.get(this.parentSub)||null;o!==null&&o.left!==null;)o=o.left;else o=this.parent._start,this.parent._start=this;this.right=o}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),zS(e.doc.store,this),this.content.integrate(e,this),WS(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new tr(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:Be(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&Nd(e.origin,this.lastId)&&this.right===e&&Nd(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(o=>{o.p===e&&(o.p=this,!this.deleted&&this.countable&&(o.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),PS(e.deleteSet,this.id.client,this.id.clock,this.length),WS(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw Zo();this.content.gc(e),n?ZG(e,this,new tr(this.id,this.length)):this.content=new jd(this.length)}write(e,n){const o=n>0?Be(this.id.client,this.id.clock+n-1):this.origin,r=this.rightOrigin,s=this.parentSub,a=this.content.getRef()&WK|(o===null?0:Td)|(r===null?0:fS)|(s===null?0:jK);if(e.writeInfo(a),o!==null&&e.writeLeftID(o),r!==null&&e.writeRightID(r),o===null&&r===null){const l=this.parent;if(l._item!==void 0){const c=l._item;if(c===null){const d=ja(l);e.writeParentInfo(!0),e.writeString(d)}else e.writeParentInfo(!1),e.writeLeftID(c.id)}else l.constructor===String?(e.writeParentInfo(!0),e.writeString(l)):l.constructor===vd?(e.writeParentInfo(!1),e.writeLeftID(l)):Zo();s!==null&&e.writeString(s)}this.content.write(e,n)}};const hE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},mE="__ $YJS$ __";hE[mE]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438"),hE[mE]=!0;const _q=new me("y-sync");new me("y-undo"),new me("yjs-cursor");const Aq=(t,e,n)=>{if(t===0)return ig(e,0,-1);let o=e._first===null?null:e._first.content.type;for(;o!==null&&e!==o;){if(o instanceof Ja){if(o._length>=t)return ig(o,t,-1);if(t-=o._length,o._item!==null&&o._item.next!==null)o=o._item.next.content.type;else{do o=o._item===null?null:o._item.parent,t--;while(o!==e&&o!==null&&o._item!==null&&o._item.next===null);o!==null&&o!==e&&(o=o._item===null?null:o._item.next.content.type)}}else{const r=(n.get(o)||{nodeSize:0}).nodeSize;if(o._first!==null&&t<r)o=o._first.content.type,t--;else{if(t===1&&o._length===0&&r>1)return new Id(o._item===null?null:o._item.id,o._item===null?ja(o):null,null);if(t-=r,o._item!==null&&o._item.next!==null)o=o._item.next.content.type;else{if(t===0)return o=o._item===null?o:o._item.parent,new Id(o._item===null?null:o._item.id,o._item===null?ja(o):null,null);do o=o._item.parent,t--;while(o!==e&&o._item.next===null);o!==e&&(o=o._item.next.content.type)}}}if(o===null)throw Zo();if(t===0&&o.constructor!==Ja&&o!==e)return Tq(o._item.parent,o._item)}return ig(e,e._length,-1)},Tq=(t,e)=>{let n=null,o=null;return t._item===null?o=ja(t):n=Be(t._item.id.client,t._item.id.clock),new Id(n,o,e.id)};function gg(t,e,n){const o=[],r=t.node(0);n=typeof n=="number"&&n>=0?n:t.sameParent(e)?Math.max(0,t.sharedDepth(e.pos)-1):t.sharedDepth(e.pos);const s=new As(t,e,n),a=s.depth===0?0:r.resolve(s.start).posAtIndex(0);return s.parent.forEach((l,c)=>{const d=a+c,u=d+l.nodeSize;if(d<s.start||d>=s.end)return;const f=new Nf(r.resolve(d),r.resolve(u));o.push(f)}),o}class yg{constructor(e,n){Cl(this,"anchor");Cl(this,"head");this.anchor=e,this.head=n}map(e){return new yg(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),o=e.resolve(this.head);return new Rn(n,o)}}class Rn extends Z{constructor(n,o,r,s=1){const{doc:a}=n,l=n===o,c=n.pos===a.content.size&&o.pos===a.content.size,d=l&&!c?a.resolve(o.pos+(s>0?1:-1)):o,u=l&&c?a.resolve(n.pos-(s>0?1:-1)):n,f=gg(u.min(d),u.max(d),r);super(d.pos>=n.pos?f[0].$from:f[f.length-1].$to,d.pos>=n.pos?f[f.length-1].$to:f[0].$from,f);Cl(this,"depth");this.depth=r}get $to(){return this.ranges[this.ranges.length-1].$to}eq(n){return n instanceof Rn&&n.$from.pos===this.$from.pos&&n.$to.pos===this.$to.pos}map(n,o){const r=n.resolve(o.map(this.anchor)),s=n.resolve(o.map(this.head));return new Rn(r,s)}toJSON(){return{type:"nodeRange",anchor:this.anchor,head:this.head}}get isForwards(){return this.head>=this.anchor}get isBackwards(){return!this.isForwards}extendBackwards(){const{doc:n}=this.$from;if(this.isForwards&&this.ranges.length>1){const s=this.ranges.slice(0,-1),a=s[0].$from,l=s[s.length-1].$to;return new Rn(a,l,this.depth)}const o=this.ranges[0],r=n.resolve(Math.max(0,o.$from.pos-1));return new Rn(this.$anchor,r,this.depth)}extendForwards(){const{doc:n}=this.$from;if(this.isBackwards&&this.ranges.length>1){const s=this.ranges.slice(1),a=s[0].$from,l=s[s.length-1].$to;return new Rn(l,a,this.depth)}const o=this.ranges[this.ranges.length-1],r=n.resolve(Math.min(n.content.size,o.$to.pos+1));return new Rn(this.$anchor,r,this.depth)}static fromJSON(n,o){return new Rn(n.resolve(o.anchor),n.resolve(o.head))}static create(n,o,r,s,a=1){return new this(n.resolve(o),n.resolve(r),s,a)}getBookmark(){return new yg(this.anchor,this.head)}}function Mq(t){const e=t.cloneNode(!0),n=[t,...Array.from(t.getElementsByTagName("*"))],o=[e,...Array.from(e.getElementsByTagName("*"))];return n.forEach((r,s)=>{o[s].style.cssText=function(a){let l="";const c=getComputedStyle(a);for(let d=0;d<c.length;d+=1)l+=`${c[d]}:${c.getPropertyValue(c[d])};`;return l}(r)}),e}function Kd(t,e){return window.getComputedStyle(t)[e]}function Oq(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function gE(t){t.parentNode!==null&&t.parentNode!==void 0&&t.parentNode.removeChild(t)}const yE=t=>{const{x:e,y:n,direction:o,editor:r}=t;let s=null,a=null,l=null,c=e;for(;a===null&&c<window.innerWidth&&c>0;){const d=document.elementsFromPoint(c,n),u=d.findIndex(p=>p.classList.contains("ProseMirror")),f=d.slice(0,u);if(f.length>0){const p=f[0];if(s=p,l=r.view.posAtDOM(p,0),l>=0){a=r.state.doc.nodeAt(Math.max(l-1,0)),(a===null||a.isText)&&(a=r.state.doc.nodeAt(Math.max(l-1,0))),a||(a=r.state.doc.nodeAt(Math.max(l,0)));break}}o==="left"?c-=1:c+=1}return{resultElement:s,resultNode:a,pos:l!==null?l:null}};function vq(t,e){const{doc:n}=e.view.state,o=yE({editor:e,x:t.clientX,y:t.clientY,direction:"right"});if(!o.resultNode||o.pos===null)return[];const r=t.clientX,s=function(u,f,p){const h=parseInt(Kd(u.dom,"paddingLeft"),10),m=parseInt(Kd(u.dom,"paddingRight"),10),g=parseInt(Kd(u.dom,"borderLeftWidth"),10),y=parseInt(Kd(u.dom,"borderLeftWidth"),10),b=u.dom.getBoundingClientRect();return{left:Oq(f,b.left+h+g,b.right-m-y),top:p}}(e.view,r,t.clientY),a=e.view.posAtCoords(s);if(!a)return[];const{pos:l}=a;if(!n.resolve(l).parent)return[];const c=n.resolve(o.pos),d=n.resolve(o.pos+1);return gg(c,d,0)}const bE=(t,e)=>{const n=t.resolve(e),{depth:o}=n;return o===0?e:n.pos-n.parentOffset-1},wE=(t,e)=>{const n=t.nodeAt(e),o=t.resolve(e);let{depth:r}=o,s=n;for(;r>0;){const a=o.node(r);r-=1,r===0&&(s=a)}return s},bg=(t,e)=>{const n=_q.getState(t);return n?Aq(e,n.type,n.binding.mapping):null},CE=(t,e)=>{let n=e;for(;n&&n.parentNode&&n.parentNode!==t.dom;)n=n.parentNode;return n},Nq=new me("dragHandle"),Iq=({pluginKey:t=Nq,element:e,editor:n,tippyOptions:o,onNodeChange:r})=>{const s=document.createElement("div");let a=null,l=!1,c=null,d=-1;return e.addEventListener("dragstart",u=>{const{view:f}=n;if(!u.dataTransfer)return;const{empty:p,$from:h,$to:m}=f.state.selection,g=vq(u,n),y=gg(h,m,0),b=y.some(_=>g.find(A=>A.$from===_.$from&&A.$to===_.$to)),C=p||!b?g:y;if(!C.length)return;const{tr:k}=f.state,w=document.createElement("div"),x=C[0].$from.pos,S=C[C.length-1].$to.pos,E=Rn.create(f.state.doc,x,S),T=E.content();C.forEach(_=>{const A=Mq(f.nodeDOM(_.$from.pos));w.append(A)}),w.style.position="absolute",w.style.top="-10000px",document.body.append(w),u.dataTransfer.clearData(),u.dataTransfer.setDragImage(w,0,0),f.dragging={slice:T,move:!0},k.setSelection(E),f.dispatch(k),document.addEventListener("drop",()=>gE(w),{once:!0}),setTimeout(()=>{e&&(e.style.pointerEvents="none")},0)}),e.addEventListener("dragend",()=>{e&&(e.style.pointerEvents="auto")}),new he({key:typeof t=="string"?new me(t):t,state:{init:()=>({locked:!1}),apply(u,f,p,h){const m=u.getMeta("lockDragHandle"),g=u.getMeta("hideDragHandle");if(m!==void 0&&(l=m),g&&a)return a.hide(),l=!1,c=null,d=-1,r==null||r({editor:n,node:null,pos:-1}),f;if(u.docChanged&&d!==-1&&e&&a){const y=u.mapping.map(d);y!==d&&(d=y,bg(h.doc,d))}return f}},view:u=>{return f(),p(n.view.dom),a=Ro(u.dom,{...h(),...o}),{update(w,x){if(!m(e,a)||(e.draggable=!l,!g(w,x)))return;const S=y(w);S&&b(w,S)},destroy(){k()}};function f(){e.draggable=!0,e.style.pointerEvents="auto"}function p(w){var x;(x=w.parentElement)==null||x.appendChild(s),s.appendChild(e),Object.assign(s.style,{pointerEvents:"none",position:"absolute",top:"0",left:"0"})}function h(){return{getReferenceClientRect:null,interactive:!0,trigger:"manual",placement:"left-start",hideOnClick:!1,duration:100,zIndex:10,appendTo:s,content:e,popperOptions:{modifiers:[{name:"flip",enabled:!1},{name:"preventOverflow",options:{rootBoundary:"document",mainAxis:!1}}]}}}function m(w,x){return w&&x}function g(w,x){return!w.state.doc.eq(x.doc)&&d!==-1}function y(w){let x=w.nodeDOM(d);return x=CE(w,x),x===w.dom||(x==null?void 0:x.nodeType)!==1?null:x}function b(w,x){const S=w.posAtDOM(x,0),E=wE(n.state.doc,S);if(E===c)return;const T=bE(n.state.doc,S);c=E,d=T,bg(n.state.doc,d),r==null||r({editor:n,node:c,pos:d}),C(x)}function C(w){a.setProps({getReferenceClientRect:()=>w.getBoundingClientRect()}),a.show()}function k(){a==null||a.destroy(),e&&gE(s)}},props:{handleDOMEvents:{mouseleave:(u,f)=>{if(l||!p(f))return!1;return h(),m(),!1;function p(g){return g.target&&!s.contains(g.relatedTarget)}function h(){a==null||a.hide()}function m(){c=null,d=-1,r==null||r({editor:n,node:null,pos:-1})}},mousemove:J2((u,f)=>{if(!e||!a||l)return!1;const p=yE({x:f.clientX,y:f.clientY,direction:"right",editor:n});if(!p.resultElement||p.resultElement===u.dom)return!1;const h=CE(u,p.resultElement);if(h===u.dom||(h==null?void 0:h.nodeType)!==1)return!1;const m=u.posAtDOM(h,0),g=wE(n.state.doc,m);if(g===c)return!1;const y=bE(n.state.doc,m);return c=g,d=y,bg(u.state,d),r==null||r({editor:n,node:c,pos:d}),a.setProps({getReferenceClientRect:()=>h.getBoundingClientRect()}),a.show(),!1},100)}}})},Bq=i.defineComponent({__name:"DropdownMenu",props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const r=fe(t,e);return(s,a)=>(i.openBlock(),i.createBlock(i.unref(SH),i.normalizeProps(i.guardReactiveProps(i.unref(r))),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16))}}),Rq=i.defineComponent({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=fe(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(hm),null,{default:i.withCtx(()=>[i.createVNode(i.unref(_H),i.mergeProps(i.unref(s),{class:i.unref(ne)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),is=i.defineComponent({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=We(n);return(r,s)=>(i.openBlock(),i.createBlock(i.unref(AH),i.mergeProps(i.unref(o),{class:i.unref(ne)("relative flex cursor-default select-none items-center rounded-sm gap-2 px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50  [&>svg]:size-4 [&>svg]:shrink-0",r.inset&&"pl-8",e.class)}),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default")]),_:3},16,["class"]))}}),Pq=i.defineComponent({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(TH),i.mergeProps(n.value,{class:i.unref(ne)("-mx-1 my-1 h-px bg-muted",e.class)}),null,16,["class"]))}}),kE=i.defineComponent({__name:"DropdownMenuSub",props:{defaultOpen:{type:Boolean},open:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const r=fe(t,e);return(s,a)=>(i.openBlock(),i.createBlock(i.unref(vH),i.normalizeProps(i.guardReactiveProps(i.unref(r))),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16))}}),xE=i.defineComponent({__name:"DropdownMenuSubContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},sideOffset:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=fe(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(NH),i.mergeProps(i.unref(s),{class:i.unref(ne)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),SE=i.defineComponent({__name:"DropdownMenuSubTrigger",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=We(n);return(r,s)=>(i.openBlock(),i.createBlock(i.unref(IH),i.mergeProps(i.unref(o),{class:i.unref(ne)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e.class)}),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default"),i.createVNode(i.unref(Yj),{class:"ml-auto h-4 w-4"})]),_:3},16,["class"]))}}),Dq=i.defineComponent({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const n=We(t);return(o,r)=>(i.openBlock(),i.createBlock(i.unref(EH),i.mergeProps({class:"outline-none"},i.unref(n)),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16))}});var co=(t=>(t[t.max=7]="max",t[t.min=0]="min",t[t.more=1]="more",t[t.less=-1]="less",t))(co||{});function $q(t,e,n){return t<e?e:t>n?n:t}function Lq(t,e,n,o){const{doc:r,selection:s}=t;if(!r||!s||!(s instanceof J||s instanceof pt))return t;const{from:a,to:l}=s;return r.nodesBetween(a,l,(c,d)=>{const u=c.type;return n.includes(u.name)?(t=wg(t,d,e),!1):!Sp(c.type.name,o.extensionManager.extensions)}),t}function wg(t,e,n){if(!t.doc)return t;const o=t.doc.nodeAt(e);if(!o)return t;const a=$q((o.attrs.indent||0)+n,0,7);if(a===o.attrs.indent)return t;const l={...o.attrs,indent:a};return t.setNodeMarkup(e,o.type,l,o.marks)}function EE({delta:t,types:e}){return({state:n,dispatch:o,editor:r})=>{const{selection:s}=n;let{tr:a}=n;return a=a.setSelection(s),a=Lq(a,t,e,r),a.docChanged?(o&&o(a),!0):!1}}const Vq={class:"flex items-center gap-0.5",style:{"transition-property":"top, left","transition-timing-function":"ease-in-out","transition-duration":"0.2s"}},Fq={class:"ml-auto text-xs text-neutral-400"},zq={class:"ml-auto text-xs text-neutral-400"},Hq={class:"ml-auto text-xs text-neutral-400"},Uq={class:"ml-auto text-xs text-neutral-400"},jq={class:"ml-auto text-xs text-neutral-400"},Wq=i.defineComponent({__name:"ContentMenu",props:{className:{default:"drag-handle"},editor:{},disabled:{type:Boolean,default:!1},pluginKey:{default:"ContentItemMenu"}},setup(t){const e=t,{t:n}=Ee(),o=i.ref(null),r=i.ref(null),s=i.ref(null),a=i.ref(-1),l=i.ref(!1);i.onMounted(()=>{o.value&&!e.editor.isDestroyed&&(r.value=Iq({editor:e.editor,element:o.value,pluginKey:e.pluginKey,tippyOptions:{offset:[-2,16],zIndex:9,moveTransition:"transform 0.15s ease-out"},onNodeChange:g}),e.editor.registerPlugin(r.value))}),i.onUnmounted(()=>{r.value&&e.editor.unregisterPlugin(e.pluginKey)});function c(){var C;const b=e.editor.chain();b.setNodeSelection(a.value).unsetAllMarks(),((C=s.value)==null?void 0:C.type.name)!=="paragraph"&&b.setParagraph(),b.run()}function d(){e.editor.commands.setNodeSelection(a.value),document.execCommand("copy")}function u(){var k;e.editor.commands.setNodeSelection(a.value);const{$anchor:b}=e.editor.state.selection,C=b.node(1)||e.editor.state.selection.node;e.editor.chain().setMeta("hideDragHandle",!0).insertContentAt(a.value+(((k=s.value)==null?void 0:k.nodeSize)||0),C.toJSON()).focus().run()}function f(b){e.editor.chain().setTextAlign(b).run()}function p(){const b=wg(e.editor.state.tr,a.value,1);b.setMeta("hideDragHandle",!0),e.editor.view.dispatch&&e.editor.view.dispatch(b)}function h(){const b=wg(e.editor.state.tr,a.value,-1);e.editor.view.dispatch&&e.editor.view.dispatch(b)}function m(){e.editor.chain().setMeta("hideDragHandle",!0).setNodeSelection(a.value).deleteSelection().run()}function g(b){b.node&&(s.value=b.node),a.value=b.pos}function y(){var b,C,k,w;if(e.editor.isEditable&&a.value!==-1){const x=((b=s.value)==null?void 0:b.nodeSize)||0,S=a.value+x,E=((C=s.value)==null?void 0:C.type.name)==="paragraph"&&((w=(k=s.value)==null?void 0:k.content)==null?void 0:w.size)===0,T=E?a.value+2:S+2;e.editor.chain().command(({dispatch:_,tr:A,state:M})=>_?(E?A.insertText("/",a.value,a.value+1):A.insert(S,M.schema.nodes.paragraph.create(null,[M.schema.text("/")])),_(A)):!0).focus(T).run()}}return i.watch(()=>l.value,b=>{b?(e.editor.commands.setHighlightParagraph(a.value),e.editor.commands.setMeta("lockDragHandle",!0)):(e.editor.commands.clearHighlightParagraph(),e.editor.commands.setMeta("lockDragHandle",!1))}),i.watch(()=>e.editor.isDestroyed,b=>{b&&r.value&&(e.editor.unregisterPlugin(e.pluginKey),r.value=null)}),(b,C)=>{const k=LK;return i.withDirectives((i.openBlock(),i.createElementBlock("div",{class:i.normalizeClass(b.className),ref_key:"dragElement",ref:o,style:{"transition-property":"top, left","transition-timing-function":"ease-in-out","transition-duration":"0.2s"}},[i.createElementVNode("div",Vq,[i.unref(we)(b.editor,"slashCommand")?(i.openBlock(),i.createBlock(i.unref(it),{key:0,variant:"ghost",onClick:y,size:"icon",class:"w-7 h-7 cursor-grab rounded-sm",disabled:b.disabled},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{name:"Plus",class:"text-lg text-neutral-600 dark:text-neutral-200"})]),_:1},8,["disabled"])):i.createCommentVNode("",!0),i.createVNode(i.unref(Bq),{open:l.value,"onUpdate:open":C[3]||(C[3]=w=>l.value=w)},{default:i.withCtx(()=>[i.createVNode(i.unref(Dq),{disable:b.disabled},{default:i.withCtx(()=>[i.createVNode(i.unref(fn),{"delay-duration":0},{default:i.withCtx(()=>[i.createVNode(i.unref(dn),null,{default:i.withCtx(()=>[i.createVNode(i.unref(pn),{"as-child":""},{default:i.withCtx(()=>[i.createVNode(i.unref(it),{variant:"ghost",size:"icon",class:"w-6 h-7 cursor-grab rounded-sm",disabled:b.disabled},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{name:"Grip",class:"text-sm dark:text-neutral-200 text-neutral-600"})]),_:1},8,["disabled"])]),_:1}),i.createVNode(i.unref(un),null,{default:i.withCtx(()=>[i.createElementVNode("p",null,i.toDisplayString(i.unref(n)("editor.draghandle.tooltip")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["disable"]),i.createVNode(i.unref(Rq),{class:"w-48",align:"start",side:"bottom"},{default:i.withCtx(()=>[i.createVNode(i.unref(is),{onClick:m,class:"flex gap-3 focus:text-red-500 focus:bg-red-400 hover:bg-red-400 dark:hover:text-red-500 bg-opacity-10 hover:bg-opacity-20 focus:bg-opacity-30 dark:hover:bg-opacity-20"},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{name:"Trash2"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(n)("editor.remove")),1)]),_:1}),i.createVNode(i.unref(is),{class:"flex gap-3",onClick:c},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{name:"PaintRoller"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(n)("editor.clear.tooltip")),1)]),_:1}),i.createVNode(i.unref(is),{class:"flex gap-3",onClick:d},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{name:"Clipboard"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(n)("editor.copyToClipboard")),1)]),_:1}),i.createVNode(i.unref(is),{class:"flex gap-3",onClick:u},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{name:"Copy"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(n)("editor.copy")),1)]),_:1}),i.unref(we)(b.editor,"textAlign")||i.unref(we)(b.editor,"indent")?(i.openBlock(),i.createBlock(i.unref(Pq),{key:0})):i.createCommentVNode("",!0),i.unref(we)(b.editor,"textAlign")?(i.openBlock(),i.createBlock(i.unref(kE),{key:1},{default:i.withCtx(()=>[i.createVNode(i.unref(SE),{class:"flex gap-3"},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{name:"AlignCenter"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(n)("editor.textalign.tooltip")),1)]),_:1}),i.createVNode(i.unref(hm),null,{default:i.withCtx(()=>[i.createVNode(i.unref(xE),null,{default:i.withCtx(()=>[i.createVNode(k,{"model-value":b.editor.isActive({textAlign:"left"})??!1,class:"flex gap-3",onClick:C[0]||(C[0]=w=>f("left"))},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{name:"AlignLeft"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(n)("editor.textalign.left.tooltip")),1),i.createElementVNode("span",Fq,i.toDisplayString(i.unref(oo)(["Mod","Shift","L"])),1)]),_:1},8,["model-value"]),i.createVNode(k,{"model-value":b.editor.isActive({textAlign:"center"})??!1,class:"flex gap-3",onClick:C[1]||(C[1]=w=>f("center"))},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{name:"AlignCenter"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(n)("editor.textalign.center.tooltip")),1),i.createElementVNode("span",zq,i.toDisplayString(i.unref(oo)(["Mod","Shift","E"])),1)]),_:1},8,["model-value"]),i.createVNode(k,{"model-value":b.editor.isActive({textAlign:"right"})??!1,class:"flex gap-3",onClick:C[2]||(C[2]=w=>f("right"))},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{name:"AlignRight"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(n)("editor.textalign.right.tooltip")),1),i.createElementVNode("span",Hq,i.toDisplayString(i.unref(oo)(["Mod","Shift","R"])),1)]),_:1},8,["model-value"])]),_:1})]),_:1})]),_:1})):i.createCommentVNode("",!0),i.unref(we)(b.editor,"indent")?(i.openBlock(),i.createBlock(i.unref(kE),{key:2},{default:i.withCtx(()=>[i.createVNode(i.unref(SE),{class:"flex gap-3"},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{name:"IndentIncrease"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(n)("editor.indent")),1)]),_:1}),i.createVNode(i.unref(hm),null,{default:i.withCtx(()=>[i.createVNode(i.unref(xE),null,{default:i.withCtx(()=>{var w,x,S,E;return[i.createVNode(i.unref(is),{class:"flex gap-3",onClick:p,disabled:((x=(w=s.value)==null?void 0:w.attrs)==null?void 0:x.indent)>=i.unref(co).max},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{name:"IndentIncrease"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(n)("editor.indent.tooltip")),1),i.createElementVNode("span",Uq,i.toDisplayString(i.unref(oo)(["Tab"])),1)]),_:1},8,["disabled"]),i.createVNode(i.unref(is),{class:"flex gap-3",onClick:h,disabled:((E=(S=s.value)==null?void 0:S.attrs)==null?void 0:E.indent)<=i.unref(co).min},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{name:"IndentDecrease"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(n)("editor.outdent.tooltip")),1),i.createElementVNode("span",jq,i.toDisplayString(i.unref(oo)(["Shift","Tab"])),1)]),_:1},8,["disabled"])]}),_:1})]),_:1})]),_:1})):i.createCommentVNode("",!0)]),_:1})]),_:1},8,["open"])])],2)),[[i.vShow,!b.disabled]])}}}),Kq=ve.create({name:"column",content:"block+",isolating:!0,addAttributes(){return{position:{default:"",parseHTML:t=>t.getAttribute("data-position"),renderHTML:t=>({"data-position":t.position})}}},renderHTML({HTMLAttributes:t}){return["div",ge(t,{"data-type":"column"}),0]},parseHTML(){return[{tag:'div[data-type="column"]'}]}});var Hr=(t=>(t.SidebarLeft="sidebar-left",t.SidebarRight="sidebar-right",t.TwoColumn="two-column",t))(Hr||{});const Gq=ve.create({name:"columns",group:"columns",content:"column+",defining:!0,isolating:!0,addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),layout:"two-column"}},addAttributes(){return{layout:{default:"two-column"}}},addCommands(){return{setColumns:()=>({commands:t})=>(t.insertContent('<div data-type="columns"><div data-type="column" data-position="left"><p></p></div><div data-type="column" data-position="right"><p></p></div></div>'),!0),setLayout:t=>({commands:e})=>e.updateAttributes("columns",{layout:t})}},renderHTML({HTMLAttributes:t}){return["div",{"data-type":"columns",class:`layout-${t.layout}`},0]},parseHTML(){return[{tag:'div[data-type="columns"]'}]},addExtensions(){return[Kq.configure(this.options.columnOptions)]}}),_E=(t,e)=>{const{view:n,state:{selection:{from:o}}}=t,r=document.querySelectorAll(".focus"),s=r.length,l=r[s-1];if(l&&l.getAttribute("data-type")&&l.getAttribute("data-type")===e||l&&l.classList&&l.classList.contains(e))return l;const c=n.domAtPos(o).node;let d=c;for(d.tagName||(d=c.parentElement);d&&!(d.getAttribute("data-type")&&d.getAttribute("data-type")===e)&&!d.classList.contains(e);)d=d.parentElement;return d},qq={class:"p-2 bg-white rounded-lg dark:bg-black shadow-sm border border-neutral-200 dark:border-neutral-800"},Yq={class:"flex gap-1 items-center"},Jq=i.defineComponent({__name:"ColumnsBubbleMenu",props:{editor:{},disabled:{type:Boolean,default:!1}},setup(t){const e=t,n=({editor:l})=>ic(l.view.state,"columns"),o=()=>{const l=_E(e.editor,"columns");return(l==null?void 0:l.getBoundingClientRect())||new DOMRect(-1e3,-1e3,0,0)},r=()=>{e.editor.chain().focus().setLayout(Hr.SidebarLeft).run()},s=()=>{e.editor.chain().focus().setLayout(Hr.SidebarRight).run()},a=()=>{e.editor.chain().focus().setLayout(Hr.TwoColumn).run()};return(l,c)=>(i.openBlock(),i.createBlock(i.unref(Ei),{editor:l.editor,pluginKey:"columns",shouldShow:n,updateDelay:0,"tippy-options":{offset:[0,8],popperOptions:{modifiers:[{name:"flip",enabled:!1}]},getReferenceClientRect:o,plugins:[i.unref(jp)],sticky:"popper"}},{default:i.withCtx(()=>[i.createElementVNode("div",qq,[i.createElementVNode("div",Yq,[i.createVNode(ee,{icon:"PanelLeft",tooltip:"",action:r,isActive:()=>l.editor.isActive("columns",{layout:i.unref(Hr).SidebarLeft}),"tooltip-options":{sideOffset:15}},null,8,["isActive"]),i.createVNode(ee,{icon:"Columns",tooltip:"",action:a,isActive:()=>l.editor.isActive("columns",{layout:i.unref(Hr).TwoColumn}),"tooltip-options":{sideOffset:15}},null,8,["isActive"]),i.createVNode(ee,{icon:"PanelRight",tooltip:"",action:s,isActive:()=>l.editor.isActive("columns",{layout:i.unref(Hr).SidebarRight}),"tooltip-options":{sideOffset:15}},null,8,["isActive"])])])]),_:1},8,["editor","tippy-options"]))}}),Cg=i.defineComponent({__name:"Tabs",props:{defaultValue:{},orientation:{},dir:{},activationMode:{},modelValue:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(t,{emit:e}){const r=fe(t,e);return(s,a)=>(i.openBlock(),i.createBlock(i.unref(uj),i.normalizeProps(i.guardReactiveProps(i.unref(r))),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16))}}),kg=i.defineComponent({__name:"TabsList",props:{loop:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(fj),i.mergeProps(n.value,{class:i.unref(ne)("inline-flex items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e.class)}),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16,["class"]))}}),Xq={class:"truncate"},Xa=i.defineComponent({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=We(n);return(r,s)=>(i.openBlock(),i.createBlock(i.unref(hj),i.mergeProps(i.unref(o),{class:i.unref(ne)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e.class)}),{default:i.withCtx(()=>[i.createElementVNode("span",Xq,[i.renderSlot(r.$slots,"default")])]),_:3},16,["class"]))}}),Zq={class:"border border-neutral-200 dark:border-neutral-800 px-3 py-2 transition-all select-none pointer-events-auto shadow-sm rounded-sm w-auto bg-background"},Qq={class:"flex items-center flex-nowrap whitespace-nowrap h-[26px] justify-start relative gap-0.5"},eY={class:"flex items-center gap-2"},tY={class:"mt-3"},nY=i.defineComponent({__name:"ImageBubbleMenu",props:{editor:{},disabled:{type:Boolean,default:!1}},setup(t){const e=t,{t:n}=Ee(),o=i.ref("100"),r=i.ref(),s=i.ref(),a=i.ref(),l=["left","center","right"],c={left:"AlignLeft",center:"AlignCenter",right:"AlignRight"};function d(w){w==null||w.preventDefault(),e.editor.getAttributes("image").src&&e.editor.chain().focus(void 0,{scrollIntoView:!1}).updateImage({width:r.value?`${r.value}px`:null}).run()}function u(w){const x=Math.max(0,Math.min(100,parseInt(o.value)));e.editor.chain().focus(void 0,{scrollIntoView:!1}).updateImage({width:`${x}%`}).run()}const f=({editor:w})=>ic(w.view.state,"image"),p=i.computed(()=>{const w=_E(e.editor,"node-image");return(w==null?void 0:w.getBoundingClientRect())||new DOMRect(-1e3,-1e3,0,0)});function h(w){e.editor.chain().focus().setTextAlign(w).run()}i.watch(o,()=>{o.value&&u()}),i.watch(()=>e.editor.getAttributes("image"),w=>{w&&(r.value=Math.round(parseFloat(w.originWidth)),s.value=Math.round(parseFloat(w.originHeight)),a.value=w.originWidth/w.originHeight)});function m(){s.value&&a.value?r.value=Math.max(30,Math.round(s.value*a.value)):r.value=null}function g(){r.value&&a.value?s.value=Math.max(20,Math.round(r.value/a.value)):s.value=null}function y(w){h(w)}function b(){const w=e.editor.getAttributes("image"),{flipX:x}=w;e.editor.chain().focus(void 0,{scrollIntoView:!1}).updateImage({flipX:!x}).run()}function C(){const w=e.editor.getAttributes("image"),{flipY:x}=w;e.editor.chain().focus(void 0,{scrollIntoView:!1}).updateImage({flipY:!x}).run()}function k(){const{state:w,dispatch:x}=e.editor.view;Us(w,x)}return(w,x)=>{const S=ee,E=to,T=Xo,_=$a,A=qo,M=Xa,v=kg,L=Cg,z=Jo,D=Yo;return i.openBlock(),i.createBlock(i.unref(Ei),{editor:w.editor,pluginKey:"image-menus-123",shouldShow:f,updateDelay:0,"tippy-options":{offset:[0,8],zIndex:10,popperOptions:{modifiers:[{name:"flip",enabled:!1}]},appendTo:"parent",getReferenceClientRect:i.unref(p).value,plugins:[i.unref(jp)],sticky:"popper"}},{default:i.withCtx(()=>[i.createElementVNode("div",Zq,[i.createElementVNode("div",Qq,[i.createVNode(S,{tooltip:i.unref(n)("editor.image.menu.flipX"),icon:"FlipVertical",action:b},null,8,["tooltip"]),i.createVNode(S,{tooltip:i.unref(n)("editor.image.menu.flipY"),icon:"FlipHorizontal",action:C},null,8,["tooltip"]),i.createVNode(E,{orientation:"vertical",class:"mx-1 me-2 h-[16px]"}),i.createVNode(D,null,{default:i.withCtx(()=>[i.createVNode(T,null,{default:i.withCtx(()=>[i.createVNode(S,{title:i.unref(n)("editor.image.menu.size"),icon:"ImageSize"},null,8,["title"])]),_:1}),i.createVNode(z,{class:"w-84"},{default:i.withCtx(()=>[i.createElementVNode("div",eY,[i.createVNode(_,{for:"maxWidth",class:"whitespace-nowrap"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(n)("editor.image.menu.size.width")),1)]),_:1}),i.createVNode(A,{id:"maxWidth",modelValue:i.unref(r),"onUpdate:modelValue":x[0]||(x[0]=B=>i.isRef(r)?r.value=B:null),type:"number",onInput:g,onKeyup:i.withKeys(d,["enter"]),class:"w-20 h-8 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"},null,8,["modelValue"]),i.createVNode(_,{for:"maxWidth",class:"whitespace-nowrap"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(n)("editor.image.menu.size.height")),1)]),_:1}),i.createVNode(A,{id:"maxWidth",modelValue:i.unref(s),"onUpdate:modelValue":x[1]||(x[1]=B=>i.isRef(s)?s.value=B:null),type:"number",onInput:m,onKeyup:i.withKeys(d,["enter"]),class:"w-20 h-8 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"},null,8,["modelValue"])]),i.createElementVNode("div",tY,[i.createVNode(L,{"model-value":i.unref(o),"onUpdate:modelValue":[x[2]||(x[2]=B=>i.isRef(o)?o.value=B:null),x[3]||(x[3]=B=>{o.value=B})]},{default:i.withCtx(()=>[i.createVNode(v,null,{default:i.withCtx(()=>[(i.openBlock(),i.createElementBlock(i.Fragment,null,i.renderList(["25","50","75","100"],B=>i.createVNode(M,{key:B,value:B},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(B)+"% ",1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["model-value"])])]),_:1})]),_:1}),i.createVNode(E,{orientation:"vertical",class:"mx-1 me-2 h-[16px]"}),(i.openBlock(),i.createElementBlock(i.Fragment,null,i.renderList(l,(B,O)=>i.createVNode(S,{key:O,tooltip:i.unref(n)(`editor.textalign.${B}.tooltip`),icon:c[B],action:()=>y(B),disabled:!w.editor.can().setTextAlign(B),"is-active":()=>w.editor.isActive({textAlign:B})||!1},null,8,["tooltip","icon","action","disabled","is-active"])),64)),i.createVNode(E,{orientation:"vertical",class:"mx-1 me-2 h-[16px]"}),i.createVNode(S,{tooltip:i.unref(n)("editor.remove"),icon:"Trash2",action:k,disabled:!w.editor.isEditable},null,8,["tooltip","disabled"])])])]),_:1},8,["editor","tippy-options"])}}}),Ur=i.defineComponent({__name:"MenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=We(n);return(r,s)=>(i.openBlock(),i.createElementBlock("div",i.mergeProps(i.unref(o),{class:i.unref(ne)("relative flex select-none items-center p-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 hover:bg-accent rounded-sm gap-2",r.inset&&"pl-8",e.class)}),[i.renderSlot(r.$slots,"default")],16))}}),oY={class:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center"},rY={key:0},ss=i.defineComponent({__name:"MenuCheckboxItem",props:{modelValue:{type:Boolean},class:{}},emits:["select"],setup(t,{emit:e}){const n=t,o=e;return(r,s)=>(i.openBlock(),i.createElementBlock("div",{class:i.normalizeClass(i.unref(ne)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 hover:bg-accent",n.class)),onClick:s[0]||(s[0]=a=>o("select"))},[i.createElementVNode("span",oY,[r.modelValue?(i.openBlock(),i.createElementBlock("span",rY,[i.createVNode(i.unref(Ba),{class:"h-4 w-4"})])):i.createCommentVNode("",!0)]),i.renderSlot(r.$slots,"default")],2))}}),xg=i.defineComponent({__name:"MenuSeparator",props:{class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createElementBlock("div",i.mergeProps(n.value,{class:i.unref(ne)("-mx-1 my-1 h-px bg-muted",e.class)}),null,16))}}),AE=i.defineComponent({__name:"MenuShortcut",props:{class:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createElementBlock("span",{class:i.normalizeClass(i.unref(ne)("ml-auto text-xs tracking-widest opacity-60",e.class))},[i.renderSlot(n.$slots,"default")],2))}}),iY={class:"bg-popover mt-3 text-foreground overflow-auto flex-wrap border rounded-md p-3 max-w-60"},sY={class:"flex flex-col gap-1"},aY=i.defineComponent({__name:"AiCompletion",props:{editor:{type:$b,required:!0},completion:{type:String,required:!0}},emits:["generate","close"],setup(t,{emit:e}){const n=t,{t:o}=Ee(),r=e;function s(){const d=n.editor.view.state.selection;n.editor.chain().focus().deleteRange({from:d.from,to:d.to}).insertContent(n.completion,{parseOptions:{preserveWhitespace:!1},updateSelection:!0}).run()}function a(){const{to:d}=n.editor.view.state.selection;d&&n.editor.chain().focus().insertContentAt(d+1,n.completion).run()}function l(){r("generate")}function c(){r("close")}return(d,u)=>(i.openBlock(),i.createElementBlock("div",iY,[i.createElementVNode("div",sY,[i.createVNode(i.unref(Ur),{onClick:s},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{name:"Replace"}),i.createTextVNode(" "+i.toDisplayString(i.unref(o)("editor.AI.replace")),1)]),_:1}),i.createVNode(i.unref(Ur),{onClick:a},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{name:"TextQuote"}),i.createTextVNode(" "+i.toDisplayString(i.unref(o)("editor.AI.insert")),1)]),_:1}),i.createVNode(i.unref(to)),i.createVNode(i.unref(Ur),{onClick:l},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{name:"Redo2"}),i.createTextVNode(" "+i.toDisplayString(i.unref(o)("editor.AI.regenerate")),1)]),_:1}),i.createVNode(i.unref(Ur),{onClick:c},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{name:"Trash2"}),i.createTextVNode(" "+i.toDisplayString(i.unref(o)("editor.AI.close")),1)]),_:1})])]))}}),lY=1,cY=1e6,uo={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Sg=0;function dY(){return Sg=(Sg+1)%Number.MAX_VALUE,Sg.toString()}const Eg=new Map;function TE(t){if(Eg.has(t))return;const e=setTimeout(()=>{Eg.delete(t),Za({type:uo.REMOVE_TOAST,toastId:t})},cY);Eg.set(t,e)}const hn=i.ref({toasts:[]});function Za(t){switch(t.type){case uo.ADD_TOAST:hn.value.toasts=[t.toast,...hn.value.toasts].slice(0,lY);break;case uo.UPDATE_TOAST:hn.value.toasts=hn.value.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e);break;case uo.DISMISS_TOAST:{const{toastId:e}=t;e?TE(e):hn.value.toasts.forEach(n=>{TE(n.id)}),hn.value.toasts=hn.value.toasts.map(n=>n.id===e||e===void 0?{...n,open:!1}:n);break}case uo.REMOVE_TOAST:t.toastId===void 0?hn.value.toasts=[]:hn.value.toasts=hn.value.toasts.filter(e=>e.id!==t.toastId);break}}function as(){return{toasts:i.computed(()=>hn.value.toasts),toast:uY,dismiss:t=>Za({type:uo.DISMISS_TOAST,toastId:t})}}function uY(t){const e=dY(),n=r=>Za({type:uo.UPDATE_TOAST,toast:{...r,id:e}}),o=()=>Za({type:uo.DISMISS_TOAST,toastId:e});return Za({type:uo.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:r=>{r||o()}}}),{id:e,dismiss:o,update:n}}const fY=["onMouseenter","onClick"],pY={key:1,class:"absolute left-full top-0 bg-background shadow-md rounded-sm border border-sm"},hY={class:"p-1 flex flex-col gap-1 min-w-32"},mY=["onMouseenter","onClick"],gY=i.defineComponent({__name:"menu",props:{items:{}},emits:["itemClick"],setup(t,{expose:e,emit:n}){const o=t,r=n,s=i.ref(null),a=i.reactive([]),l=i.ref(0),c=i.ref(-1),d=y=>y.map((b,C)=>{var k;return{...b,isSelected:C===0,children:(k=b.children)==null?void 0:k.map(w=>({...w,isSelected:!1}))}});i.onMounted(()=>{a.splice(0,a.length,...d(o.items)),i.nextTick(()=>{var y;(y=s.value)==null||y.focus()})}),i.watch(()=>o.items,y=>{a.splice(0,a.length,...d(y))},{deep:!0}),e({handleKeyDown:y=>{var C,k;const b=c.value!==-1;switch(y.key){case"ArrowDown":if(y.preventDefault(),b&&a[l.value].children){const x=a[l.value].children;c.value=(c.value+1)%x.length,p()}else l.value=(l.value+1)%a.length,c.value=-1,f();break;case"ArrowUp":if(y.preventDefault(),b&&a[l.value].children){const x=a[l.value].children;c.value=(c.value-1+x.length)%x.length,p()}else l.value=(l.value-1+a.length)%a.length,c.value=-1,f();break;case"ArrowRight":y.preventDefault(),!b&&((C=a[l.value].children)!=null&&C.length)&&(c.value=0,p());break;case"ArrowLeft":y.preventDefault(),b&&(c.value=-1,f());break;case"Enter":y.preventDefault();const w=b?(k=a[l.value].children)==null?void 0:k[c.value]:a[l.value];w&&!w.children&&g(w);break}}});const f=()=>{a.forEach((y,b)=>{y.isSelected=b===l.value,y.children&&y.children.forEach(C=>{C.isSelected=!1})})},p=()=>{const y=a[l.value];y.children&&y.children.forEach((b,C)=>{b.isSelected=C===c.value})},h=y=>{l.value=y,c.value=-1,f()},m=(y,b)=>{l.value=y,c.value=b,p()},g=y=>{y.children||r("itemClick",y)};return(y,b)=>(i.openBlock(),i.createElementBlock("div",{class:"p-1 bg-background rounded-sm outline-none shadow-md border flex flex-col gap-1",tabindex:"0",ref_key:"menuRef",ref:s},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(a,(C,k)=>(i.openBlock(),i.createElementBlock("div",{key:C.label,class:i.normalizeClass(["relative flex items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors cursor-pointer",C.isSelected?"bg-accent text-accent-foreground":"","hover:bg-accent hover:text-accent-foreground"]),onMouseenter:w=>h(k),onClick:w=>g(C)},[i.createElementVNode("span",null,i.toDisplayString(C.label),1),C.children&&C.isSelected?(i.openBlock(),i.createBlock(i.unref(oe),{key:0,name:"ChevronRight",class:"ml-auto h-4 w-4"})):i.createCommentVNode("",!0),C.children&&C.isSelected?(i.openBlock(),i.createElementBlock("div",pY,[i.createElementVNode("div",hY,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(C.children,(w,x)=>(i.openBlock(),i.createElementBlock("div",{key:w.label,class:i.normalizeClass(["flex items-center rounded-sm px-2 py-1.5 text-sm whitespace-nowrap outline-none transition-colors cursor-pointer",w.isSelected?"bg-accent text-accent-foreground":"","hover:bg-accent hover:text-accent-foreground"]),onMouseenter:S=>m(k,x),onClick:S=>g(w)},[i.createElementVNode("span",null,i.toDisplayString(w.label),1)],42,mY))),128))])])):i.createCommentVNode("",!0)],42,fY))),128))],512))}});function yY(t){const e=i.ref(""),n=i.ref("init"),o=i.ref([]),{toast:r}=as(),s=i.ref(null);async function a(d,u){var p,h,m;n.value="generating",e.value="";const f=(p=t.extensionManager.extensions.find(g=>g.name==="AI"))==null?void 0:p.options;try{o.value.length===0?o.value.push({role:"user",content:`Question: ${u} Context:${d}`}):o.value.push({role:"user",content:u}),s.value=new AbortController;const g=await f.completions(o.value,s.value.signal);if(!g)throw new Error("Failed to create stream");let y="";for await(const b of g){const C=((m=(h=b.choices[0])==null?void 0:h.delta)==null?void 0:m.content)||"";e.value+=C,y+=C}return o.value.push({role:"assistant",content:y}),n.value="completed",y}catch(g){throw g.name==="AbortError"?n.value="init":r({title:(g==null?void 0:g.message)||"Failed to generate AI completion",variant:"destructive"}),g}}function l(){e.value="",n.value="init",o.value=[],s.value=null}return{result:e,status:n,conversationHistory:o,handleCompletion:a,resetConversation:l,stopGeneration:()=>{s.value&&(s.value.abort(),s.value=null)}}}const bY=[{label:"editor.AI.shortcuts.generate.title",children:[{label:"editor.AI.shortcuts.generate.improve",prompt:"Rewrite this content with no spelling mistakes, proper grammar, and with more descriptive language, using best writing practices without losing the original meaning."},{label:"editor.AI.shortcuts.generate.shorter",prompt:"Remove any repetitive, redundant, or non-essential writing in this content without changing the meaning or losing any key information."},{label:"editor.AI.shortcuts.generate.longer",prompt:"Expand upon this content with descriptive language and more detailed explanations, to make the writing easier to understand and increase the length of the content."},{label:"editor.AI.shortcuts.generate.summarize",prompt:"Provide the key points and concepts in this content in a succinct summary."},{label:"editor.AI.shortcuts.generate.continue",prompt:"Expand and continue this content, maintaining the original tone and style. Ensure that the continuation flows naturally from the existing writing while adding new ideas, further details, or continuing the narrative or argument in a coherent manner."}]},{label:"editor.AI.shortcuts.tone.title",children:[{label:"editor.AI.shortcuts.tone.professional",prompt:"Rewrite this content using polished, formal, and respectful language to convey professional expertise and competence."},{label:"editor.AI.shortcuts.tone.casual",prompt:"Rewrite this content with casual, informal language to convey a casual conversation with a real person."},{label:"editor.AI.shortcuts.tone.direct",prompt:"Rewrite this content with direct language using only the essential information."},{label:"editor.AI.shortcuts.tone.confident",prompt:"Rewrite this content using compelling, optimistic language to convey confidence in the writing."},{label:"editor.AI.shortcuts.tone.friendly",prompt:"Rewrite this content using friendly, comforting language, to convey understanding and empathy."}]},{label:"editor.AI.shortcuts.style.title",children:[{label:"editor.AI.shortcuts.style.business",prompt:"Rewrite this content as a business professional with formal language."},{label:"editor.AI.shortcuts.style.legal",prompt:"Rewrite this content as a legal professional using valid legal terminology."},{label:"editor.AI.shortcuts.style.journalism",prompt:"Rewrite this content as a journalist using engaging language to convey the importance of the information."},{label:"editor.AI.shortcuts.style.medical",prompt:"Rewrite this content as a medical professional using valid medical terminology."},{label:"editor.AI.shortcuts.style.poetic",prompt:"Rewrite this content as a poem using poetic techniques without losing the original meaning."}]},{label:"editor.AI.shortcuts.translate.title",children:[{label:"editor.AI.shortcuts.translate.english",prompt:"Translate this content to English language."},{label:"editor.AI.shortcuts.translate.chinese",prompt:"Translate this content to Simplified Chinese language."},{label:"editor.AI.shortcuts.translate.spanish",prompt:"Translate this content to Spanish language."},{label:"editor.AI.shortcuts.translate.german",prompt:"Translate this content to German language."},{label:"editor.AI.shortcuts.translate.french",prompt:"Translate this content to French language."},{label:"editor.AI.shortcuts.translate.russian",prompt:"Translate this content to Russian language."},{label:"editor.AI.shortcuts.translate.portuguese",prompt:"Translate this content to Simplified Portuguese language."},{label:"editor.AI.shortcuts.translate.korean",prompt:"Translate this content to Simplified Korean language."},{label:"editor.AI.shortcuts.translate.japanese",prompt:"Translate this content to Simplified Japanese language."},{label:"editor.AI.shortcuts.translate.hindi",prompt:"Translate this content to Simplified Hindi language."},{label:"editor.AI.shortcuts.translate.arabic",prompt:"Translate this content to Simplified Arabic language."}]}],wY={class:"border rounded-sm shadow-sm bg-background"},CY=["innerHTML"],kY={key:0,class:"text_loading_animation border w-full rounded-md pl-10 pr-20 h-12 py-1 flex items-center text-sm text-foreground"},xY={class:"absolute start-0 inset-y-0 flex items-center justify-center px-2"},SY={class:"mt-3 max-w-56"},EY=i.defineComponent({__name:"AIMenu",props:{editor:{},disabled:{type:Boolean,default:!1}},setup(t){const e=t,n=Pt(),o=i.ref(""),r=i.ref(null),s=i.ref(null),{focused:a}=wh(s),l=i.ref(null),{t:c}=Ee(),d=i.ref(!1),u=i.ref(null),f=i.ref(),{result:p,status:h,handleCompletion:m,resetConversation:g,stopGeneration:y}=yY(e.editor),{toast:b}=as(),C=D=>{const B=D.state.selection.content(),$=bo.fromSchema(D.schema).serializeFragment(B.content),N=document.createElement("div");return N.appendChild($),N.innerHTML},k=async()=>{await i.nextTick(),l.value&&(l.value.scrollTop=l.value.scrollHeight)};i.watch(()=>p.value,()=>{k()});async function w(){if(!e.editor){b({title:c.value("editor.AI.error"),description:c.value("editor.AI.editorNotFound"),variant:"destructive"});return}try{h.value="generating";const D=C(e.editor);if(!D.trim()){b({title:c.value("editor.AI.error"),description:c.value("editor.AI.noSelection"),variant:"destructive"});return}await m(D,o.value),r.value={context:D,prompt:o.value},o.value="",await i.nextTick(),a.value=!0}catch(D){b({title:c.value("editor.AI.error"),description:D instanceof Error?D.message:c.value("editor.AI.unknownError"),variant:"destructive"}),_()}}const{bind:x,unbind:S}=Eh("esc",()=>{y(),_()}),E=i.reactive({maxWidth:600,zIndex:99,appendTo:"parent",placement:"bottom-start",onShow(D){u.value=D,x(),setTimeout(()=>{a.value=!0},30)},onHide(){S(),_()},onDestroy(){u.value=null,S()}}),T=i.computed(()=>n==null?void 0:n.state.AIMenu);function _(){o.value="",r.value=null,g(),n.state.AIMenu=!1}function A(){var D,B;if(!((D=r.value)!=null&&D.context)||!((B=r.value)!=null&&B.prompt)){b({title:c.value("editor.AI.error"),description:c.value("editor.AI.noCachedPrompt"),variant:"destructive"});return}try{h.value="generating",g(),m(r.value.context,r.value.prompt).then(()=>{k()}).catch(O=>{b({title:c.value("editor.AI.error"),description:O instanceof Error?O.message:c.value("editor.AI.regenerateError"),variant:"destructive"}),_()})}catch(O){b({title:c.value("editor.AI.error"),description:O instanceof Error?O.message:c.value("editor.AI.unknownError"),variant:"destructive"}),_()}}function M(){if(h.value==="init"&&o.value===""){_();return}d.value=!0,setTimeout(()=>{d.value=!1},820)}function v(D){if(!e.editor){b({title:c.value("editor.AI.error"),description:c.value("editor.AI.editorNotFound"),variant:"destructive"});return}try{const B=C(e.editor),O=D;r.value={context:B,prompt:O.prompt},h.value="generating",m(B,O.prompt).then(()=>{k(),a.value=!0}).catch($=>{b({title:c.value("editor.AI.error"),description:$ instanceof Error?$.message:c.value("editor.AI.shortcutError"),variant:"destructive"}),_()})}catch(B){b({title:c.value("editor.AI.error"),description:B instanceof Error?B.message:c.value("editor.AI.unknownError"),variant:"destructive"}),_()}}const L=i.computed(()=>{var O,$,N;const D=(N=($=(O=e.editor)==null?void 0:O.extensionManager.extensions.find(I=>I.name==="AI"))==null?void 0:$.options)==null?void 0:N.shortcuts;return((D==null?void 0:D.length)>0?D:bY).map(I=>{var F;return{...I,label:c.value(I.label),children:(F=I.children)==null?void 0:F.map(j=>({...j,label:c.value(j.label)}))}})});function z(D){var B;h.value==="init"&&L.value.length&&!o.value&&((B=f.value)==null||B.handleKeyDown(D))}return(D,B)=>i.withDirectives((i.openBlock(),i.createElementBlock("div",{class:"absolute left-0 right-0 top-0 bottom-0",style:i.normalizeStyle({zIndex:i.unref(h)==="init"&&o.value===""?-1:98}),onClick:M},[i.withDirectives(i.createVNode(i.unref(Ei),{pluginKey:"AIMenu","update-delay":0,editor:D.editor,"tippy-options":E},{default:i.withCtx(()=>[i.createElementVNode("div",{onKeydown:z,class:i.normalizeClass(["relative w-[450px] z-[99]",{"shake-animation":d.value}])},[i.withDirectives(i.createElementVNode("div",wY,[i.createElementVNode("div",{ref_key:"resultContainer",ref:l,class:"p-4 line-height-none block overflow-y-auto",style:{"max-height":"210px"}},[i.createElementVNode("div",{class:"text-sm text-foreground EchoContentView",style:{padding:0,minHeight:"auto"},innerHTML:i.unref(p)},null,8,CY)],512)],512),[[i.vShow,(i.unref(h)==="generating"||i.unref(h)==="completed")&&i.unref(p)]]),i.createElementVNode("form",{onSubmit:w,class:"relative w-full items-center flex bg-background mt-3 rounded-md shadow-sm"},[i.unref(h)==="generating"?(i.openBlock(),i.createElementBlock("div",kY,i.toDisplayString(i.unref(c)("editor.AI.generating")),1)):(i.openBlock(),i.createBlock(i.unref(qo),{key:1,modelValue:o.value,"onUpdate:modelValue":B[0]||(B[0]=O=>o.value=O),ref_key:"inputRef",ref:s,placeholder:i.unref(c)("editor.AI.placeholder"),class:"pl-10 pr-20 h-12 outline-none ring-0 focus-visible:ring-0"},null,8,["modelValue","placeholder"])),i.createElementVNode("span",xY,[i.createVNode(i.unref(oe),{name:"Sparkles",class:"w-5 h-5"})]),i.unref(h)==="generating"?(i.openBlock(),i.createBlock(i.unref(it),{key:2,variant:"secondary",class:"absolute end-0 inset-y-0 flex items-center justify-center px-2 h-[32px] m-2",onClick:_},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(c)("editor.AI.stop")),1)]),_:1})):(i.openBlock(),i.createBlock(i.unref(it),{key:3,disabled:!o.value,onClick:w,class:"absolute end-0 inset-y-0 flex items-center justify-center px-2 w-[32px] h-[32px] m-2 rounded-full"},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{name:"ArrowUp",class:"w-5 h-5 font-bold"})]),_:1},8,["disabled"]))],32),i.withDirectives(i.createElementVNode("div",SY,[i.createVNode(gY,{ref_key:"menuRef",ref:f,items:L.value,onItemClick:v},null,8,["items"])],512),[[i.vShow,i.unref(h)==="init"&&L.value.length&&!o.value]]),i.unref(h)==="completed"&&o.value===""?(i.openBlock(),i.createBlock(aY,{key:0,onClose:_,onGenerate:A,editor:D.editor,completion:i.unref(p)},null,8,["editor","completion"])):i.createCommentVNode("",!0)],34)]),_:1},8,["editor","tippy-options"]),[[i.vShow,T.value]])],4)),[[i.vShow,T.value]])}}),ME=(t,e)=>{const n=t.__vccOpts||t;for(const[o,r]of e)n[o]=r;return n},_Y=ME(EY,[["__scopeId","data-v-fb08a448"]]),AY=i.defineComponent({__name:"Menubar",props:{modelValue:{},defaultValue:{},dir:{},loop:{type:Boolean},class:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=fe(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(HH),i.mergeProps(i.unref(s),{class:i.unref(ne)("flex h-9 items-center space-x-1 rounded-md border bg-background p-1 shadow-sm",n.class)}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),TY={class:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center"},MY=i.defineComponent({__name:"MenubarCheckboxItem",props:{modelValue:{type:[Boolean,String]},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},emits:["select","update:modelValue"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=fe(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(JH),i.mergeProps(i.unref(s),{class:i.unref(ne)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n.class)}),{default:i.withCtx(()=>[i.createElementVNode("span",TY,[i.createVNode(i.unref(XH),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Ba),{class:"w-4 h-4"})]),_:1})]),i.renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),OY=i.defineComponent({__name:"MenubarContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:8},align:{default:"start"},alignOffset:{default:-4},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=We(n);return(r,s)=>(i.openBlock(),i.createBlock(i.unref(KH),null,{default:i.withCtx(()=>[i.createVNode(i.unref(GH),i.mergeProps(i.unref(o),{class:i.unref(ne)("z-50 min-w-48 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e.class)}),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),vY=i.defineComponent({__name:"MenubarItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},emits:["select"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=fe(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(qH),i.mergeProps(i.unref(s),{class:i.unref(ne)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a.inset&&"pl-8",n.class)}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),NY=i.defineComponent({__name:"MenubarMenu",props:{value:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(jH),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),IY=i.defineComponent({__name:"MenubarSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=We(n);return(r,s)=>(i.openBlock(),i.createBlock(i.unref(YH),i.mergeProps({class:i.unref(ne)("-mx-1 my-1 h-px bg-muted",e.class)},i.unref(o)),null,16,["class"]))}}),OE=i.defineComponent({__name:"MenubarShortcut",props:{class:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createElementBlock("span",{class:i.normalizeClass(i.unref(ne)("ml-auto text-xs tracking-widest text-muted-foreground",e.class))},[i.renderSlot(n.$slots,"default")],2))}}),BY=i.defineComponent({__name:"MenubarTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=We(n);return(r,s)=>(i.openBlock(),i.createBlock(i.unref(WH),i.mergeProps(i.unref(o),{class:i.unref(ne)("flex cursor-default select-none items-center rounded-sm px-3 py-1 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e.class)}),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default")]),_:3},16,["class"]))}});function _g(t){const{from:e,to:n,empty:o}=t.state.selection;return o?"":t.state.doc.textBetween(e,n,"")}const Gd="echo-editor-draft",RY=i.defineComponent({__name:"Menubars",props:{editor:{},disabled:{type:Boolean,default:!1}},setup(t){const{t:e}=Ee(),n=t,o=Pt(),r=i.computed(()=>n.editor.extensionManager.extensions.map(y=>y.name)),s=y=>y?y.every(b=>r.value.includes(b)):!0,a=i.computed(()=>p.value.map(y=>{const b=y.children.filter(k=>s(k.requiredExtensions)),C=b.reduce((k,w,x)=>{var S;return x===0&&w.separator||x===b.length-1&&w.separator||w.separator&&((S=k[k.length-1])!=null&&S.separator)||w.separator&&!b.slice(x+1).some(T=>!T.separator)||k.push(w),k},[]);return{...y,children:C}}).filter(y=>y.children.length>0)),l=()=>{const y=n.editor.getHTML();y&&!n.editor.isEmpty&&localStorage.setItem(Gd,y)},c=()=>{var b;const y=localStorage.getItem(Gd);y&&((b=n.editor)==null||b.chain().setContent(y,!0).focus().run())},d=()=>{n.editor.chain().clearContent(!0).focus().run()},u=()=>!!localStorage.getItem(Gd),f=()=>{localStorage.removeItem(Gd)},p=i.ref([{title:"editor.menubar.file",children:[{title:"editor.menubar.menu.newDoc",icon:"File",disabled:()=>!n.editor.isEditable,action:()=>{l(),d()}},{title:"editor.menubar.menu.restoreLastDraft",icon:"Refresh",disabled:()=>!u()||!n.editor.isEditable,action:()=>{c(),f()}},{separator:!0},{title:"editor.menubar.menu.preview",icon:"Eye",action:()=>{var y;(y=n.editor)==null||y.chain().togglePreview().focus().run()},requiredExtensions:["preview"]},{separator:!0},{title:"editor.importWord.tooltip",icon:"Word",disabled:()=>!n.editor.isEditable,action:()=>{n.editor.chain().toggleImportWord().focus().run()},requiredExtensions:["importWord"]},{separator:!0},{title:"editor.menubar.menu.print",icon:"Printer",shortcut:["mod","P"],requiredExtensions:["printer"],action:()=>{o.state.printer=!0}}]},{title:"editor.menubar.edit",children:[{title:"editor.undo.tooltip",icon:"Undo2",shortcut:["mod","Z"],disabled:()=>!n.editor.can().undo()||!n.editor.isEditable,action:()=>{n.editor.chain().undo().focus().run()},requiredExtensions:["history"]},{title:"editor.redo.tooltip",icon:"Redo2",shortcut:["shift","mod","Z"],disabled:()=>!n.editor.can().redo()||!n.editor.isEditable,action:()=>{n.editor.chain().redo().focus().run()},requiredExtensions:["history"]},{separator:!0},{title:"editor.menubar.menu.cut",icon:"Cut",shortcut:["mod","X"],disabled:()=>!n.editor.isEditable,action:async()=>{const y=_g(n.editor);y&&(await navigator.clipboard.writeText(y),n.editor.chain().deleteSelection().focus().run())}},{title:"editor.menubar.menu.copy",icon:"Copy",shortcut:["mod","C"],action:async()=>{_g(n.editor)&&document.execCommand("copy")}},{title:"editor.menubar.menu.paste",icon:"Paste",shortcut:["mod","V"],disabled:()=>!n.editor.isEditable,action:async()=>{try{const y=await navigator.clipboard.read();let b="",C="";for(const k of y)k.types.includes("text/html")&&(b=await(await k.getType("text/html")).text()),k.types.includes("text/plain")&&(C=await(await k.getType("text/plain")).text());b?n.editor.chain().insertContent(b).focus().run():C&&n.editor.chain().insertContent(C).focus().run()}catch(y){console.error(": ",y)}}},{title:"editor.menubar.menu.pasteAsText",icon:"Paste",disabled:()=>!n.editor.isEditable,action:async()=>{const y=await navigator.clipboard.readText();y&&n.editor.chain().insertContent(y).focus().run()}},{separator:!0},{title:"editor.menubar.menu.selectAll",disabled:()=>!n.editor.isEditable,icon:"TextSelect",action:()=>{var y;(y=n.editor)==null||y.chain().focus().selectAll().run()}},{separator:!0},{title:"editor.findAndReplace.tooltip",icon:"DocSearch",action:()=>{o.toggleFindAndReplace()},requiredExtensions:["findAndReplace"]}]},{title:"editor.menubar.view",children:[{title:"editor.fullscreen.tooltip.fullscreen",icon:"Maximize",action:()=>{var y;(y=n.editor)==null||y.chain().setFullscreen().focus().run()},requiredExtensions:["fullscreen"]},{title:"editor.menubar.menu.preview",action:()=>{n.editor.chain().togglePreview().focus().run()},icon:"Eye",requiredExtensions:["preview"]},{separator:!0},{title:"editor.menubar.menu.spellCheck",icon:"SpellCheck",checked:()=>o.state.spellCheck,action:()=>{o.toggleSpellCheck()}}]},{title:"editor.menubar.insert",children:[{title:"editor.image.tooltip",icon:"ImageUp",disabled:()=>!n.editor.isEditable||!n.editor.can().setImage({}),action:()=>{var y;(y=n.editor.chain())==null||y.setImageUpload().run()},requiredExtensions:["image","imageUpload"]},{title:"editor.video.tooltip",icon:"Video",disabled:()=>!n.editor.isEditable||!n.editor.can().setVideo({}),action:()=>{var y;(y=n.editor.chain())==null||y.setVideoUpload().run()},requiredExtensions:["video","videoUpload"]},{title:"editor.link.tooltip",icon:"Link",disabled:()=>!n.editor.isEditable||!n.editor.can().setLink({href:""}),action:()=>{n.editor.chain().extendMarkRange("link").insertContent({type:"text",text:"link",marks:[{type:"link",attrs:{href:"",target:"_blank"}}]}).setLink({href:""}).focus().run()},requiredExtensions:["link"]}]},{title:"editor.menubar.format",children:[{title:"editor.bold.tooltip",icon:"Bold",shortcut:["Mod","B"],disabled:()=>!n.editor.isEditable||!n.editor.can().toggleBold(),action:()=>{n.editor.chain().toggleBold().focus().run()},requiredExtensions:["bold"]},{title:"editor.italic.tooltip",icon:"Italic",shortcut:["Mod","I"],disabled:()=>!n.editor.isEditable||!n.editor.can().toggleItalic(),action:()=>{n.editor.chain().toggleItalic().focus().run()},requiredExtensions:["italic"]},{title:"editor.underline.tooltip",icon:"Underline",shortcut:["Mod","U"],disabled:()=>!n.editor.isEditable||!n.editor.can().toggleUnderline(),action:()=>{n.editor.chain().toggleUnderline().focus().run()},requiredExtensions:["underline"]},{title:"editor.strike.tooltip",icon:"Strikethrough",disabled:()=>!n.editor.isEditable||!n.editor.can().toggleStrike(),action:()=>{n.editor.chain().toggleStrike().focus().run()},requiredExtensions:["strike"]},{title:"editor.superscript.tooltip",icon:"Superscript",disabled:()=>!n.editor.isEditable||!n.editor.can().toggleSuperscript(),action:()=>{n.editor.chain().toggleSuperscript().focus().run()},requiredExtensions:["superscript"]},{title:"editor.subscript.tooltip",icon:"Subscript",disabled:()=>!n.editor.isEditable||!n.editor.can().toggleSubscript(),action:()=>{n.editor.chain().toggleSubscript().focus().run()},requiredExtensions:["subscript"]},{title:"editor.code.tooltip",icon:"Code",disabled:()=>!n.editor.isEditable||!n.editor.can().toggleCode(),action:()=>{n.editor.chain().toggleCode().focus().run()},requiredExtensions:["code"]}]}]),h=y=>{y&&y()},m=y=>y===void 0?!1:typeof y=="function"?y():y,g=y=>y===void 0?!1:typeof y=="function"?y():y;return(y,b)=>(i.openBlock(),i.createBlock(i.unref(AY),{class:"rounded-b-none shadow-none border-t-transparent border-l-transparent border-r-transparent rounded-t-[0.5rem]"},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(i.unref(a),(C,k)=>(i.openBlock(),i.createBlock(i.unref(NY),{key:k},{default:i.withCtx(()=>[i.createVNode(i.unref(BY),null,{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(e)(C.title)),1)]),_:2},1024),i.createVNode(i.unref(OY),null,{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(C.children,(w,x)=>(i.openBlock(),i.createElementBlock(i.Fragment,{key:x},[w!=null&&w.separator?(i.openBlock(),i.createBlock(i.unref(IY),{key:0})):w.checked&&s(w.requiredExtensions)?(i.openBlock(),i.createBlock(i.unref(MY),{key:1,onClick:S=>h(w.action),"model-value":g(w.checked),disabled:m(w.disabled),class:"flex gap-3"},{default:i.withCtx(()=>[w.icon?(i.openBlock(),i.createBlock(i.unref(oe),{key:0,name:w.icon},null,8,["name"])):i.createCommentVNode("",!0),i.createTextVNode(" "+i.toDisplayString(i.unref(e)(w.title))+" ",1),w.shortcut?(i.openBlock(),i.createBlock(i.unref(OE),{key:1},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(oo)(w.shortcut)),1)]),_:2},1024)):i.createCommentVNode("",!0)]),_:2},1032,["onClick","model-value","disabled"])):s(w.requiredExtensions)?(i.openBlock(),i.createBlock(i.unref(vY),{key:2,onClick:S=>h(w.action),disabled:m(w.disabled),class:"flex gap-3"},{default:i.withCtx(()=>[w.icon?(i.openBlock(),i.createBlock(i.unref(oe),{key:0,name:w.icon},null,8,["name"])):i.createCommentVNode("",!0),i.createTextVNode(" "+i.toDisplayString(i.unref(e)(w.title))+" ",1),w.shortcut?(i.openBlock(),i.createBlock(i.unref(OE),{key:1},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(oo)(w.shortcut)),1)]),_:2},1024)):i.createCommentVNode("",!0)]),_:2},1032,["onClick","disabled"])):i.createCommentVNode("",!0)],64))),128))]),_:2},1024)]),_:2},1024))),128))]),_:1}))}}),PY={key:0,class:"sticky top-0 h-auto bg-background z-10 overflow-visible rounded-t-[0.5rem]"},DY={class:"flex flex-nowrap overflow-x-auto sm:flex-wrap gap-y-1 gap-x-1 items-center py-0.5"},$Y={class:"flex items-center"},LY=i.defineComponent({__name:"Toolbar",props:{editor:{},disabled:{type:Boolean,default:!1}},setup(t){const{t:e}=Ee(),n=t,o=i.computed(()=>{const s=[...n.editor.extensionManager.extensions].sort((l,c)=>{const d=l.options.sort??-1,u=c.options.sort??-1;return d-u});let a=[];for(const l of s){const{button:c,divider:d=!1,spacer:u=!1,toolbar:f=!0}=l.options;if(!c||!r9(c)||!f)continue;const p=c({editor:n.editor,extension:l,t:i.unref(e)});if(Array.isArray(p)){const h=p.map((m,g)=>({button:m,divider:g===p.length-1?d:!1,spacer:g===0?u:!1}));a=[...a,...h];continue}a.push({button:p,divider:d,spacer:u})}return a});return(r,s)=>o.value.length?(i.openBlock(),i.createElementBlock("div",PY,[i.createElementVNode("div",DY,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(o.value,(a,l)=>{var c;return i.openBlock(),i.createElementBlock(i.Fragment,{key:l},[i.createElementVNode("div",$Y,[a.spacer?(i.openBlock(),i.createBlock(i.unref(to),{key:0,orientation:"vertical",class:"h-[16px] mx-[10px]"})):i.createCommentVNode("",!0)]),(i.openBlock(),i.createBlock(i.resolveDynamicComponent(a.button.component),i.mergeProps({ref_for:!0},a.button.componentProps,{editor:r.editor,disabled:r.disabled||((c=a.button.componentProps)==null?void 0:c.disabled)}),i.createSlots({_:2},[i.renderList(a.button.componentSlots,(d,u,f)=>({name:`${u}`,fn:i.withCtx(p=>[(i.openBlock(),i.createBlock(i.resolveDynamicComponent(d),i.mergeProps({ref_for:!0},p==null?void 0:p.props),null,16))])}))]),1040,["editor","disabled"])),a.divider?(i.openBlock(),i.createBlock(i.unref(to),{key:0,orientation:"vertical",class:"h-auto mx-2"})):i.createCommentVNode("",!0)],64)}),128))])])):i.createCommentVNode("",!0)}}),VY=i.defineComponent({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const r=fe(t,e);return(s,a)=>(i.openBlock(),i.createBlock(i.unref(ez),i.normalizeProps(i.guardReactiveProps(i.unref(r))),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16))}}),FY=i.defineComponent({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=fe(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(kH),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Bz),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),i.createVNode(i.unref(Tz),i.mergeProps(i.unref(s),{class:i.unref(ne)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n.class)}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default"),i.createVNode(i.unref(Rz),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},{default:i.withCtx(()=>[i.createVNode(i.unref(vx),{class:"w-4 h-4"}),l[0]||(l[0]=i.createElementVNode("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}}),zY=i.defineComponent({__name:"DialogFooter",props:{class:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createElementBlock("div",{class:i.normalizeClass(i.unref(ne)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",e.class))},[i.renderSlot(n.$slots,"default")],2))}}),HY=i.defineComponent({__name:"DialogHeader",props:{class:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createElementBlock("div",{class:i.normalizeClass(i.unref(ne)("flex flex-col gap-y-1.5 text-center sm:text-left",e.class))},[i.renderSlot(n.$slots,"default")],2))}}),UY=i.defineComponent({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=We(n);return(r,s)=>(i.openBlock(),i.createBlock(i.unref(Pz),i.mergeProps(i.unref(o),{class:i.unref(ne)("text-lg font-semibold leading-none tracking-tight",e.class)}),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default")]),_:3},16,["class"]))}}),jY={key:0,class:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border"},WY=i.defineComponent({__name:"ResizableHandle",props:{id:{},hitAreaMargins:{},tabindex:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{},withHandle:{type:Boolean}},emits:["dragging"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=fe(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(cj),i.mergeProps(i.unref(s),{class:i.unref(ne)("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 [&[data-orientation=vertical]]:h-px [&[data-orientation=vertical]]:w-full [&[data-orientation=vertical]]:after:left-0 [&[data-orientation=vertical]]:after:h-1 [&[data-orientation=vertical]]:after:w-full [&[data-orientation=vertical]]:after:-translate-y-1/2 [&[data-orientation=vertical]]:after:translate-x-0 [&[data-orientation=vertical]>div]:rotate-90",n.class)}),{default:i.withCtx(()=>[n.withHandle?(i.openBlock(),i.createElementBlock("div",jY,[i.createVNode(i.unref(Xj),{class:"h-2.5 w-2.5"})])):i.createCommentVNode("",!0)]),_:1},16,["class"]))}}),KY=i.defineComponent({__name:"ResizablePanelGroup",props:{id:{},autoSaveId:{},direction:{},keyboardResizeBy:{},storage:{},asChild:{type:Boolean},as:{},class:{}},emits:["layout"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=fe(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(aj),i.mergeProps(i.unref(s),{class:i.unref(ne)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",n.class)}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),GY=i.defineComponent({__name:"ToggleGroup",props:{rovingFocus:{type:Boolean},disabled:{type:Boolean},orientation:{},dir:{},loop:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},type:{},modelValue:{},defaultValue:{},class:{},variant:{},size:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=e;i.provide("toggleGroup",{variant:n.variant,size:n.size});const r=i.computed(()=>{const{class:a,...l}=n;return l}),s=fe(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(Rj),i.mergeProps(i.unref(s),{class:i.unref(ne)("flex items-center justify-center gap-1",n.class)}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),Ag=i.defineComponent({__name:"ToggleGroupItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{},variant:{},size:{}},setup(t){const e=t,n=i.inject("toggleGroup"),o=i.computed(()=>{const{class:s,variant:a,size:l,...c}=e;return c}),r=We(o);return(s,a)=>{var l,c;return i.openBlock(),i.createBlock(i.unref(Pj),i.mergeProps(i.unref(r),{class:i.unref(ne)(i.unref(sS)({variant:((l=i.unref(n))==null?void 0:l.variant)||s.variant,size:((c=i.unref(n))==null?void 0:c.size)||s.size}),e.class)}),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16,["class"])}}}),qY=i.defineComponent({__name:"ScrollBar",props:{orientation:{default:"vertical"},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(cU),i.mergeProps(n.value,{class:i.unref(ne)("flex touch-none select-none transition-colors",o.orientation==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",o.orientation==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-px",e.class)}),{default:i.withCtx(()=>[i.createVNode(i.unref(dU),{class:"relative flex-1 rounded-full bg-border"})]),_:1},16,["class"]))}}),vE=i.defineComponent({__name:"ScrollArea",props:{type:{},dir:{},scrollHideDelay:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(QH),i.mergeProps(n.value,{class:i.unref(ne)("relative overflow-hidden",e.class)}),{default:i.withCtx(()=>[i.createVNode(i.unref(eU),{class:"h-full w-full rounded-[inherit]"},{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3}),i.createVNode(qY),i.createVNode(i.unref(fU))]),_:3},16,["class"]))}}),YY={class:"flex justify-center"},JY={class:"hidden items-center gap-1.5 rounded-md border p-[2px] shadow-sm md:flex"},XY={class:"relative overflow-y-auto after:absolute after:inset-0 after:right-3 after:z-0 after:rounded-lg h-[--container-height] px-4"},ZY=["innerHTML"],QY=i.defineComponent({__name:"Preview",props:{editor:{},disabled:{type:Boolean,default:!1}},setup(t){const e=t,{t:n}=Ee(),o=Pt(),r=i.ref();function s(c){o.state.showPreview=c}function a(){o.state.showPreview=!1}const l=i.computed(()=>e.editor.getHTML());return(c,d)=>{var u;return i.openBlock(),i.createBlock(i.unref(VY),{open:(u=i.unref(o))==null?void 0:u.state.showPreview,"onUpdate:open":s},{default:i.withCtx(()=>[i.createVNode(i.unref(FY),{class:"sm:max-w-[425px] md:max-w-[825px] lg:max-w-[1200px] grid-rows-[auto_minmax(0,1fr)_auto] p-0 max-h-[90dvh]"},{default:i.withCtx(()=>[i.createVNode(i.unref(HY),{class:"p-6 pb-0"},{default:i.withCtx(()=>[i.createVNode(i.unref(UY),null,{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(n)("editor.preview.tooltip")),1)]),_:1}),i.createElementVNode("div",YY,[i.createElementVNode("div",JY,[i.createVNode(i.unref(GY),{type:"single","default-value":"100","onUpdate:modelValue":d[0]||(d[0]=f=>{var p;(p=i.unref(r))==null||p.resize(parseInt(f))})},{default:i.withCtx(()=>[i.createVNode(i.unref(Ag),{value:"100",class:"h-[32px] w-[32px] rounded-sm p-0"},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{name:"Monitor",class:"w-5 h-5"})]),_:1}),i.createVNode(i.unref(Ag),{value:"60",class:"h-[32px] w-[32px] rounded-sm p-0"},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{name:"Tablet",class:"w-5 h-5"})]),_:1}),i.createVNode(i.unref(Ag),{value:"30",class:"h-[32px] w-[32px] rounded-sm p-0"},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{name:"Phone",class:"w-5 h-5"})]),_:1})]),_:1})])])]),_:1}),i.createElementVNode("div",XY,[i.createVNode(i.unref(KY),{id:"preview-resizable",direction:"horizontal",class:"relative z-10 overflow-auto"},{default:i.withCtx(()=>[i.createVNode(i.unref(wx),{ref_key:"resizableRef",ref:r,class:"relative rounded-lg border bg-background transition-all","default-size":100,"min-size":30,id:"preview-resize-panel-1"},{default:i.withCtx(()=>[i.createVNode(i.unref(vE),{class:"h-full w-full rounded-md border p-3 border-none"},{default:i.withCtx(()=>[i.createElementVNode("div",{innerHTML:i.unref(l),class:"EchoContentView"},null,8,ZY)]),_:1})]),_:1},512),i.createVNode(i.unref(WY),{id:"block-resizable-handle",class:"relative hidden w-3 bg-transparent p-0 after:absolute after:right-0 after:top-1/2 after:h-8 after:w-[6px] after:-translate-y-1/2 after:translate-x-[-1px] after:rounded-full after:bg-border after:transition-all after:hover:h-10 sm:block"}),i.createVNode(i.unref(wx),{id:"block-resizable-panel-2","default-size":0,"min-size":0})]),_:1})]),i.createVNode(i.unref(zY),{class:"p-2 pt-0"},{default:i.withCtx(()=>[i.createVNode(i.unref(it),{onClick:a},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(n)("editor.close")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}}),eJ=["srcdoc"],tJ=i.defineComponent({__name:"Printer",props:{editor:{},disabled:{type:Boolean,default:!1}},setup(t){const e=()=>{const f=Array.from(document.styleSheets);let p="";return f.forEach(m=>{try{Array.from(m.cssRules||[]).forEach(y=>{y instanceof CSSStyleRule&&y.selectorText.includes(".EchoContentView")&&(p+=y.cssText+`
`)})}catch(g){console.warn(":",g)}}),Array.from(document.querySelectorAll("style")).forEach(m=>{const g=m.textContent||"";g.includes(".EchoContentView")&&(p+=g+`
`)}),p},n=t,{state:o}=Pt(),r=i.ref(""),s=i.ref(null);function a(f){return console.log(e()),`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <title>Echo Editor</title>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <style>${e()}</style>
    </head>
    <body class="echo-editor">
      <div class="tiptap EchoContentView" translate="no" aria-expanded="false">
          ${f}
      </div>
    </body>
    </html>`}function l(f){const p=f.contentWindow;if(!p){console.error(" iframe  contentWindow");return}const h=()=>{o.printer=!1,p.removeEventListener("afterprint",h)};p.addEventListener("afterprint",h)}async function c(){var f;try{n.editor.commands.blur();const p=n.editor.getHTML();r.value=a(p),await i.nextTick();const h=s.value;if(!h)throw new Error("iframe ");l(h),(f=h.contentWindow)==null||f.print()}catch(p){console.error(":",p),o.printer=!1}}i.watch(()=>o.printer,f=>{f&&!n.disabled&&c()});const{bind:d,unbind:u}=Eh("ctrl+p,command+p",f=>{f.preventDefault(),n.disabled||(o.printer=!0)});return i.onMounted(()=>{n.editor.on("focus",d),n.editor.on("blur",u)}),i.onUnmounted(()=>{n.editor.off("focus",d),n.editor.off("blur",u)}),(f,p)=>i.unref(o).printer?(i.openBlock(),i.createElementBlock("iframe",{key:0,ref_key:"iframeRef",ref:s,class:"absolute w-0 h-0 border-none overflow-auto",srcdoc:i.unref(r)},null,8,eJ)):i.createCommentVNode("",!0)}}),nJ={class:"flex w-full max-w-sm items-center gap-1.5"},oJ={class:"relative w-full max-w-sm items-center"},rJ={class:"absolute end-0 inset-y-0 flex items-center justify-center px-2 text-sm"},iJ={class:"flex gap-1"},sJ={class:"flex items-center space-x-2 mt-2"},aJ={for:"terms",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},lJ={class:"flex gap-3 mt-3"},cJ=i.defineComponent({__name:"FindAndReplace",props:{editor:{},disabled:{type:Boolean,default:!1},containerRef:{default:void 0}},emits:["update:modelValue","find","replace"],setup(t,{emit:e}){const n=t,o=i.ref(null),r=i.ref(null),s=Pt(),a=i.ref(""),l=i.ref(""),c=i.ref(!1),{t:d}=Ee(),u=i.computed(()=>n.containerRef),{focused:f}=wh(r),{top:p,right:h}=D9(u),m=L9(u),g=i.ref({x:0,y:0}),y=i.computed(()=>{var M,v;return((v=(M=n.editor)==null?void 0:M.storage.findAndReplace)==null?void 0:v.results.length)||0});i.watch([p,h,m],()=>{m.value&&o.value&&(g.value={y:p.value+24,x:h.value-320-24})});const b=(M=!1)=>{n.editor&&(M&&n.editor.commands.resetIndex(),n.editor.commands.setSearchTerm(a.value),n.editor.commands.setReplaceTerm(l.value),n.editor.commands.setCaseSensitive(c.value))},C=()=>{if(!n.editor)return;const{results:M,resultIndex:v}=n.editor.storage.findAndReplace,L=M[v];if(!L)return;n.editor.commands.setTextSelection(L);const{node:z}=n.editor.view.domAtPos(n.editor.state.selection.anchor);z instanceof HTMLElement&&z.scrollIntoView({behavior:"smooth",block:"center"})};i.watch(()=>a.value.trim(),(M,v)=>{M||S(),M!==v&&b(!0)}),i.watch(()=>l.value.trim(),(M,v)=>M===v?null:b()),i.watch(()=>c.value,(M,v)=>M===v?null:b(!0)),i.watch(()=>s.state.findAndReplace,async M=>{M?(await i.nextTick(),f.value=!0,a.value=_g(n.editor)||""):S()});const k=()=>{n.editor.commands.replace(),C()},w=()=>{n.editor.commands.nextSearchResult(),C()},x=M=>{M.preventDefault(),n.editor.commands.previousSearchResult(),C()},S=()=>{a.value=l.value="",n.editor.commands.resetIndex()},E=()=>n.editor.commands.replaceAll();function T(M){c.value=M}i.onMounted(()=>setTimeout(b));const{bind:_,unbind:A}=Eh("ctrl+f,command+f",()=>{s.state.findAndReplace=!0});return n.editor.on("focus",_),n.editor.on("blur",A),(M,v)=>{var $,N,I,F,j,te,ie,de,pe,Oe,xe,Ce;const L=oe,z=$a,D=qo,B=it,O=Nx;return i.openBlock(),i.createBlock(i.Teleport,{to:"body"},[i.withDirectives(i.createElementVNode("div",{ref_key:"dialogRef",ref:o,class:"findAndReplaceDialog fixed bg-white shadow-lg rounded-lg p-4 w-[320px] border z-[11]",style:i.normalizeStyle({top:`${g.value.y}px`,left:`${g.value.x}px`})},[i.createElementVNode("button",{onClick:v[0]||(v[0]=$e=>i.unref(s).toggleFindAndReplace()),class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},[i.createVNode(L,{name:"Close"})]),i.createVNode(z,null,{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(d)("editor.findAndReplace.find")),1)]),_:1}),i.createElementVNode("div",nJ,[i.createElementVNode("div",oJ,[i.createVNode(D,{modelValue:a.value,"onUpdate:modelValue":v[1]||(v[1]=$e=>a.value=$e),onKeyup:i.withKeys(w,["enter"]),class:"pr-10",ref_key:"inputRef",ref:r},null,8,["modelValue"]),i.createElementVNode("span",rJ,i.toDisplayString((I=(N=($=M.editor)==null?void 0:$.storage)==null?void 0:N.findAndReplace)!=null&&I.results.length?((te=(j=(F=M.editor)==null?void 0:F.storage)==null?void 0:j.findAndReplace)==null?void 0:te.resultIndex)+1:(pe=(de=(ie=M.editor)==null?void 0:ie.storage)==null?void 0:de.findAndReplace)==null?void 0:pe.resultIndex)+" / "+i.toDisplayString((Ce=(xe=(Oe=M.editor)==null?void 0:Oe.storage)==null?void 0:xe.findAndReplace)==null?void 0:Ce.results.length),1)]),i.createElementVNode("div",iJ,[i.createVNode(B,{onClick:x,variant:"outline",size:"icon",class:"px-2.5"},{default:i.withCtx(()=>[i.createVNode(L,{name:"ChevronUp",class:"w-5 h-5"})]),_:1}),i.createVNode(B,{onClick:w,variant:"outline",size:"icon",class:"px-2.5"},{default:i.withCtx(()=>[i.createVNode(L,{name:"ChevronDown",class:"w-5 h-5"})]),_:1})])]),i.createVNode(z,null,{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(d)("editor.findAndReplace.replace")),1)]),_:1}),i.createVNode(D,{modelValue:l.value,"onUpdate:modelValue":v[2]||(v[2]=$e=>l.value=$e)},null,8,["modelValue"]),i.createElementVNode("div",sJ,[i.createVNode(O,{id:"terms",checked:c.value,"onUpdate:checked":T},null,8,["checked"]),i.createElementVNode("label",aJ,i.toDisplayString(i.unref(d)("editor.findAndReplace.caseSensitive")),1)]),i.createElementVNode("div",lJ,[i.createVNode(B,{type:"submit",disabled:!y.value},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(d)("editor.findAndReplace.find")),1)]),_:1},8,["disabled"]),i.createVNode(B,{variant:"secondary",onClick:k,disabled:!M.editor.isEditable||!y.value},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(d)("editor.findAndReplace.replace")),1)]),_:1},8,["disabled"]),i.createVNode(B,{variant:"secondary",onClick:E,disabled:!M.editor.isEditable||!y.value},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(d)("editor.findAndReplace.replaceAll")),1)]),_:1},8,["disabled"])])],4),[[i.vShow,i.unref(s).state.findAndReplace&&i.unref(m)]])])}}}),dJ=i.defineComponent({__name:"Toast",props:{class:{},variant:{},onOpenChange:{type:Function},defaultOpen:{type:Boolean},forceMount:{type:Boolean},type:{},open:{type:Boolean},duration:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=fe(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(Aj),i.mergeProps(i.unref(s),{class:i.unref(no)(i.unref(mJ)({variant:a.variant}),n.class),"onUpdate:open":a.onOpenChange}),{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},16,["class","onUpdate:open"]))}}),uJ=i.defineComponent({__name:"ToastClose",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(Mj),i.mergeProps(n.value,{class:i.unref(no)("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e.class)}),{default:i.withCtx(()=>[i.createVNode(i.unref(vx),{class:"h-4 w-4"})]),_:1},16,["class"]))}}),NE=i.defineComponent({__name:"ToastDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(Ij),i.mergeProps({class:i.unref(no)("text-sm opacity-90",e.class)},n.value),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16,["class"]))}}),fJ=i.defineComponent({__name:"ToastProvider",props:{label:{},duration:{},swipeDirection:{},swipeThreshold:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(gj),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),pJ=i.defineComponent({__name:"ToastTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(Nj),i.mergeProps(n.value,{class:i.unref(no)("text-sm font-semibold [&+div]:text-xs",e.class)}),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16,["class"]))}}),hJ=i.defineComponent({__name:"ToastViewport",props:{hotkey:{},label:{type:[String,Function]},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(vj),i.mergeProps(n.value,{class:i.unref(no)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e.class)}),null,16,["class"]))}}),mJ=Fm("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--reka-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--reka-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gJ={class:"grid gap-1"},yJ=i.defineComponent({__name:"Toaster",setup(t){const{toasts:e}=as();return(n,o)=>(i.openBlock(),i.createBlock(i.unref(fJ),null,{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(i.unref(e),r=>(i.openBlock(),i.createBlock(i.unref(dJ),i.mergeProps({key:r.id,ref_for:!0},r),{default:i.withCtx(()=>[i.createElementVNode("div",gJ,[r.title?(i.openBlock(),i.createBlock(i.unref(pJ),{key:0},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(r.title),1)]),_:2},1024)):i.createCommentVNode("",!0),r.description?(i.openBlock(),i.createElementBlock(i.Fragment,{key:1},[i.isVNode(r.description)?(i.openBlock(),i.createBlock(i.unref(NE),{key:0},{default:i.withCtx(()=>[(i.openBlock(),i.createBlock(i.resolveDynamicComponent(r.description)))]),_:2},1024)):(i.openBlock(),i.createBlock(i.unref(NE),{key:1},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(r.description),1)]),_:2},1024))],64)):i.createCommentVNode("",!0),i.createVNode(i.unref(uJ))]),(i.openBlock(),i.createBlock(i.resolveDynamicComponent(r.action)))]),_:2},1040))),128)),i.createVNode(i.unref(hJ))]),_:1}))}}),bJ={class:"overflow-hidden relative flex-1"},wJ={key:2,class:"flex justify-between border-t p-3 items-center"},CJ={class:"flex flex-col"},kJ={class:"flex justify-end gap-3 text-sm"},IE=i.defineComponent({__name:"EchoEditor",props:{modelValue:{default:""},output:{default:"html"},dark:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},hideToolbar:{type:Boolean,default:!1},hideMenubar:{type:Boolean,default:!1},hideBubble:{type:Boolean,default:!1},removeDefaultWrapper:{type:Boolean,default:!1},maxWidth:{default:void 0},minHeight:{default:void 0},maxHeight:{default:void 0},extensions:{default:()=>[]},editorClass:{default:void 0},contentClass:{default:void 0}},emits:["enter","change","update:modelValue"],setup(t,{expose:e,emit:n}){const o=t,r=n,s=i.useAttrs(),{state:a,isFullscreen:l}=Pt(),{t:c}=Ee(),d=R9(),u=i.ref(null),f=i.computed(()=>[...a.extensions,...GD(o.extensions,a.extensions,"name")].map((b,C)=>b.configure({sort:C}))),p=i.computed(()=>({content:o.modelValue,editorProps:{handleKeyDown:Mc((b,C)=>C.key==="Enter"&&s.enter&&!C.shiftKey?(r("enter"),!0):!1,Iw),attributes:{class:"EchoContentView"}},onUpdate:Mc(({editor:b})=>{const C=y(b,o.output);r("update:modelValue",C),r("change",{editor:b,output:C})},Iw),extensions:i.unref(f),editable:!o.disabled})),h=new Ow(i.unref(p)),{isFocused:m}=eV({editor:h});i.watch(()=>o.dark,b=>{b!==void 0&&(d.value=b)});const g=i.computed(()=>({...i.unref(l)?{height:"100%",overflowY:"auto"}:{minHeight:Oc(o.minHeight),maxHeight:Oc(o.maxHeight),overflowY:"auto",scrollBehavior:"smooth",scrollbarWidth:"thin"},maxWidth:Oc(o.maxWidth),width:o.maxWidth?"100%":void 0,margin:o.maxWidth?"8px auto":void 0}));function y(b,C){if(o.removeDefaultWrapper&&b.isEmpty)return C==="json"?{}:"";switch(C){case"html":return b.getHTML();case"json":return b.getJSON();case"text":return b.getText();default:return console.warn(`Invalid output type: ${C}`),""}}return i.watch(()=>o.modelValue,b=>{if(!h||XD(y(h,o.output),b))return;const{from:C,to:k}=h.state.selection;h.commands.setContent(b,!1),h.commands.setTextSelection({from:C,to:k})},{deep:!0}),i.watch(()=>o.disabled,b=>h==null?void 0:h.setEditable(!b)),i.onUnmounted(()=>{h==null||h.destroy()}),e({editor:h}),(b,C)=>i.unref(h)?(i.openBlock(),i.createElementBlock("div",{key:0,class:i.normalizeClass(["echo-editor rounded-[0.5rem] bg-background shadow outline outline-1 relative",[b.editorClass,{"outline-primary":i.unref(m),"outline-border":!i.unref(m)}]])},[i.unref(we)(i.unref(h),"preview")?(i.openBlock(),i.createBlock(QY,{key:0,editor:i.unref(h)},null,8,["editor"])):i.createCommentVNode("",!0),i.unref(we)(i.unref(h),"printer")?(i.openBlock(),i.createBlock(tJ,{key:1,editor:i.unref(h)},null,8,["editor"])):i.createCommentVNode("",!0),i.unref(we)(i.unref(h),"findAndReplace")?(i.openBlock(),i.createBlock(cJ,{key:2,"container-ref":u.value,editor:i.unref(h)},null,8,["container-ref","editor"])):i.createCommentVNode("",!0),i.createElementVNode("div",{class:i.normalizeClass(["relative flex flex-col overflow-hidden",{"!fixed bg-background inset-0 z-[10]  w-full h-full m-0 rounded-[0.5rem]":i.unref(l)}])},[b.hideMenubar?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(RY,{key:0,editor:i.unref(h),disabled:b.disabled},null,8,["editor","disabled"])),b.hideToolbar?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(LY,{key:1,editor:i.unref(h),disabled:b.disabled,class:"border-b py-1 px-1 overflow-hidden"},null,8,["editor","disabled"])),i.createElementVNode("div",bJ,[i.createVNode(i.unref(h5),{ref_key:"contentRef",ref:u,editor:i.unref(h),class:i.normalizeClass(b.contentClass),style:i.normalizeStyle(g.value),spellcheck:i.unref(a).spellCheck},null,8,["editor","class","style","spellcheck"]),!b.hideBubble&&!b.disabled&&i.unref(h).isEditable?(i.openBlock(),i.createElementBlock(i.Fragment,{key:0},[i.createVNode(Wq,{editor:i.unref(h),class:"hidden sm:block"},null,8,["editor"]),i.unref(we)(i.unref(h),"link")?(i.openBlock(),i.createBlock(fK,{key:0,editor:i.unref(h)},null,8,["editor"])):i.createCommentVNode("",!0),i.unref(we)(i.unref(h),"columns")?(i.openBlock(),i.createBlock(Jq,{key:1,editor:i.unref(h)},null,8,["editor"])):i.createCommentVNode("",!0),i.unref(we)(i.unref(h),"table")?(i.openBlock(),i.createBlock(DK,{key:2,editor:i.unref(h)},null,8,["editor"])):i.createCommentVNode("",!0),i.unref(we)(i.unref(h),"AI")?(i.openBlock(),i.createBlock(_Y,{key:3,editor:i.unref(h)},null,8,["editor"])):i.createCommentVNode("",!0),i.unref(we)(i.unref(h),"image")?(i.openBlock(),i.createBlock(nY,{key:4,editor:i.unref(h)},null,8,["editor"])):i.createCommentVNode("",!0),i.createVNode(Kj,{editor:i.unref(h)},null,8,["editor"])],64)):i.createCommentVNode("",!0)]),i.unref(we)(i.unref(h),"characterCount")?(i.openBlock(),i.createElementBlock("div",wJ,[i.createElementVNode("div",CJ,[i.createElementVNode("div",kJ,[i.createElementVNode("span",null,i.toDisplayString(i.unref(h).storage.characterCount.characters())+" "+i.toDisplayString(i.unref(c)("editor.characters")),1)])]),i.renderSlot(b.$slots,"footer",{editor:i.unref(h)})])):i.createCommentVNode("",!0)],2),i.createVNode(yJ)],2)):i.createCommentVNode("",!0)}});function xJ(){Fx({prefix:"echo",icons:{baidu:{body:'<svg t="1716185245518" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6045" width="24" height="24"><path d="M824.32 1018.88h-163.84l348.16-348.16v163.84c0 102.4-81.92 184.32-184.32 184.32z m0-1008.64c102.4 0 184.32 81.92 184.32 184.32v97.28l-281.6-281.6h97.28z m-58.88 366.08c0 66.56-25.6 128-66.56 174.08l-7.68 5.12c-79.36 87.04-140.8 192-179.2 307.2-2.56 2.56-5.12 5.12-10.24 5.12s-7.68-2.56-10.24-5.12c-38.4-115.2-99.84-217.6-179.2-307.2l-7.68-7.68-2.56-2.56 2.56 2.56c-40.96-46.08-66.56-107.52-66.56-174.08 0-56.32 17.92-107.52 46.08-148.48C332.8 156.16 409.6 112.64 499.2 112.64s168.96 43.52 215.04 112.64c33.28 43.52 51.2 94.72 51.2 151.04z m-289.28-112.64h-33.28v61.44h-38.4c-38.4 0-71.68 30.72-71.68 71.68v15.36c0 38.4 30.72 71.68 71.68 71.68h66.56v-2.56h2.56v-217.6z m176.64 64h-35.84v125.44h-40.96c-15.36 0-30.72-12.8-30.72-30.72v-97.28H512V435.2c0 25.6 20.48 48.64 48.64 48.64h92.16v-156.16z m-276.48 84.48v-15.36c0-20.48 15.36-35.84 35.84-35.84h30.72v89.6h-30.72c-20.48-2.56-35.84-17.92-35.84-38.4z m-97.28-194.56c-17.92 28.16-33.28 58.88-40.96 89.6L28.16 94.72C61.44 43.52 117.76 7.68 184.32 7.68h307.2l107.52 107.52c-30.72-12.8-64-17.92-97.28-17.92-92.16 2.56-174.08 48.64-222.72 120.32z m20.48 335.36l7.68 7.68c28.16 30.72 53.76 61.44 76.8 97.28L64 972.8C25.6 939.52 0 890.88 0 834.56V225.28l250.88 250.88c12.8 28.16 28.16 53.76 48.64 76.8z m476.16-181.76c0-35.84-7.68-69.12-17.92-99.84l245.76 245.76-276.48 279.04-117.76-117.76c25.6-40.96 56.32-79.36 89.6-117.76l7.68-7.68c40.96-48.64 69.12-112.64 69.12-181.76zM491.52 878.08c2.56 2.56 5.12 5.12 10.24 5.12s7.68-2.56 10.24-5.12c10.24-33.28 25.6-66.56 40.96-99.84l94.72 94.72-145.92 145.92H184.32c-15.36 0-30.72-2.56-43.52-5.12l286.72-286.72c25.6 48.64 48.64 99.84 64 151.04z" fill="#B3CE7D" p-id="6046"></path><path d="M765.44 376.32c0 66.56-25.6 128-66.56 174.08l-7.68 5.12c-79.36 87.04-140.8 192-179.2 307.2-2.56 2.56-5.12 5.12-10.24 5.12s-7.68-2.56-10.24-5.12c-38.4-115.2-99.84-217.6-179.2-307.2l-7.68-7.68-2.56-2.56 2.56 2.56c-40.96-46.08-66.56-107.52-66.56-174.08 0-56.32 17.92-107.52 46.08-148.48C332.8 156.16 409.6 112.64 499.2 112.64s168.96 43.52 215.04 112.64c33.28 43.52 51.2 94.72 51.2 151.04z m-289.28-112.64h-33.28v61.44h-38.4c-38.4 0-71.68 30.72-71.68 71.68v15.36c0 38.4 30.72 71.68 71.68 71.68h66.56v-2.56h2.56v-217.6z m176.64 64h-35.84v125.44h-40.96c-15.36 0-30.72-12.8-30.72-30.72v-97.28H512V435.2c0 25.6 20.48 48.64 48.64 48.64h92.16v-156.16z m-276.48 84.48v-15.36c0-20.48 15.36-35.84 35.84-35.84h30.72v89.6h-30.72c-20.48-2.56-35.84-17.92-35.84-38.4z" fill="#F93737" p-id="6047"></path><path d="M824.32 10.24c102.4 0 184.32 81.92 184.32 184.32v97.28l-281.6-281.6h97.28z" fill="#B2E5FF" p-id="6048"></path><path d="M279.04 217.6c-17.92 28.16-33.28 58.88-40.96 89.6L28.16 94.72C61.44 43.52 117.76 7.68 184.32 7.68h307.2l107.52 107.52c-30.72-12.8-64-17.92-97.28-17.92-92.16 2.56-174.08 48.64-222.72 120.32z m496.64 153.6c0-35.84-7.68-69.12-17.92-99.84l245.76 245.76-276.48 279.04-117.76-117.76c25.6-40.96 56.32-79.36 89.6-117.76l7.68-7.68c40.96-48.64 69.12-112.64 69.12-181.76z" fill="#E6F28F" p-id="6049"></path></svg>',width:24,height:24},gaode:{body:'<svg t="1716185147787" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4078" width="24" height="24"><path d="M658.285714 621.714286h365.714286v256a146.285714 146.285714 0 0 1-146.285714 146.285714h-219.428572V621.714286z" fill="#B2D8FF" p-id="4079"></path><path d="M1024 364.397714V218.624H0v145.773714z" fill="#FFFFFF" p-id="4080"></path><path d="M649.142857 1024h145.773714V0H649.142857z" fill="#FFFFFF" p-id="4081"></path><path d="M1024 729.417143v-145.773714H0v145.773714z" fill="#FFCF68" p-id="4082"></path><path d="M0 218.624h649.179429V0H146.285714a146.285714 146.285714 0 0 0-146.285714 146.285714v72.338286z" fill="#AFE881" p-id="4083"></path><path d="M195.803429 1024H341.577143V0H195.803429z" fill="#FFCF68" p-id="4084"></path><path d="M103.862857 543.670857L349.622857 618.057143l302.628572-256.950857-234.569143 276.772571 262.765714 81.188572 135.314286-520.192z" fill="#0093FD" p-id="4085"></path><path d="M652.251429 361.142857L349.586286 618.057143l68.096 19.821714z" fill="#0066BD" p-id="4086"></path><path d="M349.622857 618.093714v143.908572l97.938286-114.834286-97.974857-29.074286z" fill="#0064BB" p-id="4087"></path></svg>',width:24,height:24},youku:{body:'<svg t="1716185468594" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7073" width="24" height="24"><path d="M740.113 555.315l0.205-0.307c0.512-0.82 0.887-1.707 1.4-2.526 0.204-0.41 0.409-0.82 0.716-1.229 0.205-0.307 0.341-0.682 0.512-1.024 5.598-10.956 8.636-23.04 8.738-35.328v-2.457a80.76 80.76 0 0 0-8.738-35.362c-0.205-0.308-0.307-0.683-0.512-1.024a7.578 7.578 0 0 0-0.683-1.195c-0.546-0.82-0.921-1.707-1.433-2.526-0.103-0.102-0.103-0.205-0.205-0.341a71.339 71.339 0 0 0-4.983-7.305v-0.102a76.902 76.902 0 0 0-8.124-9.148l-0.205-0.17a106.462 106.462 0 0 0-5.086-4.472c-0.41-0.341-0.682-0.614-1.126-0.922l-3.652-2.73a5.632 5.632 0 0 1-0.82-0.615l-250.88-168.14a80.247 80.247 0 0 0-60.586-12.186 80.213 80.213 0 0 0-51.405 34.236 80.862 80.862 0 0 0 22.05 112.06l150.87 101.17-150.972 101.172a80.862 80.862 0 0 0-22.05 112.06 80.213 80.213 0 0 0 51.404 34.235 80.247 80.247 0 0 0 60.553-12.185L715.913 580.71a5.632 5.632 0 0 0 0.819-0.614l1.536-1.024 2.218-1.604 1.127-0.922c1.843-1.433 3.447-2.935 5.086-4.437l0.204-0.24c2.936-2.832 5.7-5.87 8.124-9.147v-0.102c1.912-2.321 3.55-4.779 5.086-7.305z" fill="#FF4A4A" p-id="7074"></path><path d="M979.149 312.627a504.286 504.286 0 0 0-108.886-161.45A506.778 506.778 0 0 0 510.976 2.526c-86.016 0-171.042 21.913-245.93 63.385A510.26 510.26 0 0 0 85.162 233.335 506.368 506.368 0 0 0 2.97 510.464c0 68.574 13.38 135.1 39.936 197.769a505.651 505.651 0 0 0 108.783 161.45A508.757 508.757 0 0 0 313.105 978.57a509.61 509.61 0 0 0 435.712-19.115A512.341 512.341 0 0 0 926.583 802.61a504.9 504.9 0 0 0 92.331-292.181 501.214 501.214 0 0 0-39.8-197.769zM510.976 857.532c-191.386 0-347.136-155.717-347.136-347.136 0-67.55 19.456-132.95 56.115-189.235a346.453 346.453 0 0 1 291.021-157.867c191.42 0 347.136 155.716 347.136 347.136 0 71.919-21.845 140.97-63.078 199.51a347.477 347.477 0 0 1-284.058 147.592z" fill="#38CEFF" p-id="7075"></path><path d="M907.332 690.415a80.35 80.35 0 0 0-112.06 19.524 80.35 80.35 0 0 0 65.707 126.669c25.293 0 50.176-11.878 65.843-34.133a80.555 80.555 0 0 0-19.49-112.06z m-798.72-345.77a80.486 80.486 0 0 0 87.894-134.827 80.486 80.486 0 0 0-87.86 134.826z" fill="#0B99FF" p-id="7076"></path><path d="M751.684 512.444a82.193 82.193 0 0 0-8.738-35.362c-0.205-0.308-0.307-0.683-0.512-1.024a7.578 7.578 0 0 0-0.683-1.195c-0.546-0.82-0.921-1.707-1.433-2.526-0.103-0.102-0.103-0.205-0.205-0.341-0.717-1.093-1.331-2.219-2.15-3.243-0.922-1.4-1.912-2.73-2.936-4.062v-0.102a87.04 87.04 0 0 0-8.124-9.148l-0.204-0.17a106.462 106.462 0 0 0-5.086-4.472c-0.41-0.341-0.683-0.614-1.127-0.922a17.954 17.954 0 0 0-2.218-1.638l-1.536-1.024a79.701 79.701 0 0 0-45.91-14.2c-16.042 0-31.607 4.78-44.885 13.722l-100.01 67.038 100.01 67.038c13.312 8.943 28.843 13.721 44.885 13.721a80.982 80.982 0 0 0 45.91-14.233l1.536-1.024 2.218-1.604 1.127-0.922a157.672 157.672 0 0 0 5.086-4.437l0.204-0.24a77.32 77.32 0 0 0 8.124-9.147v-0.102c1.024-1.298 1.912-2.629 2.936-4.062l2.15-3.243 0.205-0.307a31.88 31.88 0 0 0 1.4-2.526c0.204-0.41 0.409-0.82 0.716-1.229 0.205-0.307 0.341-0.683 0.512-1.024 5.598-10.957 8.533-23.04 8.738-35.362v-2.628z" fill="#F5001A" p-id="7077"></path></svg>',width:24,height:24},bilibili:{body:'<svg t="1716185543850" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8124" width="24" height="24"><path d="M0 0m184.32 0l655.36 0q184.32 0 184.32 184.32l0 655.36q0 184.32-184.32 184.32l-655.36 0q-184.32 0-184.32-184.32l0-655.36q0-184.32 184.32-184.32Z" fill="#EC5D85" p-id="8125"></path><path d="M512 241.96096h52.224l65.06496-96.31744c49.63328-50.31936 89.64096 0.43008 63.85664 45.71136l-34.31424 51.5072c257.64864 5.02784 257.64864 43.008 257.64864 325.03808 0 325.94944 0 336.46592-404.48 336.46592S107.52 893.8496 107.52 567.90016c0-277.69856 0-318.80192 253.14304-324.95616l-39.43424-58.368c-31.26272-54.90688 37.33504-90.40896 64.68608-42.37312l60.416 99.80928c18.18624-0.0512 41.18528-0.0512 65.66912-0.0512z" fill="#EF85A7" p-id="8126"></path><path d="M512 338.5856c332.8 0 332.8 0 332.8 240.64s0 248.39168-332.8 248.39168-332.8-7.75168-332.8-248.39168 0-240.64 332.8-240.64z" fill="#EC5D85" p-id="8127"></path><path d="M281.6 558.08a30.72 30.72 0 0 1-27.47392-16.97792 30.72 30.72 0 0 1 13.73184-41.216l122.88-61.44a30.72 30.72 0 0 1 41.216 13.74208 30.72 30.72 0 0 1-13.74208 41.216l-122.88 61.44a30.59712 30.59712 0 0 1-13.73184 3.23584zM752.64 558.08a30.60736 30.60736 0 0 1-12.8512-2.83648l-133.12-61.44a30.72 30.72 0 0 1-15.04256-40.7552 30.72 30.72 0 0 1 40.76544-15.02208l133.12 61.44A30.72 30.72 0 0 1 752.64 558.08zM454.656 666.88a15.36 15.36 0 0 1-12.288-6.1952 15.36 15.36 0 0 1 3.072-21.49376l68.5056-50.91328 50.35008 52.62336a15.36 15.36 0 0 1-22.20032 21.23776l-31.5904-33.024-46.71488 34.72384a15.28832 15.28832 0 0 1-9.13408 3.04128z" fill="#EF85A7" p-id="8128"></path><path d="M65.536 369.31584c15.03232 101.90848 32.84992 147.17952 44.544 355.328 14.63296 2.18112 177.70496 10.04544 204.05248-74.62912a16.14848 16.14848 0 0 0 1.64864-10.87488c-30.60736-80.3328-169.216-60.416-169.216-60.416s-10.36288-146.50368-11.49952-238.83776zM362.25024 383.03744l34.816 303.17568h34.64192L405.23776 381.1328zM309.52448 536.28928h45.48608l16.09728 158.6176-31.82592 1.85344zM446.86336 542.98624h45.80352V705.3312h-33.87392zM296.6016 457.97376h21.39136l5.2736 58.99264-18.91328 2.26304zM326.99392 457.97376h21.39136l2.53952 55.808-17.408 1.61792zM470.62016 459.88864h19.456v62.27968h-19.456zM440.23808 459.88864h22.20032v62.27968h-16.62976z" fill="#FFFFFF" p-id="8129"></path><path d="M243.56864 645.51936a275.456 275.456 0 0 1-28.4672 23.74656 242.688 242.688 0 0 1-29.53216 17.52064 2.70336 2.70336 0 0 1-4.4032-1.95584 258.60096 258.60096 0 0 1-5.12-29.57312c-1.41312-12.1856-1.95584-25.68192-2.16064-36.36224 0-0.3072 0-2.5088 3.01056-1.90464a245.92384 245.92384 0 0 1 34.22208 9.5744 257.024 257.024 0 0 1 32.3584 15.17568c0.52224 0.256 2.51904 1.4848 0.09216 3.77856z" fill="#EB5480" p-id="8130"></path><path d="M513.29024 369.31584c15.03232 101.90848 32.84992 147.17952 44.544 355.328 14.63296 2.18112 177.70496 10.04544 204.05248-74.62912a16.14848 16.14848 0 0 0 1.64864-10.87488c-30.60736-80.3328-169.216-60.416-169.216-60.416s-10.36288-146.50368-11.49952-238.83776zM810.00448 383.03744l34.816 303.17568h34.64192L852.992 381.1328zM757.27872 536.28928h45.48608l16.09728 158.6176-31.82592 1.85344zM894.6176 542.98624h45.80352V705.3312H906.5472zM744.35584 457.97376h21.39136l5.2736 58.99264-18.91328 2.26304zM774.74816 457.97376h21.39136l2.53952 55.808-17.408 1.61792zM918.3744 459.88864h19.456v62.27968h-19.456zM887.99232 459.88864h22.20032v62.27968h-16.62976z" fill="#FFFFFF" p-id="8131"></path><path d="M691.32288 645.51936a275.456 275.456 0 0 1-28.4672 23.74656 242.688 242.688 0 0 1-29.53216 17.52064 2.70336 2.70336 0 0 1-4.4032-1.95584 258.60096 258.60096 0 0 1-5.12-29.57312c-1.41312-12.1856-1.95584-25.68192-2.16064-36.36224 0-0.3072 0-2.5088 3.01056-1.90464a245.92384 245.92384 0 0 1 34.22208 9.5744 257.024 257.024 0 0 1 32.3584 15.17568c0.52224 0.256 2.51904 1.4848 0.09216 3.77856z" fill="#EB5480" p-id="8132"></path></svg>',width:24,height:24},modao:{body:'<svg t="1716185608586" class="icon" viewBox="0 0 1061 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9191" width="24" height="24"><path d="M601.043478 881.15942c-1.855072-5.194203-17.066667-40.069565-33.391304-77.542029-16.324638-37.843478-29.681159-70.121739-29.68116-71.976811s13.727536-11.501449 30.423189-21.147826c74.944928-44.521739 131.710145-120.208696 157.310145-209.994203 10.017391-34.504348 10.017391-35.988406 12.243478-190.70145l2.226087-155.826087 79.397101-1.113043c43.77971-0.742029 83.478261-0.371014 88.30145 1.113043l8.904348 2.226087-1.484058 162.133334c-1.113043 147.663768-2.226087 165.101449-9.275363 196.637681-17.437681 77.913043-47.86087 148.776812-89.043478 206.284058-42.295652 58.991304-115.756522 125.031884-176.231884 157.681159-26.342029 14.098551-34.875362 14.469565-39.698551 2.226087zM132.452174 480.092754c-1.484058-1.484058-2.597101-74.944928-2.597102-163.246377 0-126.886957 1.113043-160.649275 4.823189-162.133334 8.162319-2.968116 163.617391-2.597101 168.811594 0.371015 3.710145 2.597101 4.452174 37.843478 3.710145 164.35942l-1.113043 161.02029-85.704348 1.113044c-47.118841 0.371014-86.446377-0.371014-87.930435-1.484058zM421.843478 480.092754c-1.484058-1.484058-2.597101-74.944928-2.597101-163.246377 0-126.515942 1.113043-160.649275 4.823188-162.133334 7.791304-2.968116 163.988406-2.226087 168.811594 0.742029 3.33913 2.226087 4.452174 39.698551 3.710145 163.988406l-1.113043 161.02029-85.704348 1.113044c-47.118841 0.371014-86.446377-0.371014-87.930435-1.484058z" fill="#FF3332" p-id="9192"></path></svg>',width:24,height:24},lanhu:{body:'<svg t="1716185640724" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11680" width="24" height="24"><path d="M959.445292 862.225843c38.558128 43.498852 6.246304 133.850105-74.735493 94.088796-167.319032-82.174739-200.485883 60.133477-374.071698 65.217559-173.596055 5.094322-211.422035-147.387178-373.677464-65.217559-80.495404 40.749454-113.303861-50.589943-74.750853-94.088796 53.800134-60.665949 104.461757-130.138162 105.506221-384.147703-0.445433-8.125315 0-11.04367 0-19.271384 0-103.340494 35.977688-197.244972 94.626387-266.732546-5.913509-6.891414-12.123974-15.856397-18.267879-26.213998a61.346898 61.346898 0 0 1-1.658855-2.969554 340.239257 340.239257 0 0 1-16.102153-31.164962 370.523592 370.523592 0 0 1-13.444913-33.996278c-0.455673-1.443818-0.993265-2.887636-1.372139-4.336573a303.662539 303.662539 0 0 1-6.082467-21.862065C197.677785 37.903137 199.121603 9.113819 218.408347 0.947544c10.941272-4.638649 24.160909 8.46323 39.495073 27.744854 0.537592 0.686069 1.146862 1.382379 1.745894 2.129887 0.691189 0.844787 1.372139 1.684454 2.053088 2.590681 10.019686 12.953401 21.114556 28.118608 33.177091 42.142073 0.931826 1.059824 1.827812 2.135007 2.749398 3.20507 0.527352 0.604151 1.059824 1.203182 1.587175 1.827812 14.602016 16.419588 30.60177 30.842407 47.989024 37.974457 49.105166-30.217776 105.470381-47.405352 165.42466-47.405352 58.443903 0 113.493298 16.347909 161.728078 45.173067 15.492882-7.679882 29.838902-20.87904 43.038059-35.737052 0.537592-0.62975 1.075183-1.228781 1.597416-1.832932l2.734038-3.20507c12.083015-14.028585 23.172764-29.183552 33.18221-42.142073 0.691189-0.906226 1.372139-1.745893 2.063329-2.590681 0.599031-0.747509 1.208301-1.443818 1.740773-2.129887 15.339285-19.281624 28.548682-32.383503 39.500194-27.744854 19.276504 8.161155 20.735682 36.955593 12.98412 70.572997a298.419739 298.419739 0 0 1-6.082466 21.867184c-0.368634 1.448938-0.906226 2.892756-1.361899 4.336573a379.514174 379.514174 0 0 1-13.434674 33.996278 342.829938 342.829938 0 0 1-16.112393 31.164962c-0.522232 0.993265-1.059824 1.97117-1.669094 2.969555-4.710328 7.935878-9.446255 15.052569-14.079784 21.047996C819.743116 256.882175 857.543496 352.880702 857.543496 458.811876c0 6.041507-0.02048 6.246304-0.266236 12.231492 0.122878 259.411058 47.917344 330.004534 102.168032 391.187595z" fill="#0692FF" p-id="11681"></path><path d="M510.863377 640.374529c112.67923 0 203.982789-92.189305 203.982789-205.87716 0-39.295397-10.931032-75.994993-29.96178-107.282833 0-0.081919-0.071679-0.153598-0.143358-0.240637-35.747291-58.955895-100.227582-98.261532-173.872531-98.261531-112.668991 0-204.054468 92.117626-204.054467 205.785001a206.368672 206.368672 0 0 0 53.027026 138.432435c37.354947 41.389445 91.124361 67.444725 151.022321 67.444725z" fill="#FFFFFF" p-id="11682"></path><path d="M554.223992 290.089986c57.030805 0 103.268815 46.632244 103.268815 104.1904 0 57.532557-46.23801 104.169921-103.268815 104.169921-57.030805 0-103.268815-46.637364-103.268815-104.169921 0-57.558156 46.23801-104.190401 103.268815-104.1904z" fill="#293D50" p-id="11683"></path></svg>',width:24,height:24},qqvideo:{body:'<svg t="1716186856310" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16273" width="24" height="24"><path d="M199.111111 0h625.777778c109.795556 0 199.111111 89.315556 199.111111 199.111111v625.777778c0 109.795556-89.315556 199.111111-199.111111 199.111111H199.111111c-109.795556 0-199.111111-89.315556-199.111111-199.111111V199.111111C0 89.315556 89.315556 0 199.111111 0z" fill="#FFFFFF" p-id="16274"></path><path d="M327.68 143.36c25.6-2.844444 51.768889 0.568889 75.662222 9.102222 52.906667 17.066667 104.675556 38.684444 154.737778 63.146667 84.195556 41.528889 164.977778 89.884444 242.346667 143.36 34.133333 22.755556 65.991111 48.924444 94.435555 78.506667 15.928889 18.204444 28.444444 40.96 26.168889 65.422222-3.413333 29.582222-23.893333 52.906667-44.373333 72.817778-84.195556 79.644444-176.924444 150.186667-276.48 209.92-51.2 30.72-105.813333 55.751111-162.133334 75.662222-36.408889 12.515556-74.524444 23.324444-113.208888 19.342222-23.324444-1.706667-44.942222-11.946667-60.871112-28.444444-13.084444-15.36-21.617778-33.564444-25.031111-52.906667l1.137778-1.706667c17.066667-3.982222 33.564444-9.102222 50.631111-13.084444 71.111111-18.204444 139.946667-44.373333 205.368889-77.368889 70.542222-34.133333 137.671111-73.955556 201.386667-119.466667 20.48-15.36 43.235556-30.72 55.182222-55.182222 7.964444-17.635556 6.826667-38.115556-3.982222-54.613333-12.515556-19.342222-29.013333-35.271111-48.355556-48.355556-21.617778-15.36-44.373333-29.582222-67.697778-42.666667-44.373333-26.737778-91.022222-49.493333-138.24-72.248888-54.044444-26.168889-109.795556-48.355556-167.253333-66.56-25.6-7.395556-51.2-15.36-76.8-22.186667 2.844444-11.377778 6.257778-22.755556 10.808889-33.564445 13.084444-26.168889 37.546667-44.942222 66.56-48.924444z" fill="#10ABF2" p-id="16275"></path><path d="M168.96 231.537778c23.893333-11.377778 51.768889-7.964444 76.8-3.413334-7.395556 33.564444-11.946667 67.697778-17.066667 101.831112-0.568889 14.791111-2.275556 29.013333-3.982222 43.804444-2.844444 18.204444-2.275556 36.977778-5.12 55.182222-0.568889 21.048889-1.706667 42.666667-2.275555 64.284445-2.275556 20.48-1.137778 41.528889-1.137778 62.008889 0 30.72-0.568889 62.008889 1.706666 92.728888 1.706667 47.217778 5.12 93.866667 11.377778 140.515556v6.826667c-23.893333 4.551111-51.768889 7.964444-73.955555-6.826667s-27.875556-42.097778-33.564445-65.991111c-13.084444-76.8-19.911111-154.737778-19.342222-233.244445 1.137778-40.96 5.12-81.351111 10.808889-121.742222 4.551111-32.995556 11.946667-65.422222 22.755555-97.28 5.688889-16.497778 17.635556-30.72 32.995556-38.684444z" fill="#FF8F21" p-id="16276"></path><path d="M246.897778 225.848889l5.12 0.568889c25.6 6.826667 51.2 14.791111 76.8 22.186666 57.457778 18.204444 113.208889 40.96 167.253333 67.128889 46.648889 23.324444 93.297778 46.08 138.24 72.248889 23.324444 13.084444 46.08 27.306667 67.697778 42.666667 19.342222 12.515556 35.271111 29.013333 48.355555 47.786667 10.808889 16.497778 11.946667 36.977778 3.982223 54.613333-11.377778 23.893333-34.702222 39.253333-55.182223 55.182222-63.715556 45.511111-130.844444 85.333333-201.386666 119.466667-65.991111 32.995556-134.826667 58.595556-205.937778 77.368889-17.066667 3.982222-33.564444 9.102222-50.631111 13.084444l-9.671111 1.706667c-0.568889-3.982222-1.137778-7.964444-1.706667-12.515556-6.257778-46.648889-9.671111-93.866667-11.377778-140.515555-3.413333-30.72-2.275556-62.008889-2.275555-92.728889-0.568889-20.48 0-41.528889 1.137778-62.008889 0.568889-21.048889 1.706667-42.666667 2.275555-64.284445 2.844444-18.204444 2.275556-36.977778 5.12-55.182222 1.706667-14.222222 3.413333-29.013333 3.982222-43.804444 5.12-34.133333 9.102222-68.266667 17.066667-101.831111l0.568889-2.275556 0.568889 1.137778z m96.711111 122.311111c-9.102222 3.413333-14.791111 11.946667-14.222222 21.048889-0.568889 13.653333-0.568889 27.306667 0.568889 40.96 0.568889 40.391111-0.568889 81.351111 0.568888 121.742222v108.088889c-1.137778 9.102222 2.844444 18.204444 10.808889 23.324444 9.102222 2.275556 19.342222 0.568889 26.737778-5.688888 65.422222-43.804444 131.413333-87.608889 196.835556-131.413334 7.964444-5.688889 17.066667-14.222222 15.928889-25.6-1.706667-10.24-8.533333-19.342222-18.204445-23.893333L362.951111 353.28c-5.688889-3.982222-12.515556-5.688889-19.342222-5.12z" fill="#7DE621" p-id="16277"></path><path d="M343.608889 348.16c6.826667-0.568889 13.653333 1.137778 19.342222 5.12l200.817778 124.017778c9.671111 4.551111 16.497778 13.084444 18.204444 23.893333 1.137778 10.808889-7.964444 19.342222-15.928889 25.6-65.422222 43.235556-131.413333 87.04-196.835555 130.844445-7.395556 5.688889-17.635556 7.964444-26.737778 5.688888-7.395556-5.12-11.377778-13.653333-10.808889-22.755555v-108.088889c-1.137778-40.391111 0-81.351111-0.568889-121.742222-1.137778-13.653333-1.706667-27.306667-1.137777-41.528889-1.137778-9.102222 5.12-17.635556 13.653333-21.048889z" fill="#FFFFFF" p-id="16278"></path></svg>',width:24,height:24},figma:{body:'<svg t="1716187077296" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17340" width="24" height="24"><path d="M512 512c0-94.4 76.8-171.2 171.2-171.2 94.4 0 171.2 76.8 171.2 171.2s-76.8 171.2-171.2 171.2C588.8 683.2 512 606.4 512 512z" fill="#1ABCFE" p-id="17341"></path><path d="M171.2 852.8c0-94.4 76.8-171.2 171.2-171.2H512v171.2C512 947.2 435.2 1024 340.8 1024s-169.6-76.8-169.6-171.2z" fill="#0ACF83" p-id="17342"></path><path d="M512 0v340.8h171.2c94.4 0 171.2-76.8 171.2-171.2S777.6 0 683.2 0H512z" fill="#FF7262" p-id="17343"></path><path d="M171.2 171.2c0 94.4 76.8 171.2 171.2 171.2H512V0H340.8c-94.4 0-169.6 76.8-169.6 171.2z" fill="#F24E1E" p-id="17344"></path><path d="M171.2 512c0 94.4 76.8 171.2 171.2 171.2H512V340.8H340.8c-94.4 0-169.6 76.8-169.6 171.2z" fill="#A259FF" p-id="17345"></path></svg>',width:24,height:24},canva:{body:'<svg t="1716187133225" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="23499" width="24" height="24"><path d="M512 0C229.248 0 0 229.248 0 512s229.248 512 512 512 512-229.248 512-512S794.752 0 512 0zM297.056 327.68c32.16 0 57.056 23.424 59.936 51.2 2.944 24.864-7.296 46.816-35.072 60-14.624 7.296-20.48 7.328-23.424 2.944-1.44-2.944 0-5.856 2.944-8.8 26.336-21.92 26.336-39.52 23.392-64.352-1.44-16.128-13.152-26.368-24.864-26.368-51.2 0-124.32 114.08-114.08 197.504 4.384 32.16 23.424 70.24 64.384 70.24 13.152 0 27.744-4.384 40.96-10.24 21.344-11.264 34.08-20.064 46.816-34.144-3.104-37.76 30.048-87.296 78.976-87.296 21.984 0 39.52 8.736 40.96 24.864 2.912 21.92-16.096 24.832-21.92 24.832s-16.128-1.44-16.128-7.264c-1.44-5.888 13.184-2.976 11.744-16.128-1.504-8.8-10.24-11.68-19.04-11.68-30.72 0-48.256 42.4-43.904 68.736 1.504 11.744 7.328 23.424 19.072 23.424 8.736 0 21.92-13.216 26.336-32.224 2.912-13.152 14.624-21.92 24.864-21.92 4.352 0 7.264 1.44 8.736 7.296v5.888c-1.44 5.856-5.856 23.392-4.352 27.776 0 2.944 1.44 7.296 7.264 7.296 3.936 0 18.592-7.68 33.152-19.584 4.992-25.184 10.784-55.392 10.784-57.888 1.44-10.24 5.856-20.48 26.336-20.48 4.384 0 7.296 1.44 8.736 7.296v5.888l-5.792 26.336c18.976-24.864 46.816-42.4 64.352-42.4 7.328 0 13.184 4.352 13.184 11.68 0 4.384 0 11.68-2.944 19.04a474.88 474.88 0 0 0-17.568 62.88c0 5.856 1.504 11.68 8.832 11.68 7.296 0 29.216-8.8 46.752-32.16l0.288-0.16c-0.096-2.912-0.288-5.728-0.288-8.608 0-17.536 1.504-32.16 4.448-42.4 2.912-11.68 17.536-21.92 26.336-21.92 4.384 0 8.736 2.944 8.736 7.296 0 1.504 0 4.384-1.44 5.856-5.856 19.04-10.24 36.576-10.24 54.144 0 10.24 1.44 24.832 4.352 33.632 0 1.44 1.504 2.944 2.976 2.944 2.912 0 23.392-18.976 37.984-43.872-13.152-8.8-20.48-23.424-20.48-40.96 0-30.72 19.04-46.816 36.608-46.816 14.624 0 26.336 10.24 26.336 30.72 0 13.152-4.384 27.744-11.68 40.96h4.352l1.056 0.032c9.376 0 17.856-3.936 23.84-10.24a12.448 12.448 0 0 1 5.632-4.96l0.096-0.032c14.304-18.144 35.424-31.584 60.16-31.584 20.48 0 39.424 8.736 40.928 24.832 2.912 21.984-16.128 26.368-21.984 26.368l-0.096-0.096c-5.888 0-16.096-1.504-16.096-7.328s13.184-2.912 11.68-16.032c-1.44-8.8-10.24-11.744-19.04-11.744-29.28 0-48.224 38.016-43.872 68.736 1.44 11.744 7.296 24.864 18.976 24.864 8.8 0 21.984-13.152 27.808-32.16 2.912-11.68 14.624-21.92 24.864-21.92 4.384 0 7.264 1.44 8.736 7.296 0 2.944 0 8.8-5.856 27.808-7.264 13.152-7.296 20.48-5.856 26.336 1.44 11.68 7.296 20.48 13.184 24.864 1.44 1.44 2.912 4.352 2.912 4.352 0 2.944-1.44 5.888-5.856 5.888-1.44 0-2.912 0-4.384-1.504-21.92-8.736-30.72-23.392-33.664-38.016-8.736 10.24-18.976 16.096-30.72 16.096-18.976 0-37.984-17.536-40.96-39.52a68.8 68.8 0 0 1 3.328-28.192l-0.128 0.48c-8.672 5.536-18.016 8.672-26.592 8.672h-7.264c-19.072 27.808-39.552 46.848-54.176 55.584a38.048 38.048 0 0 1-16 4.448h-0.096c-2.912 0-7.296-1.504-8.736-4.448-4.064-6.496-6.656-16.736-8.224-28.448-20.512 22.496-48.864 34.336-61.984 34.336-14.624 0-23.392-8.8-24.832-23.456v-16.032c4.352-32.16 16.096-51.2 16.096-57.056a3.136 3.136 0 0 0-2.944-2.976c-10.24 0-43.872 35.168-49.76 58.592l-4.384 18.976c-2.912 13.184-16.096 21.984-24.832 21.984-4.384 0-7.328-1.504-8.8-7.328v-5.856l1.952-9.952c-18.56 13.216-37.12 21.664-45.856 21.664-13.152 0-20.48-7.328-21.92-17.568-8.8 11.68-18.976 17.568-32.16 17.568-15.008 0-29.696-10.24-36.768-25.312-10.4 11.744-22.304 23.584-36.352 32.608-20.48 13.184-43.872 23.424-71.68 23.424-24.832 0-46.816-13.184-58.496-24.864-17.568-16.096-27.776-40.96-29.28-64.384-8.736-71.68 35.104-163.84 102.4-204.8 16.128-8.736 32.224-14.624 48.288-14.624z m416.832 140.416c-4.448 0-7.328 7.328-7.328 14.624 0 11.68 5.856 24.864 13.184 32.224a72.64 72.64 0 0 0 4.352-24.864c0-14.624-5.856-21.984-10.208-21.984z" fill="#00C4CC" p-id="23500"></path></svg>',width:24,height:24},processon:{body:'<svg t="1716187155553" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="24554" width="24" height="24"><path d="M241.29537297 142.80465793C204.50619412 147.5843544 170.32412243 172.20703316 154.24696159 205.66490841 140.92174722 233.32921219 141.93562222 206.96846199 141.93562222 513.44839287c0 259.11748409 0.14483929 270.55978775 2.75194645 280.26401997C153.66760444 827.74964523 175.97285461 855.41394901 205.66490841 869.75303841c27.66430378 13.32521438 1.30355359 12.31133938 307.78348446 12.31133937 259.11748409 0 270.55978775-0.14483929 280.26401997-2.75194645 34.0372324-8.98003579 61.70153618-31.28528595 76.04062557-60.97733974 13.32521438-27.66430378 12.31133938-1.30355359 12.31133937-307.78348446 0-259.11748409-0.14483929-270.55978775-2.75194644-280.26401997C870.33239556 196.25035477 848.02714539 168.4412117 818.33509159 154.24696159c-27.66430378-13.32521438 0.43451786-12.16650009-301.26571655-12.45617866C370.4920168 141.64594364 246.364748 142.0804615 241.29537297 142.80465793z m158.59901905 177.28328706c36.06498242 6.37292861 62.42573261 19.40846443 87.48292923 43.59662532 25.63655377 24.76751804 42.29307175 56.19764328 50.83858967 96.46296502 3.76582146 17.5255537 5.35905361 60.25314331 2.89678573 80.24096489-11.29746438 92.40746498-66.62607193 152.22609043-152.08125115 164.39259052-19.11878586 2.60710716-54.02505397 1.013875-71.4057684-3.47614289-66.48123264-17.38071443-111.52625084-69.0883398-125.28598308-144.40476894-3.47614289-18.97394658-3.47614289-66.33639336-0.14483928-84.73098278 4.20033931-22.30525017 9.55939293-38.38241101 19.26362514-57.93571472 16.51167869-33.31303597 36.64433956-55.47344685 66.62607193-73.5783577 15.64264297-9.26971435 41.42403603-18.24975014 60.97733975-21.14653587 14.48392868-2.1725893 46.92792893-1.73807144 60.83250046 0.57935715z m360.21530628 104.28428649c29.11269665 6.08325005 53.73537541 27.66430378 65.03283977 56.77700043 8.98003579 23.0294466 8.83519649 21.43621445 9.41455365 124.56178665l0.57935714 94.58005429H765.46875191v-83.71710778c0-91.82810783-0.28967857-95.73876858-8.69035721-112.82980442-7.53164291-15.20812511-19.26362514-22.73976803-38.52725029-24.62267876-21.14653587-2.02775002-43.30694676 11.29746438-53.88021469 32.15432167-5.64873218 11.15262508-6.08325005 19.84298229-6.08325005 106.02235795V700.29107285h-69.23317909l-0.72419643-132.23826885c-0.43451786-72.56448269-1.30355359-133.831501-1.73807144-136.1489296l-1.01387502-3.91066075h30.41625024c27.80914307 0 30.56108952 0.28967857 31.28528595 2.46226787 0.43451786 1.44839287 1.1587143 10.13875008 1.73807143 19.26362515 0.43451786 9.12487507 1.1587143 17.09103584 1.59323216 17.81523227 0.28967857 0.57935715 3.47614289-2.75194645 6.80744648-7.38680361 13.32521438-17.96007157 35.77530383-31.57496453 60.39798259-36.354661 10.13875008-2.02775002 31.57496453-1.73807144 42.29307176 0.57935715z" fill="#067bef" p-id="24555"></path><path d="M342.82771302 376.43042755c-15.49780369 3.76582146-29.11269665 11.87682152-42.29307176 25.34687519-17.5255537 17.67039299-26.79526807 36.49950027-33.60271453 67.49510765-4.05550003 18.68426799-5.06937504 57.64603615-2.02775002 76.33030414 10.71810723 65.46735764 48.08664322 104.2842865 100.80814362 104.57396508 16.80135728 0 26.21591092-2.02775002 41.27919674-9.26971435 39.39628601-18.82910728 61.84637546-66.19155407 61.70153617-130.35535813-0.14483929-49.24535752-14.3390894-87.62776852-42.00339317-113.26432229-11.29746438-10.42842865-23.89848232-17.38071443-37.94789314-20.712018-11.15262508-2.60710716-35.19594669-2.60710716-45.91405391-0.14483929z" fill="#067bef" p-id="24556"></path></svg>',width:24,height:24},codepen:{body:'<svg t="1716187324883" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="25725" id="mx_n_1716187324884" width="24" height="24"><path d="M0 512a512 512 0 1 0 1024 0A512 512 0 1 0 0 512z" fill="#030502" p-id="25726"></path><path d="M840.277 383.595l-312-208a29.333 29.333 0 0 0-32.554 0l-312 208A29.717 29.717 0 0 0 170.667 408v208c0 10.07 5.397 19.35 13.056 24.405l312 208a29.333 29.333 0 0 0 32.554 0l312-208c7.531-4.906 13.056-14.229 13.056-24.405V408c0-9.45-4.842-18.987-13.056-24.405zM541.333 254.827L771.18 408.043l-102.656 68.672-127.19-85.078v-136.81z m-58.666 0v136.81l-127.168 85.078L252.82 408.02l229.846-153.194zM229.333 462.912l73.387 49.067-73.387 49.109v-98.176z m253.334 306.261L252.8 615.957l102.677-68.65 127.147 85.056v136.81zM512 581.397L408.256 512 512 442.603 615.744 512 512 581.397z m29.333 187.776v-136.81l127.19-85.056 102.656 68.65-229.846 153.216z m253.334-208.085L721.28 512l73.387-49.088v98.155z" fill="#FFFFFF" p-id="25727"></path></svg>',width:24,height:24},jinshuju:{body:'<svg t="1716187349707" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="26820" width="24" height="24"><path d="M697.7024 128.5632c-17.8688 10.24-33.28 20.4288-49.5104 32.6144-15.872 12.0832-18.944 14.8992-38.4 34.2016-46.5408 46.6432-69.2224 96.4608-67.6864 149.3504 0.3072 11.4688 0.8704 16.7424 4.096 34.2016 1.3312 6.7584 8.1408 26.7776 12.9536 37.6832 9.9328 22.528 24.832 41.472 35.584 45.0048 13.2096 4.352 38.144 1.1264 63.3856-8.0896 28.9792-10.752 48.64-22.7328 66.0992-40.1408 29.7984-29.7984 44.288-66.6624 44.3904-112.896 0-13.824-2.2528-37.888-4.2496-46.08-0.4096-2.048-1.1264-5.12-1.3824-7.168-3.0208-16.6912-13.5168-49.6128-23.3984-73.8816-7.2704-17.408-23.7056-52.0192-25.3952-53.0432a101.12 101.12 0 0 0-16.4864 8.2432z m-577.28-5.12c0.3072 1.4336 1.024 7.936 1.536 14.6432 0.6144 6.656 1.1776 13.0048 1.4336 14.1824 0.4608 2.0992 1.7408 12.1856 2.8672 20.5312 0.512 4.8128 4.8128 31.0784 5.632 35.4816 24.1664 123.0848 59.5968 201.4208 112.7936 249.344a153.6 153.6 0 0 0 66.6624 34.8672c13.312 3.0208 16.7424 3.2768 31.8976 3.584 28.3648 0.512 66.0992-5.9904 90.368-15.616 30.9248-12.1856 46.3872-28.672 53.4528-56.832 4.608-17.7664 4.7104-19.6096 5.12-48.6912 0.3072-26.112-1.024-40.2944-5.5296-60.7232-6.656-29.6448-31.744-65.0752-59.392-83.8144-28.2624-18.9952-49.408-26.624-141.4656-51.2-47.9232-12.8-133.7344-42.5472-155.5968-54.0672-9.0624-4.8128-10.3424-4.9664-9.728-1.6896z m657.5616 357.9904c-12.9024 1.536-20.2752 2.8672-26.2144 4.4032l-8.3968 2.048c-6.912 1.2288-23.552 10.752-31.0272 17.5616-17.3056 15.872-30.7712 42.0864-37.5808 73.728-4.864 22.272-3.6864 39.9872 3.3792 49.2032 12.1856 16.0256 58.4192 32.256 91.0848 31.7952 35.1744-0.4096 73.0112-25.9584 101.12-68.2496 8.8064-13.0048 22.6816-37.6832 23.3984-41.1136 0-0.4096 1.536-3.9936 3.2768-7.7824 7.3728-16.0256 17.5616-45.6704 16.4352-47.5136a18.7904 18.7904 0 0 0-7.2192-2.1504 94.1056 94.1056 0 0 1-9.5232-1.536c-3.072-0.5632-31.3344-5.8368-37.888-6.9632-22.272-3.84-63.232-5.5296-80.8448-3.4304z m-358.4 40.2944c3.9424-1.9968 16.2816-8.3456 27.2384-14.1824 10.9056-5.632 20.5312-10.496 21.4016-10.496 0.7168-0.1536 13.4656 14.4896 28.3648 32.3584 14.7456 17.8688 28.3648 33.28 30.3616 34.1504 15.616 7.5264 38.144-4.6592 65.6384-35.328 3.1232-3.3792 6.144-5.4784 6.656-4.9152 0.768 0.6656 1.5872 5.2224 2.1504 10.0352 0.4608 4.864 1.1264 10.24 1.4336 12.0832 0.4096 1.8432 1.1264 6.0928 1.536 9.6256l3.4304 24.1152 0.1024 0.8704c2.7136 18.944 2.7136 18.9952-6.656 28.928-27.8016 29.6448-54.5792 71.7824-64.8192 102.2464a254.208 254.208 0 0 0-8.7552 36.0448l-1.4336 11.3152c-1.9968 15.0528-2.9696 41.5744-1.6896 47.5648 2.9696 13.8752 7.2192 21.9648 16.0256 29.6448 10.24 8.9088 23.2448 14.4384 43.8272 18.432 15.872 3.072 62.4128 0.8192 86.3744-4.096 3.84-0.8704 7.2192-1.3312 7.5264-0.8704a18.176 18.176 0 0 1 1.1264 5.2224l1.4336 9.7792c0.4096 2.7136 0.9728 7.2704 1.2288 9.9328 1.5872 12.6464 2.56 19.3024 3.0208 21.2992 0.256 1.1264 1.024 5.632 1.3824 10.0864l0.8704 7.936-202.24 0.256-202.4448 0.1536 1.024-10.24c0.512-5.632 1.28-11.3152 1.4336-12.4416 0.256-1.1264 0.8192-5.9904 1.2288-10.6496l1.536-11.3664a35.0208 35.0208 0 0 0 0.6144-5.12c0.1536-1.9456 1.9968-2.4064 11.9296-2.4064 6.3488 0 13.6192-0.4096 15.872-0.8192 2.4064-0.4096 5.8368-1.1264 7.68-1.536 18.1248-3.584 41.5232-17.7664 56.832-34.3552 6.2464-6.656 22.7328-30.0544 22.7328-32.2048 0-0.256 2.56-5.12 5.632-10.6496 10.8032-19.712 23.8592-55.6032 33.3824-91.648 3.7888-14.2848 4.9152-34.304 2.9696-48.1792a248.6272 248.6272 0 0 0-6.8096-34.7648c-4.5568-18.8416-15.36-52.224-22.4256-69.3248a137.0624 137.0624 0 0 1-4.2496-11.6736c0-0.6656 3.3792-2.816 7.5264-4.8128z m-202.8544 24.9856a217.5488 217.5488 0 0 0-65.0752 17.7152c-17.6128 7.5264-29.696 14.336-29.5424 16.5888 0.3072 4.2496 59.5968 84.1216 72.0896 97.1776 11.776 12.288 27.8016 23.3984 39.2704 27.0848 14.4896 4.6592 32.0512 5.12 48.2304 1.4336 30.5152-7.1168 42.3936-15.616 47.2576-33.9456 1.9456-7.7824 2.0992-38.9632 0.1024-48.896-8.0896-41.2672-27.8016-65.024-61.1328-73.728a155.7504 155.7504 0 0 0-51.2-3.4304z" fill="#FE8432" p-id="26821"></path></svg>',width:24,height:24}}})}const SJ=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,EJ=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,_J=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,AJ=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,TJ=St.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[_r({find:SJ,type:this.type}),_r({find:_J,type:this.type})]},addPasteRules(){return[Io({find:EJ,type:this.type}),Io({find:AJ,type:this.type})]}}).extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:ee,componentProps:{action:()=>e==null?void 0:e.chain().focus().toggleBold().run(),isActive:()=>e.isActive("bold")||!1,disabled:!(e!=null&&e.isEditable)||!e.can().toggleBold(),icon:"Bold",shortcutKeys:["mod","B"],tooltip:n("editor.bold.tooltip")}})}}}),MJ=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,OJ=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,vJ=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,NJ=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,IJ=St.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[_r({find:MJ,type:this.type}),_r({find:vJ,type:this.type})]},addPasteRules(){return[Io({find:OJ,type:this.type}),Io({find:NJ,type:this.type})]}}).extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button({editor:e,t:n}){return{component:ee,componentProps:{action:()=>e.chain().toggleItalic().focus().run(),isActive:()=>e.isActive("italic")||!1,disabled:!(e!=null&&e.isEditable)||!e.can().toggleItalic(),shortcutKeys:["mod","I"],icon:"Italic",tooltip:n("editor.italic.tooltip")}}}}}}),BJ=St.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}).extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button({editor:e,t:n}){return{component:ee,componentProps:{action:()=>e.chain().toggleUnderline().focus().run(),isActive:()=>e.isActive("underline")||!1,disabled:!e.isEditable||!e.can().toggleUnderline(),icon:"Underline",shortcutKeys:["mod","U"],tooltip:n("editor.underline.tooltip")}}}}}}),RJ=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,PJ=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,DJ=St.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[_r({find:RJ,type:this.type})]},addPasteRules(){return[Io({find:PJ,type:this.type})]}}).extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:ee,componentProps:{action:()=>e.chain().toggleStrike().focus().run(),isActive:()=>e.isActive("strike")||!1,disabled:!e.isEditable||!e.can().toggleStrike(),icon:"Strikethrough",shortcutKeys:["shift","mod","X"],tooltip:n("editor.strike.tooltip")}})}}}),$J=/(^|[^`])`([^`]+)`(?!`)/,LJ=/(^|[^`])`([^`]+)`(?!`)/g,VJ=St.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[_r({find:$J,type:this.type})]},addPasteRules(){return[Io({find:LJ,type:this.type})]}}).extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),toolbar:!1,button:({editor:e,t:n})=>({component:ee,componentProps:{action:()=>e==null?void 0:e.chain().focus().toggleCode().run(),isActive:()=>e.isActive("code")||!1,disabled:!(e!=null&&e.isEditable)||!e.can().toggleCode(),icon:"Code",shortcutKeys:["mod","E"],tooltip:n("editor.code.tooltip")}})}}});var qd={},mn=Symbol(),jr=Symbol(),Tg=t=>typeof t=="string"?K[t]:t,K={plain:qd,plaintext:qd,text:qd,txt:qd},Mg=(t,e)=>(e[jr]||Yd)(t,e),Yd=(t,e)=>{for(var n=[t],o,r=[],s=0;o=Tg(e[mn]);)delete e[mn],Object.assign(e,o);for(DE(t,e,n,0);r[s++]=n[0],n=n[1];);return r},BE="</span>",Jd="",Qa="",RE=t=>{for(var e="",n=t.length,o=0;o<n;)e+=PE(t[o++]);return e},PE=t=>{if(t instanceof ls){var{type:e,alias:n,content:o}=t,r=Jd,s=Qa,a=`<span class="token ${e+(n?" "+n:"")+(e=="keyword"&&typeof o=="string"?" keyword-"+o:"")}">`;Qa+=BE,Jd+=a;var l=PE(o);return Jd=r,Qa=s,a+l+BE}return typeof t!="string"?RE(t):(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;"),Qa&&t.includes(`
`)?t.replace(/\n/g,Qa+`
`+Jd):t)},DE=(t,e,n,o,r)=>{for(var s in e)if(e[s])for(var a=0,l=e[s],c=Array.isArray(l)?l:[l];a<c.length;++a){if(r&&r[0]==s&&r[1]==a)return;for(var d=c[a],u=d.pattern||d,f=Tg(d.inside),p=d.lookbehind,h=d.greedy&&u.global,m=d.alias,g=n,y=o;g&&(!r||y<r[2]);y+=g[0].length,g=g[1]){var b=g[0],C=0,k,w;if(!(b instanceof ls)){if(u.lastIndex=h?y:0,k=u.exec(h?t:b),k&&p&&k[1]&&(w=k[1].length,k.index+=w,k[0]=k[0].slice(w)),h){if(!k)break;if(k[0]){for(var T=k.index,x=T+k[0].length,S;T>=y+(S=g[0].length);g=g[1],y+=S);if(g[0]instanceof ls)continue;for(var E=g,l=y;(l+=E[0].length)<x;E=E[1],C++);b=t.slice(y,l),k.index-=y}}if(k&&k[0]){for(var T=k.index,_=k[0],A=b.slice(T+_.length),M=y+b.length,v=new ls(s,f?Mg(_,f):_,_,m),L=g,z=0,D;L=L[1],z++<C;);A&&(!L||L[0]instanceof ls?L=[A,L]:L[0]=A+L[0]),y+=T,g[0]=T?b.slice(0,T):v,T?g=g[1]=[v,L]:g[1]=L,C&&(DE(t,e,g,y,D=[s,a,M]),M=D[2]),r&&M>r[2]&&(r[2]=M)}}}}};function ls(t,e,n,o){this.type=t,this.content=e,this.alias=o,this.length=n.length}var Xd="\\b(?:BASH(?:OPTS|_ALIASES|_ARG[CV]|_CMDS|_COMPLETION_COMPAT_DIR|_LINENO|_REMATCH|_SOURCE|_VERSINFO|_VERSION)?|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|E?UID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_(?:ADDRESS|ALL|IDENTIFICATION|MEASUREMENT|MONETARY|NAME|NUMERIC|PAPER|TELEPHONE|TIME)|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS[1-4]|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_(?:CONFIG_DIRS|CURRENT_DESKTOP|DATA_DIRS|GREETER_DATA_DIR|MENU_PREFIX|RUNTIME_DIR|SEAT|SEAT_PATH|SESSION_DESKTOP|SESSION_ID|SESSION_PATH|SESSION_TYPE|VTNR)|XMODIFIERS)\\b",Og={pattern:/(^(["']?)\w+\2)[ 	]+\S.*/,lookbehind:!0,alias:"punctuation"},$E={variable:/^\$\(|^`|\)$|`$/},Zd={bash:Og,environment:{pattern:RegExp("\\$"+Xd),alias:"constant"},variable:[{pattern:/\$?\(\([^]*?\)\)/g,greedy:!0,inside:{variable:[{pattern:/(^\$[^]+)../,lookbehind:!0},/^\$\(\(/],number:/\b0x[a-fA-F\d]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|&&|\|\||(?:\*\*|<<|>>|[%&|^!=<>/*+-])=?|[?:~]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:[^()]|\([^)]*\))*\)|`[^`]+`/g,greedy:!0,inside:$E},{pattern:/\$\{[^}]*\}/g,greedy:!0,inside:{operator:/:[?=+-]?|[!/]|##?|%%?|\^\^?|,,?/,punctuation:/[[\]]/,environment:{pattern:RegExp("(\\{)"+Xd),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[a-fA-F\d]{8}|u[a-fA-F\d]{4}|x[a-fA-F\d]{1,2})/},FJ=Og.inside=K.sh=K.shell=K.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,lookbehind:!0,alias:"variable"},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,lookbehind:!0,alias:"variable",inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+Xd),lookbehind:!0,alias:"constant"}}},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?![^\s=])/,lookbehind:!0,alias:"variable"},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[^]*?\n\2/g,lookbehind:!0,greedy:!0,inside:Zd},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[^]*?\n\3/g,lookbehind:!0,greedy:!0,inside:{bash:Og}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[^]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^\\"`$])*"/g,lookbehind:!0,greedy:!0,inside:Zd},{pattern:/(^|[^$\\])'[^']*'/g,lookbehind:!0,greedy:!0},{pattern:/\$'(?:\\[^]|[^\\'])*'/g,greedy:!0,inside:{entity:Zd.entity}}],environment:{pattern:RegExp("\\$?"+Xd),alias:"constant"},variable:Zd.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|c?fdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cron|crontab|c?split|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff3?|dig|dircolors|dirname|dirs?|dmesg|docker|docker-compose|du|[ef]?grep|eject|env|ethtool|expand|expect|expr|fdformat|fg|file|find|fmt|fold|format|free|fsck|fuser|g?awk|git|g?parted|groupadd|groupdel|groupmod|groups|grub-mkconfig|halt|head|hg|history|host|hostname|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|killall|less|link|ln|logname|logrotate|look|lpc|lprint[dq]?|lprm?|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mm?v|more|most|mtools|m?tr|mutt|nano|nc|netstat|nice|nl|node|nohup|notify-send|nslookup|op|open|passwd|paste|pathchk|ping|p?kill|p?npm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ra[mr]|reboot|remsync|rename|renice|rev|rmdir|rp?m|r?sync|[sr]?cp|screen|sdiff|se[dq]|sendmail|service|s?ftp|shellcheck|shuf|shutdown|sleep|s?locate|[sz]?sh|stat|strace|sudo|sum?|suspend|swapon|sysctl|tac|tail|tar|tee|time|timeout|h?top|touch|traceroute|t?sort|tty|u?mount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vim?|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|g?zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|[ls]et|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[[\]{};\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}};["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"].forEach(t=>$E[t]=FJ[t]);var LE=/(?:"(?:\\[^]|[^\\\n"])*"|'(?:\\[^]|[^\\\n'])*')/g,Qd=LE.source,VE={rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^)]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}};VE[mn]=K.css={comment:/\/\*[^]*?\*\//,atrule:{pattern:RegExp(`@[\\w-](?:[^;{\\s"']|\\s+(?!\\s)|${Qd})*?(?:;|(?=\\s*\\{))`),inside:VE},url:{pattern:RegExp(`\\burl\\((?:${Qd}|(?:[^\\\\
"')=]|\\\\[^])*)\\)`,"gi"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+Qd+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|${Qd})*(?=\\s*\\{)`),lookbehind:!0},string:{pattern:LE,greedy:!0},property:{pattern:/(^|[^-\w\xa0-\uffff])(?!\d)(?:(?!\s)[-\w\xa0-\uffff])+(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z\d])[-a-z\d]+(?=\()/i,lookbehind:!0},punctuation:/[(){},:;]/};var eu=(t,e)=>{if(e.has(t))return e.get(t);var n=t,o=zJ.call(t).slice(8,-1);if(o=="Object"){e.set(t,n={});for(var r in t)n[r]=eu(t[r],e);t[mn]&&(n[mn]=eu(t[mn],e)),t[jr]&&(n[jr]=t[jr])}else if(o=="Array"){e.set(t,n=[]);for(var s=0,a=t.length;s<a;s++)n[s]=eu(t[s],e)}return n},vg=t=>eu(t,new Map),or=(t,e)=>Object.assign(vg(K[t]),e),Ve=(t,e,n)=>{var o={};for(var r in t)o[r]=t[r],delete t[r];for(var r in o)r==e&&Object.assign(t,n),n.hasOwnProperty(r)||(t[r]=o[r])},zJ={}.toString,tu=K.css,FE={pattern:/(\b\d+)(?:%|[a-z]+(?![\w-]))/,lookbehind:!0},zE={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};tu.selector.inside=tu.atrule.inside["selector-function-argument"].inside={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:/\[(?:[^[\]"']|(["'])(?:\\[^]|(?!\1)[^\\\n])*\1)*\]/g,greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xa0-\uffff])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xa0-\uffff])+/,lookbehind:!0},"attr-value":{pattern:/(=\s*)(?:(?!\s)[-\w\xa0-\uffff])+(?=\s*$)|(["'])(?:\\[^]|(?!\2)[^\\\n])*\2/,lookbehind:!0},operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/},Ve(tu,"property",{variable:{pattern:/(^|[^-\w\xa0-\uffff])--(?!\d)(?:(?!\s)[-\w\xa0-\uffff])*/i,lookbehind:!0}}),Ve(tu,"function",{operator:{pattern:/(\s)[/*+-](?!\S)/,lookbehind:!0},hexcode:{pattern:/\B#[a-f\d]{3,8}\b/i,alias:"color"},color:[{pattern:/(^|[^\w-])(?:(?:alice|cadet|cornflower|deepsky|dodger|midnight|powder|royal|sky|steel)blue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blueviolet|brown|burlywood|chartreuse|chocolate|coral|cornsilk|crimson|(?:dark)?(?:blue|cyan|goldenrod|gr[ae]y|green|khaki|magenta|olivegreen|orange|orchid|red|salmon|seagreen|slateblue|slategr[ae]y|turquoise|violet)|deeppink|dimgr[ae]y|firebrick|floralwhite|(?:forest|lawn|lime|pale|spring)green|fuchsia|gainsboro|ghostwhite|gold|greenyellow|honeydew|hotpink|indianred|indigo|ivory|lavender|lavenderblush|lemonchiffon|light(?:blue|coral|cyan|goldenrodyellow|gr[ae]y|green|pink|salmon|seagreen|skyblue|slategr[ae]y|steelblue|yellow)|lime|linen|maroon|medium(?:aquamarine|blue|orchid|purple|seagreen|slateblue|springgreen|turquoise|violetred)|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orangered|palegoldenrod|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|purple|rebeccapurple|rosybrown|saddlebrown|sandybrown|seashell|sienna|silver|snow|tan|teal|thistle|tomato|transparent|wheat|white|whitesmoke|yellow|yellowgreen)(?![\w-])/i,lookbehind:!0},{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{function:/^[^(]+/,unit:FE,number:zE,punctuation:/[(),]/}}],entity:/\\[a-f\d]{1,8}/i,unit:FE,number:zE}),K.ini={comment:{pattern:/(^[ \f	\v]*)[#;].*/m,lookbehind:!0},section:{pattern:/(^[ \f	\v]*)\[[^\n\]]*\]?/m,lookbehind:!0,inside:{"section-name":{pattern:/(^\[[ \f	\v]*)[^ \f	\v\]]+(?:[ \f	\v]+[^ \f	\v\]]+)*/,lookbehind:!0,alias:"selector"},punctuation:/[[\]]/}},key:{pattern:/(^[ \f	\v]*)[^ \f\n	\v=]+(?:[ \f	\v]+[^ \f\n	\v=]+)*(?=[ \f	\v]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/(=[ \f	\v]*)[^ \f\n	\v]+(?:[ \f	\v]+[^ \f\n	\v]+)*/,lookbehind:!0,alias:"attr-value",inside:{"inner-value":{pattern:/^(["']).+(?=\1$)/,lookbehind:!0}}},punctuation:/=/};var rr=()=>({pattern:/\/\/.*|\/\*[^]*?(?:\*\/|$)/g,greedy:!0}),Ng=()=>({pattern:/(["'])(?:\\[^]|(?!\1)[^\\\n])*\1/g,greedy:!0}),HE=/\b0x[a-f\d]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,cs=/[()[\]{}.,:;]/,zt=/\b(?:false|true)\b/,Ig={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[^]+/}};Ig.expression.inside=K.kts=K.kt=K.kotlin={"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:Ig},string:/[^]+/}},{pattern:/"(?:\\.|[^\\\n"$]|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\\\)*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:Ig},string:/[^]+/}}],char:{pattern:/'(?:[^\\\n']|\\(?:.|u[a-fA-F\d]{0,4}))'/g,greedy:!0},comment:rr(),annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"},keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},boolean:zt,label:{pattern:/\b\w+@|@\w+/,alias:"symbol"},function:{pattern:/(?:`[^\n`]+`|\b\w+)(?=\s*\()|(\.)(?:`[^\n`]+`|\w+)(?=\s*\{)/g,lookbehind:!0,greedy:!0},number:/\b(?:0[xX][a-fA-F\d]+(?:_[a-fA-F\d]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/--|\+\+|&&|\|\||->|[!=]==|!!|[%!=<>/*+-]=?|[?:]:?|\.\.|\b(?:and|inv|shl|u?shr|x?or)\b/,punctuation:cs};var UE=[{pattern:/&[a-z\d]{1,8};/i,alias:"named-entity"},/&#x?[a-f\d]{1,8};/i],HJ={pattern:/<\/?(?!\d)[^\s/=>$<%]+(?:\s(?:\s*[^\s/=>]+(?:\s*=\s*(?!\s)(?:"[^"]*"|'[^']*'|[^\s"'=>]+(?=[\s>]))?|(?=[\s/>])))+)?\s*\/?>/g,greedy:!0,inside:{punctuation:/^<\/?|\/?>$/,tag:{pattern:/^\S+/,inside:{namespace:/^[^:]+:/}},"attr-value":[{pattern:/(=\s*)(?:"[^"]*"|'[^']*'|[^\s"'=>]+)/g,lookbehind:!0,greedy:!0,inside:{punctuation:/^["']|["']$/,entity:UE}}],"attr-equals":/=/,"attr-name":{pattern:/\S+/,inside:{namespace:/^[^:]+:/}}}};K.rss=K.atom=K.ssml=K.xml={comment:{pattern:/<!--(?:(?!<!--)[^])*?-->/g,greedy:!0},prolog:{pattern:/<\?[^]+?\?>/g,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/gi,greedy:!0,inside:{"internal-subset":{pattern:/(\[)[^]+(?=\]\s*>$)/,lookbehind:!0,inside:"xml"},string:/"[^"]*"|'[^']*'/,punctuation:/^<!|[>[\]]/,"doctype-tag":/^DOCTYPE/i,name:/\S+/}},cdata:{pattern:/<!\[CDATA\[[^]*?\]\]>/gi,greedy:!0},tag:HJ,entity:UE,"markup-bracket":{pattern:/[()[\]{}]/,alias:"punctuation"}};var Bg=(t,e)=>(t["language-"+e]={pattern:/[^]+/,inside:e},t),jE=(t,e)=>({pattern:RegExp(`(<${t}[^>]*>)(?!</${t}>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[^])+?(?=</${t}>)`,"gi"),lookbehind:!0,greedy:!0,inside:Bg({"included-cdata":{pattern:/<!\[CDATA\[[^]*?\]\]>/i,inside:Bg({cdata:/^<!\[CDATA\[|\]\]>$/i},e)}},e)}),WE=(t,e)=>({pattern:RegExp(`((?:^|["'\\s])(?:${t})\\s*=\\s*)(?:"[^"]*"|'[^']*'|[^\\s"'=>]+)`,"gi"),lookbehind:!0,greedy:!0,inside:Bg({punctuation:/^["']|["']$/},e)}),KE=K.svg=K.mathml=K.html=K.markup=vg(K.xml);KE.tag.inside["attr-value"].unshift(WE("style","css"),WE("on[a-z]+","javascript")),Ve(KE,"cdata",{style:jE("style","css"),script:jE("script","javascript")}),K.r={comment:/#.*/,string:{pattern:/(["'])(?:\\.|(?!\1)[^\\\n])*\1/g,greedy:!0},"percent-operator":{pattern:/%[^%\s]*%/,alias:"operator"},boolean:/\b(?:FALSE|TRUE)\b/,ellipsis:/\.\.(?:\.|\d+)/,number:[/\b(?:Inf|NaN)\b/,/(?:\b0x[a-fA-F\d]+(?:\.\d*)?|\b\d+(?:\.\d*)?|\B\.\d+)(?:[EePp][+-]?\d+)?[iL]?/],keyword:/\b(?:NA|NA_character_|NA_complex_|NA_integer_|NA_real_|NULL|break|else|for|function|if|in|next|repeat|while)\b/,operator:/->>?|<=|<<?-|[!=<>]=?|::?|&&?|\|\|?|[~^$@/*+-]/,punctuation:/[()[\]{},;]/},K.basic={comment:{pattern:/(?:!|rem\b).+/i,inside:{keyword:/^rem/i}},string:{pattern:/"(?:""|[#$%&'().,:;\w ?^!=<>/*+-])*"/g,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,keyword:/\b(?:as|beep|bload|bsave|call absolute|call|case|chain|chdir|clear|close|cls|com|common|const|data|declare|def(?: fn| seg|dbl|int|[ls]ng|str)|dim|do|double|else|elseif|environ|erase|error|exit|field|files|for|function|get|gosub|goto|if|input|integer|ioctl|key|kill|line input|locate|lock|long|loop|[lr]set|mkdir|name|next|off|on(?: com| error| key| timer)?|open|option base|[op]ut|poke|read|redim|rem|restore|resume|return|rmdir|run|select case|shared|shell|single|sleep|static|step|stop|string|sub|swap|system|then|timer|to|troff|tron|type|unlock|until|using|view print|wait|w?end|while|write)(?:\$|\b)/i,function:/\b(?:abs|access|a?cos|angle|area|arithmetic|array|a?sin|ask|atn?|base|begin|break|cause|ceil|chr|clip|collate|color|co[nst]|cosh|csc|date|datum|debug|decimal|de[fgt]|degrees|delete|device|display|dot|elapsed|eps|erasable|exline|exp|external|extype|filetype|fixed|fp|go|graph|handler|idn|image|int?|internal|ip|is|keyed|[lu]bound|[lu]case|left|le[nt]|length|lines?|log2?|log10|[lr]trim|margin|ma[tx]|maxnum|mi[dn]|missing|mod|native|nul|numeric|of|option|ord|organization|outin|output|pi|pointer|points?|pos|print|program|prompt|rad|radians|randomize|record|recsize|rectype|relative|remainder|repeat|rest|retry|rewrite|right|rnd|round|same|se[ct]|select|sequential|setter|sgn|sinh|size|skip|s[qt]r|standard|status|stream|style|tab|tanh?|template|text|there|time|timeout|trace|transform|truncate|use|val|variable|viewport|when|window|with|zer|zonewidth)(?:\$|\b)/i,operator:/<=|<>|>=|[&^=<>/*+-]|\b(?:and|eqv|imp|not|x?or)\b/i,punctuation:/[(),:;]/},K.vbnet=or("basic",{comment:{pattern:/(?:!|'|rem\b).*/i,inside:{keyword:/^rem/i}},string:{pattern:/(^|[^"])"(?:""|[^"])*"(?!")/g,lookbehind:!0,greedy:!0},keyword:/(?:\b(?:addhandler|addressof|alias|and|andalso|as|beep|bload|boolean|bsave|byref|byval|call absolute|call|case|catch|cbool|c?byte|cc?har|c?date|cdbl|cdec|chain|chdir|cu?int|class|clear|close|cls|cobj|com|common|const|continue|c?sbyte|c?u?short|c?sng|cstr|c?type|cu?lng|data|decimal|declare|def(?: fn| seg|dbl|int|lng|sng|str)|default|delegate|dim|directcast|do|double|else|elseif|enum|environ|erase|error|event|exit|false|true|field|files|finally|for each|for|friend|function|[gls]et|gettype|getxmlnamespace|global|gosub|goto|handles|i[fns]|implements|imports|inherits|input|interface|ioctl|isnot|key|kill|lib|like|line input|locate|lock|loop|[lr]set|me|mkdir|mod|module|mustinherit|mustoverride|mybase|myclass|name|namespace|narrowing|new|next|not|nothing|notinheritable|notoverridable|object|off?|on (?:com|error|key|timer)|on|open|operator|option base|option|optional|orelse|out|overloads|overridable|overrides|paramarray|partial|poke|private|property|protected|public|put|raiseevent|read|readonly|redim|removehandler|restore|resume|return|rmdir|run|select case|select|shadows|shared|shell|single|sleep|static|step|stop|string|structure|sub|swap|synclock|system|[tw]hen|throw|timer|to|troff|tron|try|trycast|typeof|u?integer|u?long|unlock|until|using|view print|wait|w?end|while|widening|with|withevents|write|writeonly|x?or)|\B#(?:const|else|elseif|end|if))(?:\$|\b)/i,punctuation:/[(){},:;]/});var GE={pattern:/'(?:\\[^]|[^\\\n']){0,32}'/g,greedy:!0},qE={pattern:/\/\/(?:[^\\\n]|\\\n?)*|\/\*[^]*?(?:\*\/|$)/g,greedy:!0},YE={pattern:/"(?:\\[^]|[^\\\n"])*"/g,greedy:!0},JE={pattern:/\S[^]*/};JE.inside=K.c={comment:qE,char:GE,macro:{pattern:/(^[ 	]*)#\s*[a-z](?:[^\\\n/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\[^])*/img,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},YE],char:GE,comment:qE,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=\n)/,expression:JE}},string:YE,"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([^]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[a-f\d]+(?:\.[a-f\d]*)?|\.[a-f\d]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/->|([&|:+-])\1|[?:~]|>>=?|<<=?|[%&|^!=<>/*+-]=?/,punctuation:cs},Ve(K.opencl=or("c",{keyword:/\b(?:(?:__)?(?:constant|global|kernel|local|private|read_only|read_write|write_only)|__attribute__|auto|(?:bool|u?(?:char|int|long|short)|half|quad)(?:2|3|4|8|16)?|break|case|complex|const|continue|(?:double|float)(?:16(?:x(?:1|2|4|8|16))?|1x(?:1|2|4|8|16)|2(?:x(?:1|2|4|8|16))?|3|4(?:x(?:1|2|4|8|16))?|8(?:x(?:1|2|4|8|16))?)?|default|do|else|enum|extern|for|goto|if|imaginary|inline|packed|pipe|register|restrict|return|signed|sizeof|static|struct|switch|typedef|uniform|union|unsigned|void|volatile|while)\b/,number:/(?:\b0x(?:[a-f\d]+(?:\.[a-f\d]*)?|\.[a-f\d]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[fuhl]{0,4}/i,boolean:zt,"constant-opencl-kernel":{pattern:/\b(?:CHAR_(?:BIT|MAX|MIN)|CLK_(?:ADDRESS_(?:CLAMP(?:_TO_EDGE)?|NONE|REPEAT)|FILTER_(?:LINEAR|NEAREST)|(?:GLOBAL|LOCAL)_MEM_FENCE|NORMALIZED_COORDS_(?:FALSE|TRUE))|CL_(?:BGRA|(?:HALF_)?FLOAT|INTENSITY|LUMINANCE|A?R?G?B?[Ax]?|(?:(?:UN)?SIGNED|[US]NORM)_(?:INT(?:8|16|32))|UNORM_(?:INT_101010|SHORT_(?:555|565)))|(?:DBL|FLT|HALF)_(?:DIG|EPSILON|(?:MAX|MIN)(?:(?:_10)?_EXP)?|MANT_DIG)|FLT_RADIX|HUGE_VALF?|(?:INT|LONG|SCHAR|SHRT)_(?:MAX|MIN)|INFINITY|MAXFLOAT|M_(?:[12]_PI|2_SQRTPI|E|LN2|LN10|LOG2E?|LOG10E?|PI(?:_[24])?|SQRT(?:1_2|2))(?:_F|_H)?|NAN|(?:UCHAR|UINT|ULONG|USHRT)_MAX)\b/,alias:"constant"}}),"class-name",{"builtin-type":{pattern:/\b(?:_cl_(?:command_queue|context|device_id|event|kernel|mem|platform_id|program|sampler)|cl_(?:image_format|mem_fence_flags)|clk_event_t|event_t|image(?:1d_(?:array_|buffer_)?t|2d_(?:array_(?:depth_|msaa_depth_|msaa_)?|depth_|msaa_depth_|msaa_)?t|3d_t)|ndrange_t|ptrdiff_t|queue_t|reserve_id_t|sampler_t|size_t|u?intptr_t)\b/,alias:"keyword"}});var Rg={"type-opencl-host":{pattern:/\b(?:cl_(?:GLenum|GLint|GLuin|addressing_mode|bitfield|bool|buffer_create_type|build_status|channel_(?:order|type)|(?:u?(?:char|int|long|short)|double|float)(?:[2348]|16)?|command_(?:queue(?:_info|_properties)?|type)|context(?:_info|_properties)?|device_(?:exec_capabilities|fp_config|id|info|local_mem_type|mem_cache_type|type)|(?:event|sampler)(?:_info)?|filter_mode|half|image_info|kernel(?:_info|_work_group_info)?|map_flags|mem(?:_flags|_info|_object_type)?|platform_(?:id|info)|profiling_info|program(?:_build_info|_info)?))\b/,alias:"keyword"},"boolean-opencl-host":{pattern:/\bCL_(?:FALSE|TRUE)\b/,alias:"boolean"},"constant-opencl-host":{pattern:/\bCL_(?:A|ABGR|ADDRESS_(?:CLAMP(?:_TO_EDGE)?|MIRRORED_REPEAT|NONE|REPEAT)|ARGB|BLOCKING|BUFFER_CREATE_TYPE_REGION|BUILD_(?:ERROR|IN_PROGRESS|NONE|PROGRAM_FAILURE|SUCCESS)|COMMAND_(?:ACQUIRE_GL_OBJECTS|BARRIER|COPY_(?:BUFFER(?:_RECT|_TO_IMAGE)?|IMAGE(?:_TO_BUFFER)?)|FILL_(?:BUFFER|IMAGE)|MAP(?:_BUFFER|_IMAGE)|MARKER|MIGRATE(?:_SVM)?_MEM_OBJECTS|NATIVE_KERNEL|NDRANGE_KERNEL|READ_(?:BUFFER(?:_RECT)?|IMAGE)|RELEASE_GL_OBJECTS|SVM_(?:FREE|MAP|MEMCPY|MEMFILL|UNMAP)|TASK|UNMAP_MEM_OBJECT|USER|WRITE_(?:BUFFER(?:_RECT)?|IMAGE))|COMPILER_NOT_AVAILABLE|COMPILE_PROGRAM_FAILURE|COMPLETE|CONTEXT_(?:DEVICES|INTEROP_USER_SYNC|NUM_DEVICES|PLATFORM|PROPERTIES|REFERENCE_COUNT)|DEPTH(?:_STENCIL)?|DEVICE_(?:ADDRESS_BITS|AFFINITY_DOMAIN_(?:L[1-4]_CACHE|NEXT_PARTITIONABLE|NUMA)|AVAILABLE|BUILT_IN_KERNELS|COMPILER_AVAILABLE|DOUBLE_FP_CONFIG|ENDIAN_LITTLE|ERROR_CORRECTION_SUPPORT|EXECUTION_CAPABILITIES|EXTENSIONS|GLOBAL_(?:MEM_(?:CACHELINE_SIZE|CACHE_SIZE|CACHE_TYPE|SIZE)|VARIABLE_PREFERRED_TOTAL_SIZE)|HOST_UNIFIED_MEMORY|IL_VERSION|IMAGE(?:2D_MAX_(?:HEIGHT|WIDTH)|3D_MAX_(?:DEPTH|HEIGHT|WIDTH)|_BASE_ADDRESS_ALIGNMENT|_MAX_ARRAY_SIZE|_MAX_BUFFER_SIZE|_PITCH_ALIGNMENT|_SUPPORT)|LINKER_AVAILABLE|LOCAL_MEM_SIZE|LOCAL_MEM_TYPE|MAX_(?:CLOCK_FREQUENCY|COMPUTE_UNITS|CONSTANT_ARGS|CONSTANT_BUFFER_SIZE|GLOBAL_VARIABLE_SIZE|MEM_ALLOC_SIZE|NUM_SUB_GROUPS|ON_DEVICE_(?:EVENTS|QUEUES)|PARAMETER_SIZE|PIPE_ARGS|READ_IMAGE_ARGS|READ_WRITE_IMAGE_ARGS|SAMPLERS|WORK_GROUP_SIZE|WORK_ITEM_DIMENSIONS|WORK_ITEM_SIZES|WRITE_IMAGE_ARGS)|MEM_BASE_ADDR_ALIGN|MIN_DATA_TYPE_ALIGN_SIZE|NAME|NATIVE_VECTOR_WIDTH_(?:CHAR|DOUBLE|FLOAT|HALF|INT|LONG|SHORT)|NOT_(?:AVAILABLE|FOUND)|OPENCL_C_VERSION|PARENT_DEVICE|PARTITION_(?:AFFINITY_DOMAIN|BY_AFFINITY_DOMAIN|BY_COUNTS|BY_COUNTS_LIST_END|EQUALLY|FAILED|MAX_SUB_DEVICES|PROPERTIES|TYPE)|PIPE_MAX_(?:ACTIVE_RESERVATIONS|PACKET_SIZE)|PLATFORM|PREFERRED_(?:GLOBAL_ATOMIC_ALIGNMENT|INTEROP_USER_SYNC|LOCAL_ATOMIC_ALIGNMENT|PLATFORM_ATOMIC_ALIGNMENT|VECTOR_WIDTH_(?:CHAR|DOUBLE|FLOAT|HALF|INT|LONG|SHORT))|PRINTF_BUFFER_SIZE|PROFILE|PROFILING_TIMER_RESOLUTION|QUEUE_(?:ON_(?:DEVICE_(?:MAX_SIZE|PREFERRED_SIZE|PROPERTIES)|HOST_PROPERTIES)|PROPERTIES)|REFERENCE_COUNT|SINGLE_FP_CONFIG|SUB_GROUP_INDEPENDENT_FORWARD_PROGRESS|SVM_(?:ATOMICS|CAPABILITIES|COARSE_GRAIN_BUFFER|FINE_GRAIN_BUFFER|FINE_GRAIN_SYSTEM)|TYPE(?:_ACCELERATOR|_ALL|_CPU|_CUSTOM|_DEFAULT|_GPU)?|VENDOR(?:_ID)?|VERSION)|DRIVER_VERSION|EVENT_(?:COMMAND_(?:EXECUTION_STATUS|QUEUE|TYPE)|CONTEXT|REFERENCE_COUNT)|EXEC_(?:KERNEL|NATIVE_KERNEL|STATUS_ERROR_FOR_EVENTS_IN_WAIT_LIST)|FILTER_(?:LINEAR|NEAREST)|FLOAT|FP_(?:CORRECTLY_ROUNDED_DIVIDE_SQRT|DENORM|FMA|INF_NAN|ROUND_TO_INF|ROUND_TO_NEAREST|ROUND_TO_ZERO|SOFT_FLOAT)|GLOBAL|HALF_FLOAT|IMAGE_(?:ARRAY_SIZE|BUFFER|DEPTH|ELEMENT_SIZE|FORMAT|FORMAT_MISMATCH|FORMAT_NOT_SUPPORTED|HEIGHT|NUM_MIP_LEVELS|NUM_SAMPLES|ROW_PITCH|SLICE_PITCH|WIDTH)|INTENSITY|INVALID_(?:ARG_INDEX|ARG_SIZE|ARG_VALUE|BINARY|BUFFER_SIZE|BUILD_OPTIONS|COMMAND_QUEUE|COMPILER_OPTIONS|CONTEXT|DEVICE|DEVICE_PARTITION_COUNT|DEVICE_QUEUE|DEVICE_TYPE|EVENT|EVENT_WAIT_LIST|GLOBAL_OFFSET|GLOBAL_WORK_SIZE|GL_OBJECT|HOST_PTR|IMAGE_DESCRIPTOR|IMAGE_FORMAT_DESCRIPTOR|IMAGE_SIZE|KERNEL|KERNEL_ARGS|KERNEL_DEFINITION|KERNEL_NAME|LINKER_OPTIONS|MEM_OBJECT|MIP_LEVEL|OPERATION|PIPE_SIZE|PLATFORM|PROGRAM|PROGRAM_EXECUTABLE|PROPERTY|QUEUE_PROPERTIES|SAMPLER|VALUE|WORK_DIMENSION|WORK_GROUP_SIZE|WORK_ITEM_SIZE)|KERNEL_(?:ARG_(?:ACCESS_(?:NONE|QUALIFIER|READ_ONLY|READ_WRITE|WRITE_ONLY)|ADDRESS_(?:CONSTANT|GLOBAL|LOCAL|PRIVATE|QUALIFIER)|INFO_NOT_AVAILABLE|NAME|TYPE_(?:CONST|NAME|NONE|PIPE|QUALIFIER|RESTRICT|VOLATILE))|ATTRIBUTES|COMPILE_NUM_SUB_GROUPS|COMPILE_WORK_GROUP_SIZE|CONTEXT|EXEC_INFO_SVM_FINE_GRAIN_SYSTEM|EXEC_INFO_SVM_PTRS|FUNCTION_NAME|GLOBAL_WORK_SIZE|LOCAL_MEM_SIZE|LOCAL_SIZE_FOR_SUB_GROUP_COUNT|MAX_NUM_SUB_GROUPS|MAX_SUB_GROUP_SIZE_FOR_NDRANGE|NUM_ARGS|PREFERRED_WORK_GROUP_SIZE_MULTIPLE|PRIVATE_MEM_SIZE|PROGRAM|REFERENCE_COUNT|SUB_GROUP_COUNT_FOR_NDRANGE|WORK_GROUP_SIZE)|LINKER_NOT_AVAILABLE|LINK_PROGRAM_FAILURE|LOCAL|LUMINANCE|MAP_(?:FAILURE|READ|WRITE|WRITE_INVALIDATE_REGION)|MEM_(?:ALLOC_HOST_PTR|ASSOCIATED_MEMOBJECT|CONTEXT|COPY_HOST_PTR|COPY_OVERLAP|FLAGS|HOST_NO_ACCESS|HOST_PTR|HOST_READ_ONLY|HOST_WRITE_ONLY|KERNEL_READ_AND_WRITE|MAP_COUNT|OBJECT_(?:ALLOCATION_FAILURE|BUFFER|IMAGE1D|IMAGE1D_ARRAY|IMAGE1D_BUFFER|IMAGE2D|IMAGE2D_ARRAY|IMAGE3D|PIPE)|OFFSET|READ_ONLY|READ_WRITE|REFERENCE_COUNT|SIZE|SVM_ATOMICS|SVM_FINE_GRAIN_BUFFER|TYPE|USES_SVM_POINTER|USE_HOST_PTR|WRITE_ONLY)|MIGRATE_MEM_OBJECT_(?:CONTENT_UNDEFINED|HOST)|MISALIGNED_SUB_BUFFER_OFFSET|NONE|NON_BLOCKING|OUT_OF_(?:HOST_MEMORY|RESOURCES)|PIPE_(?:MAX_PACKETS|PACKET_SIZE)|PLATFORM_(?:EXTENSIONS|HOST_TIMER_RESOLUTION|NAME|PROFILE|VENDOR|VERSION)|PROFILING_(?:COMMAND_(?:COMPLETE|END|QUEUED|START|SUBMIT)|INFO_NOT_AVAILABLE)|PROGRAM_(?:BINARIES|BINARY_SIZES|BINARY_TYPE(?:_COMPILED_OBJECT|_EXECUTABLE|_LIBRARY|_NONE)?|BUILD_(?:GLOBAL_VARIABLE_TOTAL_SIZE|LOG|OPTIONS|STATUS)|CONTEXT|DEVICES|IL|KERNEL_NAMES|NUM_DEVICES|NUM_KERNELS|REFERENCE_COUNT|SOURCE)|QUEUED|QUEUE_(?:CONTEXT|DEVICE|DEVICE_DEFAULT|ON_DEVICE|ON_DEVICE_DEFAULT|OUT_OF_ORDER_EXEC_MODE_ENABLE|PROFILING_ENABLE|PROPERTIES|REFERENCE_COUNT|SIZE)|RA?|READ_(?:ONLY|WRITE)_CACHE|RG|RGB[Ax]?|RG?x|RUNNING|SAMPLER_(?:ADDRESSING_MODE|CONTEXT|FILTER_MODE|LOD_MAX|LOD_MIN|MIP_FILTER_MODE|NORMALIZED_COORDS|REFERENCE_COUNT)|(?:UN)?SIGNED_INT(?:8|16|32)|SNORM_INT(?:8|16)|SUBMITTED|SUCCESS|UNORM_INT(?:8|16|24|_101010|_101010_2)|UNORM_SHORT_5[56]5|VERSION_(?:1_[012]|2_[01])|s?BGRA|sRGB[Ax]?)\b/,alias:"constant"},"function-opencl-host":{pattern:/\bcl(?:BuildProgram|CloneKernel|CompileProgram|Create(?:Buffer|CommandQueue(?:WithProperties)?|Context|ContextFromType|Image|Image[23]D|Kernel|KernelsInProgram|Pipe|ProgramWith(?:Binary|BuiltInKernels|IL|Source)|Sampler|SamplerWithProperties|SubBuffer|SubDevices|UserEvent)|Enqueue(?:(?:Barrier|Marker)(?:WithWaitList)?|Copy(?:Buffer(?:Rect|ToImage)?|Image(?:ToBuffer)?)|(?:Fill|Map)(?:Buffer|Image)|MigrateMemObjects|NDRangeKernel|NativeKernel|(?:Read|Write)(?:Buffer(?:Rect)?|Image)|SVM(?:Free|Map|MemFill|Memcpy|MigrateMem|Unmap)|Task|UnmapMemObject|WaitForEvents)|Finish|Flush|Get(?:CommandQueueInfo|ContextInfo|Device(?:AndHostTimer|IDs|Info)|Event(?:Profiling)?Info|ExtensionFunctionAddress(?:ForPlatform)?|HostTimer|ImageInfo|Kernel(?:ArgInfo|Info|SubGroupInfo|WorkGroupInfo)|MemObjectInfo|PipeInfo|Platform(?:IDs|Info)|Program(?:Build)?Info|SamplerInfo|SupportedImageFormats)|LinkProgram|(?:Release|Retain)(?:CommandQueue|Context|Device|Event|Kernel|MemObject|Program|Sampler)|SVM(?:Alloc|Free)|Set(?:CommandQueueProperty|DefaultDeviceCommandQueue|EventCallback|Kernel|Kernel(?:Arg(?:SVMPointer)?|ExecInfo)|MemObjectDestructorCallback|UserEventStatus)|Unload(?:Platform)?Compiler|WaitForEvents)\b/,alias:"function"}};Ve(K.c,"keyword",Rg),K.cpp&&(Rg["type-opencl-host-cpp"]={pattern:/\b(?:Buffer|BufferGL|BufferRenderGL|CommandQueue|Context|Device|DeviceCommandQueue|EnqueueArgs|Event|Image(?:[123]D|[12]DArray|1DBuffer|[23]DGL|Format|GL)?|Kernel|KernelFunctor|LocalSpaceArg|Memory|NDRange|Pipe|Platform|Program|SVMAllocator|SVMTrait(?:Atomic|Coarse|Fine|ReadOnly|ReadWrite|WriteOnly)|Sampler|UserEvent)\b/,alias:"keyword"},Ve(K.cpp,"keyword",Rg));var UJ=K.diff={coord:/^(?:\*{3}|-{3}|\+{3}|\d).*$|^@@.*@@$/m},Pg={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};for(var ds in Pg){var Dg=ds.split("-")[0];UJ[ds]={pattern:RegExp("^(?:["+Pg[ds]+`].*$
?)+`,"m"),alias:Dg!=ds?Dg:ds=="diff"?"bold":void 0,inside:{prefix:{pattern:RegExp("^["+Pg[ds]+"]","mg"),greedy:!0,alias:Dg}}}}var $g=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|opens?|package|permits|private|protected|provides|public|record(?!\s*[()[\]{}%~.,:;?%&|^=<>/*+-])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throws?|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,el="(?:[a-z]\\w*\\s*\\.\\s*)*(?:[A-Z]\\w*\\s*\\.\\s*)*",Lg={pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},Vg={namespace:Lg,punctuation:/\./},XE={pattern:RegExp(`(^|[^\\w.])${el}[A-Z](?:[\\d_A-Z]*[a-z]\\w*)?\\b`),lookbehind:!0,inside:Vg};K.java={"doc-comment":{pattern:/\/\*\*(?!\/)[^]*?(?:\*\/|$)/g,greedy:!0,alias:"comment",inside:"javadoc"},comment:rr(),"triple-quoted-string":{pattern:/"""[ 	]*\n(?:\\.|[^\\])*?"""/g,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^\\\n']){1,6}'/g,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\\n"])*"/g,lookbehind:!0,greedy:!0},annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":XE,keyword:$g,punctuation:/[().,:<>]/,operator:/[?&|]/}},import:[{pattern:RegExp(`(\\bimport\\s+)${el}(?:[A-Z]\\w*|\\*)(?=\\s*;)`),lookbehind:!0,inside:{namespace:Lg,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(`(\\bimport\\s+static\\s+)${el}(?:\\w+|\\*)(?=\\s*;)`),lookbehind:!0,alias:"static",inside:{namespace:Lg,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(`(\\b(?:exports|import(?:\\s+static)?|module|opens?|package|provides|requires|to|transitive|uses|with)\\s+)(?!${$g.source})[a-z]\\w*(?:\\.[a-z]\\w*)*\\.?`),lookbehind:!0,inside:{punctuation:/\./}},"class-name":[XE,{pattern:RegExp(`(^|[^\\w.])${el}[A-Z]\\w*(?=\\s+\\w+\\s*[;,=()]|\\s*(?:\\[[\\s,]*\\]\\s*)?::\\s*new\\b)`),lookbehind:!0,inside:Vg},{pattern:RegExp(`(\\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\\s+)${el}[A-Z]\\w*\\b`),lookbehind:!0,inside:Vg}],keyword:$g,boolean:zt,function:{pattern:/\b\w+(?=\()|(::\s*)[a-z_]\w*/,lookbehind:!0},number:/\b0b[01][01_]*l?\b|\b0x(?:\.[a-f\d_p+-]+|[a-f\d_]+(?:\.[a-f\d_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,constant:/\b[A-Z][A-Z_\d]+\b/,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[%&|^!=<>/*+-]=?)/m,lookbehind:!0},punctuation:cs},Ve(K.less=or("css",{comment:rr(),atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[():]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[/*+-]/}),"property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}}),K.objc=K.objectivec=or("c",{string:{pattern:/@?"(?:\\[^]|[^\\\n"])*"/g,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int?|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|==?|>>?=?|<<?=?|&&?|\|\|?|[~^@%?/*]/}),delete K.objc["class-name"];var ZE={pattern:/^(..)[^]+(?=.)/,lookbehind:!0},Fg="(?:([^a-zA-Z\\d\\s{(\\[<=])(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1|\\((?:\\\\[\\s\\S]|[^\\\\()]|\\((?:\\\\[\\s\\S]|[^\\\\()])*\\))*\\)|\\{(?:\\\\[\\s\\S]|[^\\\\{}]|\\{(?:\\\\[\\s\\S]|[^\\\\{}])*\\})*\\}|\\[(?:\\\\[\\s\\S]|[^\\\\[\\]]|\\[(?:\\\\[\\s\\S]|[^\\\\[\\]])*\\])*\\]|<(?:\\\\[\\s\\S]|[^\\\\<>]|<(?:\\\\[\\s\\S]|[^\\\\<>])*>)*>)",QE=`(?:"(?:\\\\.|[^\\\\
"])*"|(?:\\b(?!\\d)\\w+|[^\\s\0-\\x7f]+)[?!]?|\\$.)`,Wr={pattern:/((?:^|[^\\])(?:\\\\)*)#\{(?:[^{}]|\{[^}]*\})*\}/,lookbehind:!0,inside:{content:ZE,delimiter:{pattern:/.+/,alias:"punctuation"}}};ZE.inside=K.rb=K.ruby={comment:{pattern:/#.*|^=begin\s[^]*?^=end/mg,greedy:!0},"string-literal":[{pattern:RegExp("%[qQiIwWs]?"+Fg,"g"),greedy:!0,inside:{interpolation:Wr,string:/[^]+/}},{pattern:/(["'])(?:#\{[^}]+\}|#(?!\{)|\\[^]|(?!\1)[^\\#\n])*\1/g,greedy:!0,inside:{interpolation:Wr,string:/[^]+/}},{pattern:/<<[-~]?([a-z_]\w*)\n(?:.*\n)*?[ 	]*\1/gi,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\w+/,punctuation:/^<<[-~]?/}},interpolation:Wr,string:/[^]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'\n(?:.*\n)*?[ 	]*\1/gi,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[^]+/}}],"command-literal":[{pattern:RegExp("%x"+Fg,"g"),greedy:!0,inside:{interpolation:Wr,command:{pattern:/[^]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\[^]|[^\\`#\n])*`/g,greedy:!0,inside:{interpolation:Wr,command:{pattern:/[^]+/,alias:"string"}}}],"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},"regex-literal":[{pattern:RegExp(`%r${Fg}[egimnosux]{0,6}`,"g"),greedy:!0,inside:{interpolation:Wr,regex:/[^]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\n\]]+\]|\\.|[^\\\n/[])+\/[egimnosux]{0,6}(?=\s*(?:$|[\n,.;})#]))/g,lookbehind:!0,greedy:!0,inside:{interpolation:Wr,regex:/[^]+/}}],variable:/[@$]+(?!\d)\w+(?:[?!]|\b)/,symbol:[{pattern:RegExp("(^|[^:]):"+QE,"g"),lookbehind:!0,greedy:!0},{pattern:RegExp(`([
{(,][ 	]*)`+QE+"(?=:(?!:))","g"),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|f?or|if|in|include|module|new|next|nil|not|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|[tw]hen|throw|undef|unless|until|while|yield)\b/,boolean:zt,builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z\d_]*(?:[?!]|\b)/,number:HE,"double-colon":{pattern:/::/,alias:"punctuation"},operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[%&|^!=<>/*+-])=?|[?:]/,punctuation:/[()[\]{}.,;]/},K.sql={comment:/\/\*[^]*?\*\/|(?:--|\/\/|#).*/,variable:[{pattern:/@(["'`])(?:\\[^]|(?!\1)[^\\])+\1/g,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])(["'])(?:\\[^]|(?!\2)[^\\]|\2\2)*\2/g,lookbehind:!0,greedy:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[^]|[^\\`]|``)*`/g,lookbehind:!0,greedy:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:avg|count|first|format|last|[lu]case|len|max|mi[dn]|mod|now|round|sum)(?=\s*\()/i,keyword:/\b(?:action|add|after|algorithm|alter|analyze|any|apply|asc?|authorization|auto_increment|backup|bdb|begin|berkeleydb|bigint|binary|bit|blob|bool|boolean|break|browse|[br]tree|bulk|by|c?all|cascaded?|case|chain|character|charset|check(?:point)?|close|clustered|coalesce|collate|columns?|comment|commit(?:ted)?|compute|connect|consistent|constraint|contains(?:table)?|continue|convert|create|cross|current(?:_date|_time|_timestamp|_user)?|cursor|cycle|data(?:bases?)?|date(?:time)?|day|dbcc|deallocate|dec|decimal|declare|default|definer|delayed|delete|delimiters?|deny|desc|describe|deterministic|disable|discard|disk|distinct|distinctrow|distributed|do|double|drop|dummy|dump(?:file)?|duplicate|else(?:if)?|enable|enclosed|end|engine|enum|errlvl|errors|escaped?|except|exec(?:ute)?|exists|exit|explain|extended|fetch|fields|file|fillfactor|first|fixed|float|following|for each row|for|force|foreign|freetexttable|freetext|from|full|function|geometry(?:collection)?|global|goto|grant|group|handler|hash|having|holdlock|hour|identity(?:col|_insert)?|if|ignore|import|index|infile|inner|innodb|inout|insert|integer|intersect|interval|into?|invoker|isolation|iterate|join|keys?|kill|language|last|leave|left|level|limit|lineno|lines|linestring|load|local|lock|long(?:blob|text)|loop|matched|match|(?:medium|tiny)(?:blob|int|text)|merge|middleint|minute|mode|modifies|modify|month|multi(?:linestring|point|polygon)|national|natural|n?char|next|no|nonclustered|nullif|numeric|off?|offsets?|on|open(?:datasource|query|rowset)?|optimize|option(?:ally)?|order|out(?:er|file)?|over|partial|partition|percent|pivot|plan|point|polygon|preceding|precision|prepare|prev|primary|print|privileges|proc(?:edure)?|public|purge|quick|raiserror|reads?|real|reconfigure|references|release|rename|repeat(?:able)?|replace|replication|require|resignal|restore|restrict|returning|returns?|revoke|right|rollback|routine|row(?:count|guidcol|s)?|rule|savepoint|save|schema|second|select|serializable|serial|session_user|session|setuser|set|share|show|shutdown|simple|smallint|snapshot|some|soname|sql|start(?:ing)?|statistics|status|striped|system_user|tables?|tablespace|temp(?:orary|table)?|terminated|textsize|text|[tw]hen|timestamp|time|top?|transactions?|tran|trigger|truncate|tsequal|types?|unbounded|uncommitted|undefined|union|unique|unlock|unpivot|unsigned|updatetext|update|usage|user?|using|values?|var(?:binary|char|character|ying)|view|waitfor|warnings|where|while|with(?: rollup|in)?|work|writetext|write|year)\b/i,boolean:/\b(?:false|true|null)\b/i,number:/\b0x[a-f\d]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[=%~^/*+-]|&&?|\|\|?|!=?|<<|<=?>?|>[>=]?|\b(?:and|between|div|[ir]?like|in|is|not|x?or|regexp|sounds like)\b/i,punctuation:/[()[\].,;`]/},K.wasm={comment:/\(;[^]*?;\)|;;.*/,string:{pattern:/"(?:\\[^]|[^\\"])*"/g,greedy:!0},keyword:[{pattern:/\b(?:align|offset)=/,inside:{operator:/=/}},{pattern:/\b(?:(?:[fi]32|[fi]64)(?:\.(?:abs|a[dn]d|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|neg?|nearest|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|sqrt|store(?:8|16|32)?|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|x?or))?|memory\.(?:grow|size))\b/,inside:{punctuation:/\./}},/\b(?:anyfunc|block|br(?:_if|_table)?|call(?:_indirect)?|data|drop|elem|else|end|export|func|get_(?:global|local)|global|if|import|local|loop|memory|module|mut|nop|offset|param|result|return|select|set_(?:global|local)|start|table|tee_local|then|type|unreachable)\b/],variable:/\$[\w!#$%&'*./:<=>?@\\^`|~+-]+/,number:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[a-fA-F\d](?:_?[a-fA-F\d])*(?:\.[a-fA-F\d](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[a-fA-F\d](?:_?[\da-fA-D])*)?\b/,punctuation:/[()]/};var us=(t,e)=>{for(var n=0;n<e;n++)t=t.replace(/<self>/g,`(?:${t})`);return t.replace(/<self>/g,"[]")},ut=(t,e)=>t.replace(/<(\d+)>/g,(n,o)=>`(?:${e[+o]})`),ye=(t,e,n)=>RegExp(ut(t,e),n),zg=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,fs=K.cpp=or("c",{"class-name":[{pattern:RegExp(`(\\b(?:class|concept|enum|struct|typename)\\s+)(?!${zg.source})\\w+`),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[a-z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:zg,number:{pattern:/(?:\b0b[01']+|\b0x(?:[a-f\d']+(?:\.[a-f\d']*)?|\.[a-f\d']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/gi,greedy:!0},operator:/->|--|\+\+|&&|\|\||[?:~]|<=>|>>=?|<<=?|[%&|^!=<>/*+-]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|x?or|x?or_eq)\b/,boolean:zt});Ve(fs,"string",{module:{pattern:ye(`(\\b(?:import|module)\\s+)(?:"(?:\\\\[\\s\\S]|[^\\\\
"])*"|<[^<>
]*>|<0>(?:\\s*:\\s*<0>)?|:\\s*<0>)`,[`\\b(?!${zg.source})\\w+(?:\\s*\\.\\s*\\w+)*\\b`],"g"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][^]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([^]*?\)\1"/g,greedy:!0,alias:"string"}}),Ve(fs,"keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[^]+/,alias:"class-name",inside:fs}}}}),Ve(fs,"operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var e4=Object.assign({},fs);Ve(fs,"class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/g,lookbehind:!0,greedy:!0,inside:e4}}),Ve(e4,"double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i}),K.go={comment:rr(),char:{pattern:/'(?:\\.|[^\\\n']){0,10}'/g,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\\n"])*"|`[^`]*`/g,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|true|iota|nil)\b/,function:/\b\w+(?=\()/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/--|\+\+|&&|\|\||&\^=?|<-|<<=?|>>=?|[%&|^!=<>/*+-]=?|:=|\.{3}/,punctuation:cs,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/};var Hg={};K.js=K.javascript=Object.assign(Hg,{"doc-comment":{pattern:/\/\*\*(?!\/)[^]*?(?:\*\/|$)/g,greedy:!0,alias:"comment",inside:"jsdoc"},comment:rr(),hashbang:{pattern:/^#!.*/g,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[^]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})*\}|(?!\$\{)[^\\`])*`/g,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\\\)*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})*\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},[mn]:Hg}},string:/[^]+/}},"string-property":{pattern:/((?:^|[,{])[ 	]*)(["'])(?:\\[^]|(?!\2)[^\\\n])*\2(?=\s*:)/mg,lookbehind:!0,greedy:!0,alias:"property"},string:Ng(),regex:{pattern:/((?:^|[^$\w\xa0-\uffff"'`.)\]\s]|\b(?:return|yield))\s*)\/(?:(?:\[(?:\\.|[^\\\n\]])*\]|\\.|[^\\\n/[])+\/[dgimyus]{0,7}|(?:\[(?:\\.|[^\\\n[\]]|\[(?:\\.|[^\\\n[\]]|\[(?:\\.|[^\\\n[\]])*\])*\])*\]|\\.|[^\\\n/[])+\/[dgimyus]{0,7}v[dgimyus]{0,7})(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?!\/\*|[^()[\]{}.,:;?`\n%&|^!=<>/*+-]))/g,lookbehind:!0,greedy:!0,inside:{"regex-flags":/\w+$/,"regex-delimiter":/^\/|\/$/,"regex-source":{pattern:/.+/,alias:"language-regex",inside:"regex"}}},"class-name":[{pattern:/(\b(?:class|extends|implements|instanceof|interface|new)\s+)(?!\d)(?:(?!\s)[$\w.\xa0-\uffff])+/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/(^|[^$\w\xa0-\uffff]|\s)(?![a-z\d])(?:(?!\s)[$\w\xa0-\uffff])+(?=\.(?:constructor|prototype)\b)/,lookbehind:!0}],"function-variable":{pattern:/#?(?!\d)(?:(?!\s)[$\w\xa0-\uffff])+(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^)]*\))*\)|(?!\d)(?:(?!\s)[$\w\xa0-\uffff])+)\s*=>))/,alias:"function",inside:{"maybe-class-name":/^[A-Z].*/}},parameter:[/(function(?:\s+(?!\d)(?:(?!\s)[$\w\xa0-\uffff])+)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,/(^|[^$\w\xa0-\uffff]|\s)(?!\d)(?:(?!\s)[$\w\xa0-\uffff])+(?=\s*=>)/,/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|continue|default|do|else|finally|for|if|return|switch|throw|try|while|yield|class|const|debugger|delete|enum|extends|function|[gs]et|export|from|import|implements|in|instanceof|interface|let|new|null|of|package|private|protected|public|static|super|this|typeof|undefined|var|void|with)(?![$\w\xa0-\uffff]))(?:(?!\d)(?:(?!\s)[$\w\xa0-\uffff])+\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/].map(t=>({pattern:t,lookbehind:!0,inside:Hg})),constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/,keyword:[{pattern:/(^|[^.]|\.{3}\s*)\b(?:as|assert(?=\s*\{)|export|from(?!\s*[^\s"'])|import)\b/,alias:"module",lookbehind:!0},{pattern:/(^|[^.]|\.{3}\s*)\b(?:await|break|case|catch|continue|default|do|else|finally|for|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow",lookbehind:!0},{pattern:/(^|[^.]|\.{3}\s*)\b(?:async(?!\s*[^\s($\w\xa0-\uffff])|class|const|debugger|delete|enum|extends|function|[gs]et(?!\s*[^\s#[$\w\xa0-\uffff])|implements|in|instanceof|interface|let|new|null|of|package|private|protected|public|static|super|this|typeof|undefined|var|void|with)\b/,lookbehind:!0}],boolean:zt,function:{pattern:/#?(?!\d)(?:(?!\s)[$\w\xa0-\uffff])+(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,inside:{"maybe-class-name":/^[A-Z].*/}},number:{pattern:/(^|[^$\w])(?:NaN|Infinity|0[bB][01]+(?:_[01]+)*n?|0[oO][0-7]+(?:_[0-7]+)*n?|0[xX][a-fA-F\d]+(?:_[a-fA-F\d]+)*n?|\d+(?:_\d+)*n|(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?)(?![$\w])/,lookbehind:!0},"literal-property":{pattern:/([\n,{][ 	]*)(?!\d)(?:(?!\s)[$\w\xa0-\uffff])+(?=\s*:)/,lookbehind:!0,alias:"property"},operator:[{pattern:/=>/,alias:"arrow"},/--|\+\+|(?:\*\*|&&|\|\||[!=]=|>>>?|<<|[%&|^!=<>/*+-]|\?\?)=?|\.{3}|\?(?!\.)|~|:/],"property-access":{pattern:/(\.\s*)#?(?!\d)(?:(?!\s)[$\w\xa0-\uffff])+/,lookbehind:!0,inside:{"maybe-class-name":/^[A-Z].*/}},"maybe-class-name":{pattern:/(^|[^$\w\xa0-\uffff])[A-Z][$\w\xa0-\uffff]+/,lookbehind:!0},punctuation:/\?\.|[()[\]{}.,:;]/});var jJ=t=>(e,n)=>{for(var o=Tg(t),r="",s=[],a=0,l=Yd(e,n),c=0,d=l.length,m=0;c<d;){var u=l[c++],f=u.length,p=u.type;p&&p.slice(0,6)!="ignore"?(s[a++]=[m,u],r+=" ".repeat(f)):r+=e.slice(m,m+f),m+=f}var h=0,m=0,g=b=>{for(var C=0;h<a&&C<b.length;C++){var k=b[C],w=k.content;if(Array.isArray(w))g(w);else{for(var x=k.length,S=[],E,T,_=0,A=m;([E,T]=s[h],E>=m&&E<m+x)&&(A<E&&(S[_++]=r.slice(A,E)),A=E+T.length,S[_++]=T,++h!=a););m+=x,_&&(A<m&&(S[_++]=r.slice(A,m)),w?k.content=S:(b.splice(C,1,...S),C+=_-1))}}},y=o?Mg(r,o):[r];return g(y),y},t4=K.js,Ug=t4["template-string"],WJ=Ug.pattern.source,KJ=Ug.inside.interpolation.pattern,ps=(t,e)=>({pattern:RegExp("((?:"+e+")\\s*)"+WJ,"g"),lookbehind:!0,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},["language-"+t]:{pattern:/[^]+/,inside:{interpolation:{pattern:KJ,lookbehind:!0,alias:"language-javascript",inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},[mn]:"js"}},[jr]:jJ(t)}}}});t4["template-string"]=[ps("css","\\b(?:styled(?:\\([^)]*\\))?(?:\\s*\\.\\s*\\w+(?:\\([^)]*\\))*)*|css(?:\\s*\\.\\s*(?:global|resolve))?|createGlobalStyle|keyframes)"),ps("html","\\bhtml|\\.\\s*(?:inner|outer)HTML\\s*\\+?="),ps("svg","\\bsvg"),ps("markdown","\\b(?:markdown|md)"),ps("graphql","\\b(?:gql|graphql(?:\\s*\\.\\s*experimental)?)"),ps("sql","\\bsql"),Ug];var nu="\\s|//.*(?!.)|/\\*(?:[^*]|\\*(?!/))*\\*/",jg="\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})*\\}",n4=ut("\\{<0>*\\.{3}(?:[^{}]|<1>)*\\}",[nu,jg]),o4=t=>t&&(!t.type||t.type=="plain-text"),GJ=(t,e,n)=>{for(var o=0,r=[],s=0;o<t.length;o++){var a=t[o],l=a.length,c=a.type,d=!c,u,f,p,h,m;c&&(m=a.content,c=="tag"?(p=m[0].length,f=m[2]?e.substr(n+p,m[1].length):"",p>1?s&&r[s-1][0]==f&&s--:m[m.length-1].length<2&&(r[s++]=[f,0])):s&&c=="punctuation"?(u=r[s-1],m=="{"?u[1]++:u[1]&&m=="}"?u[1]--:d=!"}()[]".includes(m)):d=!0),d&&s&&!r[s-1][1]&&(p=n,o4(t[o+1])&&(l+=t[o+1].length,t.splice(o+1,1)),o4(t[o-1])&&(p-=t[--o].length,t.splice(o,1)),h=e.slice(p,n+l),t[o]=new ls("plain-text",h,h)),n+=l}return t},r4=(t,e)=>{Ve(K[e]=t=vg(t),"regex",{tag:{pattern:ye(`</?(?:(?!\\d)[^\\s/=><%]+(?:<0>(?:<0>*(?:[^\\s<>/={*]+(?:<0>*=<0>*(?!\\s)(?:"[^"]*"|'[^']*'|<1>)?|(?=[\\s/>]))|<2>))+)?<0>*/?)?>`,[nu,jg,n4],"g"),greedy:!0,inside:{punctuation:/^<\/?|\/?>$/,tag:{pattern:/^[^\s/]+/,inside:{namespace:/^[^:]+:/,"class-name":/^[A-Z]\w*(?:\.[A-Z]\w*)*$/}},script:{pattern:ye("(=<0>*)<1>",[nu,jg]),lookbehind:!0,alias:e="language-"+e,inside:t},spread:{pattern:RegExp(n4),alias:e,inside:t},"attr-value":{pattern:ye(`(=<0>*)(?:"[^"]*"|'[^']*')`,[nu]),lookbehind:!0,inside:{punctuation:/^["']|["']$/}},comment:t.comment,"attr-equals":/=/,"attr-name":{pattern:/\S+/,inside:{namespace:/^[^:]+:/}}}}}),t[jr]=(n,o)=>GJ(Yd(n,o),n,0)};r4(K.js,"jsx"),K.lua={comment:/^#!.+|--(?:\[(=*)\[[^]*?\]\1\]|.*)/m,string:{pattern:/(["'])(?:(?!\1)[^\\\n]|\\z\s|\\[^z])*\1|\[(=*)\[[^]*?\]\2\]/g,greedy:!0},number:/\b0x[a-f\d]+(?:\.[a-f\d]*)?(?:p[+-]?\d+)?\b|\b\d+(?:\.\B|(?:\.\d*)?(?:e[+-]?\d+)?\b)|\B\.\d+(?:e[+-]?\d+)?\b/i,keyword:/\b(?:and|break|do|else|elseif|end|false|true|f?or|function|goto|if|in|local|nil|not|repeat|return|then|until|while)\b/,function:/(?!\d)\w+(?=\s*(?:[({]))/,operator:{pattern:/[%&|^#*+-]|\/\/?|<[<=]?|>[>=]?|[=~]=?|(^|[^.])\.\.(?!\.)/,lookbehind:!0},punctuation:/[()[\]{},;]|\.+|:+/};var ou="(?:\\((?:\\\\[\\s\\S]|[^\\\\()])*\\)|\\{(?:\\\\[\\s\\S]|[^\\\\{}])*\\}|\\[(?:\\\\[\\s\\S]|[^\\\\[\\]])*\\]|<(?:\\\\[\\s\\S]|[^\\\\<>])*>)",i4="(?![a-zA-Zd])\\s*(?:([^a-zA-Zd\\s{([<])(?:\\\\[^]|(?!\\1)[^\\\\])*\\1|([a-zA-Zd])(?:\\\\[^]|(?!\\2)[^\\\\])*\\2";K.perl={comment:[{pattern:/(^\s*)=\w[^]*?=cut.*/mg,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/g,lookbehind:!0,greedy:!0}],string:{pattern:RegExp(`\\bq[qwx]?${i4}|${ou})|("|\`)(?:\\\\[^]|(?!\\3)[^\\\\])*\\3|'(?:\\\\.|[^\\\\
'])*'`,"g"),greedy:!0},regex:[{pattern:RegExp(`\\b(?:m|qr)${i4}|${ou})[msixpodualngc]*`,"g"),greedy:!0},{pattern:RegExp(`(^|[^-])\\b(?:s|tr|y)(?![a-zA-Zd])\\s*(?:([^a-zA-Zd\\s{([<])(?:\\\\[^]|(?!\\2)[^\\\\])*\\2(?:\\\\[^]|(?!\\2)[^\\\\])*\\2|([a-zA-Zd])(?:\\\\[^]|(?!\\3)[^\\\\])*\\3(?:\\\\[^]|(?!\\3)[^\\\\])*\\3|${ou}\\s*${ou})[msixpodualngcer]*`,"g"),lookbehind:!0,greedy:!0},{pattern:/\/(?:\\.|[^\\\n/])*\/[msixpodualngc]*(?=\s*(?:$|[\n,.;})&|*~<>!?^+-]|(?:and|cmp|eq|[gl][et]|ne|not|x|x?or)\b))/g,greedy:!0}],variable:/[&*$@%](?:\{\^[A-Z]+\}|\^[A-Z_]|#?(?=\{)|#?(?:(?:::)*'?(?!\d)[$\w]+(?![$\w]))+(?:::)*|\d+)|(?!%=)[$@%][!"#$%&'*,./:;<=>?@()[\]{}||^_`|~+-]/,filehandle:{pattern:/<(?![<=])\S*?>|\b_\b/,alias:"symbol"},"v-string":{pattern:/v\d+(?:\.\d+)*|\d+(?:\.\d+){2,}/,alias:"string"},function:{pattern:/(\bsub[ 	]+)\w+/,lookbehind:!0},keyword:/\b(?:any|break|continue|default|delete|die|do|else|elsif|eval|for|foreach|given|goto|if|last|local|my|next|our|package|print|redo|require|return|say|state|sub|switch|undef|unless|until|use|when|while)\b/,number:/\b(?:0x[a-fA-F\d](?:_?[a-fA-F\d])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)\b/,operator:/-[rwxoRWXOezsfdlpSbctugkTBMAC]\b|->|=>|=~|~~|<=>?|!~|--|\+\+|(?:\*\*|\/\/|&&|\|\||<<|>>|[~%&|^!=<>/*+-])=?|\.(?:=|\.\.?)?|[\\?]|\bx(?:=|\b)|\b(?:and|cmp|eq|[gl][et]|ne|not|x?or)\b/,punctuation:/[()[\]{},:;]/};var s4={"format-spec":{pattern:/(:)[^(){}:]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"}};s4[mn]=K.py=K.python={comment:{pattern:/#.*/g,greedy:!0},"string-interpolation":{pattern:/(?:fr?|rf)(?:("""|''')[^]*?\1|(["'])(?:\\[^]|(?!\2)[^\\\n])*\2)/gi,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})*\}/,lookbehind:!0,inside:s4},string:/[^]+/}},"triple-quoted-string":{pattern:/(?:br?|rb?|u)?("""|''')[^]*?\1/gi,greedy:!0,alias:"string"},string:{pattern:/(?:br?|rb?|u)?(["'])(?:\\[^]|(?!\1)[^\\\n])*\1/gi,greedy:!0},function:{pattern:/((?:^|\s)def[ 	]+)(?!\d)\w+(?=\s*\()/,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[ 	]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:"annotation punctuation",inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|de[fl]|elif|else|except|exec|finally|f?or|from|global|i[fns]|import|lambda|match|nonlocal|not|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|ma[px]|memoryview|min|next|object|oct|open|ord|pow|property|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|x?range|zip)\b/,boolean:/\b(?:False|True|None)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f\d])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/!=|:=|\*\*=?|\/\/=?|<>|>>|<<|[%=<>/*+-]=?|[&|^~]/,punctuation:cs};var qJ=us("/\\*(?:[^*/]|\\*(?!/)|/(?!\\*)|<self>)*\\*/",2),a4={pattern:/b?"(?:\\[^]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/g,greedy:!0},l4={"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"}};l4[mn]=K.rust={comment:{pattern:RegExp("//.*|"+qJ,"g"),greedy:!0},string:a4,char:{pattern:/b?'(?:\\(?:x[0-7][a-fA-F\d]|u\{(?:[a-fA-F\d]_*){1,6}\}|.)|[^\\\n	'])'/g,greedy:!0},attribute:{pattern:/#!?\[(?:[^[\]"]|"(?:\\[^]|[^\\"])*")*\]/g,greedy:!0,alias:"attr-name",inside:{string:a4}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/g,lookbehind:!0,greedy:!0,inside:l4},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield|bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/,function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[a-fA-F\d](?:_?[a-fA-F\d])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:zt,punctuation:/->|\.\.=|\.{1,3}|::|[()[\]{},:;]/,operator:/&&|\|\||=>|>>=?|<<=?|[%&|^!=<>/*+-]=?|[@?]/};var c4=K.swift={comment:{pattern:/\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\//g,greedy:!0},"string-literal":[{pattern:/(^|[^"#])(?:"(?:\\(?:\((?:[^()]|\([^)]*\))*\)|[^(])|[^\\\n"])*"|"""(?:\\(?:\((?:[^()]|\([^)]*\))*\)|[^(])|[^\\"]|"(?!""))*""")(?!["#])/g,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))+(?=\))/,lookbehind:!0},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=\n)/,string:/[^]+/}},{pattern:/(^|[^"#])(#+)(?:"(?:\\(?:#+\((?:[^()]|\([^)]*\))*\)|[^#])|[^\\\n])*?"|"""(?:\\(?:#+\((?:[^()]|\([^)]*\))*\)|[^#])|[^\\])*?""")\2/g,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))+(?=\))/,lookbehind:!0},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[^]+/}}],directive:{pattern:/#(?:(?:elseif|if)\b(?:[ 	]*(?:![ 	]*)?(?:\b\w+\b(?:[ 	]*\((?:[^()]|\([^)]*\))*\))?|\((?:[^()]|\([^)]*\))*\))(?:[ 	]*(?:&&|\|\|))?)+|(?:else|endif)\b)/,alias:"property",inside:{"directive-name":/^#\w+/,boolean:zt,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b(?!\d)\w+(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|[Pp]rotocol|[Ss]elf|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|[gs]et|guard|higherThan|i[fns]|import|indirect|infix|init|inout|internal|isolated|lazy|lef?t|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|public|repeat|required|rethrows|return|right|safe|some|static|struct|subscript|super|switch|throws?|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:zt,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f\d_]+(?:\.[a-f\dp_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[~?%&|^!=<>/*+-]+|\.[.~?%&|^!=<>/*+-]+/,punctuation:/[()[\]{}.,:;\\]/};c4["string-literal"].forEach(t=>{t.inside.interpolation.inside=c4}),K.clike={comment:rr(),string:Ng(),"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:zt,function:/\b\w+(?=\()/,number:HE,operator:/[!=]==|[!=<>]=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:cs};var ru=t=>`\\b(?:${t})\\b`,d4="bool|char|decimal|double|dynamic|float|object|s?byte|string|u?int|u?long|u?short|var|void",iu="class|enum|interface|record|struct",u4="add|alias|and|ascending|async|await|by|descending|from(?!\\s*[^\\s\\w])|[gls]et|global|group|into|init(?=\\s*;)|join|nameof|not|notnull|on|or|orderby|partial|remove|select|unmanaged|value|when|where|with(?=\\s*{)",Wg="abstract|as|[bc]ase|break|catch|checked|const|continue|default|delegate|do|else|event|explicit|extern|finally|fixed|for|foreach|goto|i[fns]|implicit|internal|lock|namespace|new|null|operator|out|override|params|private|protected|public|readonly|ref|return|sealed|sizeof|stackalloc|static|switch|this|throw|try|typeof|unchecked|unsafe|using|virtual|volatile|while|yield",f4=ru(iu),su=RegExp(ru(d4+"|"+iu+"|"+u4+"|"+Wg)),YJ=ru(iu+"|"+u4+"|"+Wg),JJ=ru(d4+"|"+iu+"|"+Wg),au=us("<(?:[^<>;=*/%&|^+-]|<self>)*>",2),lu=us("\\((?:[^()]|<self>)*\\)",2),Pn="@?\\b(?!\\d)\\w+\\b",cu=ut("<0>(?:\\s*<1>)?",[Pn,au]),Kr=ut("(?!<0>)<1>(?:\\s*\\.\\s*<1>)*",[YJ,cu]),Kg="\\[\\s*(?:,\\s*)*\\]",XJ=ut("<0>(?:\\s*(?:\\?\\s*)?<1>)*(?:\\s*\\?)?",[Kr,Kg]),ZJ=ut("[^()[\\],;%&|^=<>/*+-]|<0>|<1>|<2>",[au,lu,Kg]),QJ=ut("\\(<0>+(?:,<0>+)+\\)",[ZJ]),hs=ut("(?:<0>|<1>)(?:\\s*(?:\\?\\s*)?<2>)*(?:\\s*\\?)?",[QJ,Kr,Kg]),gn={keyword:su,punctuation:/[()[\].,:<>?]/},p4=`'(?:\\\\.|[^
'\\\\]|\\\\[Uux][a-fA-F\\d]{1,8})'`,h4=`"(?:\\\\.|[^\\\\
"])*"`,eX='@"(?:""|\\\\[\\s\\S]|[^\\\\"])*"(?!")',ir=K.dotnet=K.cs=K.csharp=or("clike",{string:[{pattern:ye("(^|[^$\\\\])<0>",[eX],"g"),lookbehind:!0,greedy:!0},{pattern:ye("(^|[^@$\\\\])<0>",[h4],"g"),lookbehind:!0,greedy:!0}],"class-name":[{pattern:ye("(\\busing\\s+static\\s+)<0>(?=\\s*;)",[Kr]),lookbehind:!0,inside:gn},{pattern:ye("(\\busing\\s+<0>\\s*=\\s*)<1>(?=\\s*;)",[Pn,hs]),lookbehind:!0,inside:gn},{pattern:ye("(\\busing\\s+)<0>(?=\\s*=)",[Pn]),lookbehind:!0},{pattern:ye("(\\b<0>\\s+)<1>",[f4,cu]),lookbehind:!0,inside:gn},{pattern:ye("(\\bcatch\\s*\\(\\s*)<0>",[Kr]),lookbehind:!0,inside:gn},{pattern:ye("(\\bwhere\\s+)<0>",[Pn]),lookbehind:!0},{pattern:ye("(\\b(?:is(?:\\s+not)?|as)\\s+)<0>",[XJ]),lookbehind:!0,inside:gn},{pattern:ye("\\b<0>(?=\\s+(?!<1>|with\\s*\\{)<2>(?:\\s*[=,:;{)\\]]|\\s+(?:in|when)\\b))",[hs,JJ,Pn]),inside:gn}],keyword:su,number:/(?:\b0(?:x[a-f\d_]*[a-f\d]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[+-]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/[=-]>|([&|+-])\1|~|\?\?=?|>>=?|<<=?|[%&|^!=<>/*+-]=?/,punctuation:/\?\.?|::|[()[\]{}.,:;]/});Ve(ir,"number",{range:{pattern:/\.\./,alias:"operator"}}),Ve(ir,"punctuation",{"named-parameter":{pattern:ye("([(,]\\s*)<0>(?=\\s*:)",[Pn]),lookbehind:!0,alias:"punctuation"}}),Ve(ir,"class-name",{namespace:{pattern:ye("(\\b(?:namespace|using)\\s+)<0>(?:\\s*\\.\\s*<0>)*(?=\\s*[;{])",[Pn]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:ye("(\\b(?:default|sizeof|typeof)\\s*\\(\\s*(?!\\s))(?:[^()\\s]|\\s(?!\\s)|<0>)+(?=\\s*\\))",[lu]),lookbehind:!0,alias:"class-name",inside:gn},"return-type":{pattern:ye("<0>(?=\\s+(?:<1>\\s*(?:=>|[({]|\\.\\s*this\\s*\\[)|this\\s*\\[))",[hs,Kr]),alias:"class-name",inside:gn},"constructor-invocation":{pattern:ye("(\\bnew\\s+)<0>(?=\\s*[[({])",[hs]),lookbehind:!0,alias:"class-name",inside:gn},"generic-method":{pattern:ye("<0>\\s*<1>(?=\\s*\\()",[Pn,au]),inside:{function:ye("^<0>",[Pn]),generic:{pattern:RegExp(au),alias:"class-name",inside:gn}}},"type-list":{pattern:ye("\\b((?:<0>\\s+<1>|record\\s+<1>\\s*<5>|where\\s+<2>)\\s*:\\s*)(?:<3>|<4>|<1>\\s*<5>|<6>)(?:\\s*,\\s*(?:<3>|<4>|<6>))*(?=\\s*(?:where|[{;]|=>|$))",[f4,cu,Pn,hs,su.source,lu,"\\bnew\\s*\\(\\s*\\)"]),lookbehind:!0,inside:{"record-arguments":{pattern:ye("(^(?!new\\s*\\()<0>\\s*)<1>",[cu,lu],"g"),lookbehind:!0,greedy:!0,inside:ir},keyword:su,"class-name":{pattern:RegExp(hs,"g"),greedy:!0,inside:gn},punctuation:/[(),]/}},preprocessor:{pattern:/(^[ 	]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var m4=h4+"|"+p4,g4=ut(`/(?![*/])|//[^
]*
|/\\*(?:[^*]|\\*(?!/))*\\*/|<0>`,[m4]),y4=us(ut(`[^()"'/]|<0>|\\(<self>*\\)`,[g4]),2),b4="\\b(?:assembly|event|field|method|module|param|property|return|type)\\b",tX=ut("<0>(?:\\s*\\(<1>*\\))?",[Kr,y4]),Gg=`:[^
}]+`,w4=us(ut(`[^()"'/]|<0>|\\(<self>*\\)`,[g4]),2),C4=ut("\\{(?!\\{)(?:(?![}:])<0>)*<1>?\\}",[w4,Gg]),k4=us(ut(`[^()"'/]|/(?!\\*)|/\\*(?:[^*]|\\*(?!/))*\\*/|<0>|\\(<self>*\\)`,[m4]),2),x4=ut("\\{(?!\\{)(?:(?![}:])<0>)*<1>?\\}",[k4,Gg]),S4=(t,e)=>({interpolation:{pattern:ye("((?:^|[^{])(?:\\{\\{)*)<0>",[t]),lookbehind:!0,inside:{"format-string":{pattern:ye("(^\\{(?:(?![}:])<0>)*)<1>(?=\\}$)",[e,Gg]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[^]+/,alias:"language-csharp",inside:ir}}},string:/[^]+/});Ve(ir,"class-name",{attribute:{pattern:ye("((?:^|[^\\s\\w>)?])\\s*\\[\\s*)(?:<0>\\s*:\\s*)?<1>(?:\\s*,\\s*<1>)*(?=\\s*\\])",[b4,tX],"g"),lookbehind:!0,greedy:!0,inside:{target:{pattern:ye("^<0>(?=\\s*:)",[b4]),alias:"keyword"},"attribute-arguments":{pattern:ye("\\(<0>*\\)",[y4]),inside:ir},"class-name":{pattern:RegExp(Kr),inside:{punctuation:/\./}},punctuation:/[,:]/}}}),Ve(ir,"string",{"interpolation-string":[{pattern:ye('(^|[^\\\\])(?:\\$@|@\\$)"(?:""|\\\\[\\s\\S]|\\{\\{|<0>|[^\\\\{"])*"',[C4],"g"),lookbehind:!0,greedy:!0,inside:S4(C4,w4)},{pattern:ye('(^|[^@\\\\])\\$"(?:\\\\.|\\{\\{|<0>|[^\\\\"{])*"',[x4],"g"),lookbehind:!0,greedy:!0,inside:S4(x4,k4)}],char:{pattern:RegExp(p4,"g"),greedy:!0}}),K.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|"(?!""))*"""|"(?:\\.|[^\\\n"])*")(?=\s*[a-z_])/gi,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/("(?!")|""")[^]+(?=\1)/,lookbehind:!0,inside:"md"}}},string:{pattern:/"""[^]*?"""|"(?:\\.|[^\\\n"])*"/g,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:zt,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/\b[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\\n"])*")*\))?:)/gi,greedy:!0},"atom-input":{pattern:/\b[A-Z]\w*Input\b/,alias:"class-name"},scalar:/\b(?:Boolean|Float|ID|Int|String)\b/,constant:/\b[A-Z][A-Z_\d]*\b/,"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*|:\s*|\[)[A-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))(?!\d)\w+/,lookbehind:!0,alias:"function"},"definition-mutation":{pattern:/(\bmutation\s+)(?!\d)\w+/,lookbehind:!0,alias:"function"},"definition-query":{pattern:/(\bquery\s+)(?!\d)\w+/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[&|!=]|\.{3}/,"property-query":/\w+(?=\s*\()/,object:/\w+(?=\s*\{)/,punctuation:/[()[\]{},:!=]/,property:/\w+/,[jr](t,e){for(var n=Yd(t,e),o=n.filter(({type:g})=>g&&g!="comment"&&g!="scalar"),r=o.length,s=0,a=g=>{for(var y=0;y<g.length;y++)if(s+y==r||o[s+y].type!=g[y])return!0},l=(g,y)=>{for(var b=1,C=s;C<r;C++){var k=o[C],w=k.content;if(k.type=="punctuation"){if(g==w)b++;else if(y==w&&!--b)return C}}};s<r;){var c=o[s++];if(c.type=="keyword"&&c.content=="mutation"){var d=[];if(!a(["definition-mutation","punctuation"])&&o[s+1].content=="("){s+=2;var u=l("(",")");if(!u)continue;for(;s<u;s++){var f=o[s];f.type=="variable"&&(f.alias="variable-input",d.push(f.content))}s=u+1}if(!a(["punctuation","property-query"])&&o[s].content=="{"&&(o[++s].alias="property-mutation",d[0])){var p=l("{","}");if(p)for(var h=s;h<p;h++){var m=o[h];m.type=="variable"&&d.indexOf(m.content)>=0&&(m.alias="variable-input")}}}}return n}},K.webmanifest=K.json={property:{pattern:/"(?:\\.|[^\\\n"])*"(?=\s*:)/g,greedy:!0},string:{pattern:/"(?:\\.|[^\\\n"])*"/g,greedy:!0},comment:rr(),number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,operator:/:/,punctuation:/[[\]{},]/,boolean:zt,null:{pattern:/\bnull\b/,alias:"keyword"}},K.makefile={comment:/#(?:\\[^]|[^\\\n])*/,string:Ng(),"builtin-target":{pattern:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,alias:"builtin"},target:{pattern:/^(?:[^:=\s]|[ 	]+(?![\s:]))+(?=\s*:(?!=))/m,alias:"symbol",inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|override|private|s?include|undefine|unexport|vpath)\b/,function:{pattern:/(\()(?:abspath|addsuffix|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:list|s)?)(?=[ 	])/,lookbehind:!0},operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/};var qg=K.scss=or("css",{comment:rr(),atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/,[mn]:"scss"}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?!\s)[^@;(){}]?(?:[^@;(){}\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}});Ve(qg,"atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),Ve(qg,"important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),Ve(qg,"function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:zt,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[%/*+-]|[!=]=|[<>]=?|and|not|or)(?!\S)/,lookbehind:!0}});var E4={pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\d)(?:(?!\s)[$\w\xa0-\uffff])+(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/g,lookbehind:!0,greedy:!0},ms=K.ts=K.typescript=or("js",{"class-name":E4});Ve(ms,"operator",{builtin:/\b(?:Array|Function|Promise|any|boolean|never|number|string|symbol|unknown)\b/}),ms.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b|\b(?:asserts|infer|interface|module|namespace|type)\b(?!\s*[^\s{_$a-zA-Z\xa0-\uffff])|\btype(?=\s*\*)/),delete ms.parameter,delete ms["literal-property"];var Yg=E4.inside=Object.assign({},ms);delete Yg["class-name"],delete Yg["maybe-class-name"],Ve(ms,"function",{decorator:{pattern:/@[$\w\xa0-\uffff]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/.+/}},"generic-function":{pattern:/#?(?!\d)(?:(?!\s)[$\w\xa0-\uffff])+\s*<(?:[^<>=]|=[^<]|=?<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/g,greedy:!0,inside:{generic:{pattern:/<[^]+/,alias:"class-name",inside:Yg},function:/\S+/}}}),r4(K.ts,"tsx");var Jg=K.tsx.tag,_4="(?:^|(";try{RegExp("(?<=)"),_4+="?<="}catch{Jg.lookbehind=!0}Jg.pattern=RegExp(_4+`[^\\w$])|(?=</))${Jg.pattern.source}`,"g");var Xg=/[*&][^\s[\]{},]+/,Zg=/!(?:<[\w%#;/?:@&=$,.!~*'()[\]+-]+>|(?:[a-zA-Z\d-]*!)?[\w%#;/?:@&=$.~*'()+-]+)?/,Qg=`(?:${Zg.source}(?:[ 	]+${Xg.source})?|${Xg.source}(?:[ 	]+${Zg.source})?)`,nX=ut("(?:[^\\s\0-\\x08\\x0e-\\x1f!\"#%&'*,:>?@[\\]{}`|\\x7f-\\x84\\x86-\\x9f\\ud800-\\udfff\\ufffe\\uffff-]|[?:-]<0>)(?:[ 	]*(?:(?![#:])<0>|:<0>))*",["[^\\s\0-\\x08\\x0e-\\x1f,[\\]{}\\x7f-\\x84\\x86-\\x9f\\ud800-\\udfff\\ufffe\\uffff]"]),A4=`"(?:\\\\.|[^\\\\
"])*"|'(?:\\\\.|[^\\\\
'])*'`,tl=(t,e)=>ye(`([:,[{-]\\s*(?:\\s<0>[ 	]+)?)<1>(?=[ 	]*(?:$|,|\\]|\\}|(?:
\\s*)?#))`,[Qg,t],e);K.yml=K.yaml={scalar:{pattern:ye(`([:-]\\s*(?:\\s<0>[ 	]+)?[|>])[ 	]*(?:(
[ 	]+)\\S.*(?:\\2.+)*)`,[Qg]),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:ye(`((?:^|[:,[{
?-])[ 	]*(?:<0>[ 	]+)?)<1>(?=\\s*:\\s)`,[Qg,"(?:"+nX+"|"+A4+")"],"g"),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ 	]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:tl("\\d{4}-\\d\\d?-\\d\\d?(?:[tT]|[ 	]+)\\d\\d?:\\d\\d:\\d\\d(?:\\.\\d*)?(?:[ 	]*(?:Z|[+-]\\d\\d?(?::\\d\\d)?))?|\\d{4}-\\d\\d-\\d\\d|\\d\\d?:\\d\\d(?::\\d\\d(?:\\.\\d*)?)?","m"),lookbehind:!0,alias:"number"},boolean:{pattern:tl("false|true","im"),lookbehind:!0,alias:"important"},null:{pattern:tl("null|~","im"),lookbehind:!0,alias:"important"},string:{pattern:tl(A4,"mg"),lookbehind:!0,greedy:!0},number:{pattern:tl("[+-]?(?:0x[a-f\\d]+|0o[0-7]+|(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?|\\.inf|\\.nan)","im"),lookbehind:!0},tag:Zg,important:Xg,punctuation:/---|[:[\]{},|>?-]|\.{3}/};var T4={pattern:/\\[\\()[\]{}^$+*?|.]/,alias:"escape"},du=/\\(?:x[a-fA-F\d]{2}|u[a-fA-F\d]{4}|u\{[a-fA-F\d]+\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/,oX={pattern:/\.|\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},rX={pattern:/\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},M4="(?:[^\\\\-]|"+du.source+")",iX=RegExp(M4+"-"+M4),O4={pattern:/(<|')[^<>']+(?=[>']$)/,lookbehind:!0,alias:"variable"};K.regex={"char-class":{pattern:/((?:^|[^\\])(?:\\\\)*)\[(?:\\[^]|[^\\\]])*\]/,lookbehind:!0,inside:{"char-class-punctuation":{pattern:/^.|.$/g,greedy:!0,alias:"punctuation"},"char-class-negation":{pattern:/^\^/,alias:"operator"},range:{pattern:iX,inside:{escape:du,"range-punctuation":{pattern:/-/,alias:"operator"}}},"special-escape":T4,"char-set":rX,escape:du}},"special-escape":T4,"char-set":oX,backreference:[{pattern:/\\(?![123][0-7]{2})[1-9]/,alias:"keyword"},{pattern:/\\k<[^<>']+>/,alias:"keyword",inside:{"group-name":O4}}],anchor:{pattern:/[$^]|\\[ABbGZz]/,alias:"function"},escape:du,group:[{pattern:/(\()\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[!=]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?)/,lookbehind:!0,inside:{"group-name":O4}},{pattern:/[()]/,alias:"punctuation"}],quantifier:{pattern:/(?:[+*?]|\{\d+(?:,\d*)?\})[?+]?/,alias:"number"},alternation:{pattern:/\|/,alias:"keyword"}};const sX=(t,e,...n)=>{var $;let o,r,s=[],a,l="",c,d=!1,u=!1,f=!0,p=[],h,m=0;const g=lX(),y=g.firstChild,b=y.children,C=b[0],k=C.firstChild,w={language:"text",value:l},x=new Set(n),S={},E=N=>{if(Object.assign(w,N),l=N.value??l,o=w.language,!K[o])throw Error(`Language '${o}' has no grammar.`);h=!!w.readOnly,g.style.tabSize=w.tabSize||2,k.inputMode=h?"none":"",k.setAttribute("aria-readonly",h),A(),_(),(r!=(r=K[o])||l!=k.value)&&(z(),k.value=l,k.selectionEnd=0,T())},T=()=>{p=Mg(l=k.value,r),D("tokenize",p,o,l);let N=RE(p).split(`
`),I=0,F=m,j=m=N.length;for(;N[I]==s[I]&&I<j;)++I;for(;j&&N[--j]==s[--F];);if(I==j&&I==F)b[I+1].innerHTML=N[I]+`
`;else{let te=F<I?F:I-1,ie=te,de="";for(;ie<j;)de+=`<div class=pce-line aria-hidden=true>${N[++ie]}
</div>`;for(ie=j<I?j:I-1;ie<F;ie++)b[I+1].remove();for(de&&b[te+1].insertAdjacentHTML("afterend",de),ie=te+1;ie<m;)b[++ie].setAttribute("data-line",ie);g.style.setProperty("--number-width",Math.ceil(Math.log10(m+1))+".001ch")}D("update",l),B(!0),f&&setTimeout(setTimeout,0,()=>f=!0),s=N,f=!1},_=N=>{(N||x).forEach(I=>{typeof I=="object"?(I.update(O,w),N&&x.add(I)):(I(O,w),N||x.delete(I))})},A=([N,I]=M())=>{g.className=`prism-code-editor language-${o}${w.lineNumbers==!1?"":" show-line-numbers"} pce-${w.wordWrap?"":"no"}wrap${w.rtl?" pce-rtl":""} pce-${N<I?"has":"no"}-selection${u?" pce-focus":""}${h?" pce-readonly":""}`},M=()=>[k.selectionStart,k.selectionEnd,k.selectionDirection],v={Escape(){k.blur()}},L={},z=()=>hu&&!u&&wt(O,"focus",N=>{let I=N.relatedTarget;I?I.focus():k.blur()},{once:!0}),D=(N,...I)=>{var F,j;(F=S[N])==null||F.forEach(te=>te.apply(O,I)),(j=w["on"+N[0].toUpperCase()+N.slice(1)])==null||j.apply(O,I)},B=N=>{if(N||f){const I=M(),F=b[c=I4(l,0,I[I[2]<"f"?0:1])];F!=a&&(a==null||a.classList.remove("active-line"),F.classList.add("active-line"),a=F),A(I),D("selectionChange",I,l)}},O={scrollContainer:g,wrapper:y,overlays:C,textarea:k,get activeLine(){return a},get activeLineNumber(){return c},get value(){return l},options:w,get focused(){return u},get removed(){return d},get tokens(){return p},inputCommandMap:L,keyCommandMap:v,extensions:{},setOptions:E,update:T,getSelection:M,setSelection(N,I=N,F){z(),k.setSelectionRange(N,I,F),B(!0)},addExtensions(...N){_(N)},addListener(N,I){(S[N]||(S[N]=new Set)).add(I)},removeListener(N,I){var F;(F=S[N])==null||F.delete(I)},remove(){g.remove(),d=!0}};return wt(O,"keydown",N=>{var I;(I=v[N.key])!=null&&I.call(v,N,M(),l)&&Ct(N)}),wt(O,"beforeinput",N=>{var I;(h||N.inputType=="insertText"&&((I=L[N.data])!=null&&I.call(L,N,M(),l)))&&Ct(N)}),wt(O,"input",T),wt(O,"blur",()=>{nl=null,u=!1,A()}),wt(O,"focus",()=>{nl=B,u=!0,A()}),wt(O,"selectionchange",N=>{B(),Ct(N)}),($=aX(t))==null||$.append(g),e&&E(e),O},v4=document.createElement("div"),uu=t=>{v4.innerHTML=t;const e=v4.firstChild;return()=>e.cloneNode(!0)},wt=(t,e,n,o)=>t.textarea.addEventListener(e,n,o),aX=t=>typeof t=="string"?document.querySelector(t):t,N4=navigator.userAgent,fu=/Mac|iPhone|iPod|iPad/i.test(navigator.platform),pu=/Chrome\//.test(N4),hu=!pu&&/AppleWebKit\//.test(N4),I4=(t,e=0,n=1/0)=>{let o=1;for(;(e=t.indexOf(`
`,e)+1)&&e<=n;o++);return o},e1={},lX=uu("<div><div class=pce-wrapper><div class=pce-overlays><textarea spellcheck=false autocapitalize=off autocomplete=off>"),Ct=t=>{t.preventDefault(),t.stopImmediatePropagation()};let nl;document.addEventListener("selectionchange",()=>nl==null?void 0:nl());const cX=(t,e,n=0)=>{const o=t.scrollContainer.style,r=document.documentElement.style;o.scrollPaddingBlock=r.scrollPaddingBlock=`${n}px ${pu&&!e.textContent?e.offsetHeight:0}px`,e.scrollIntoView({block:"nearest"}),o.scrollPaddingBlock=r.scrollPaddingBlock=""},mu=(t,e)=>e?t.lastIndexOf(`
`,e-1)+1:0,gu=(t,e)=>(e=t.indexOf(`
`,e))+1?e:t.length,dX=(t,e,n)=>(t.addListener(e,n),()=>t.removeListener(e,n)),uX=(t,e)=>parseFloat(getComputedStyle(t)[e]);let gs;const ol=t=>t.replace(/[$+?|.^*()[\]{}\\]/g,"\\$&"),t1=(t,e)=>t.slice(mu(t,e),e),sr=(t,e,n=e)=>[t.slice(e=mu(t,e),n=gu(t,n)).split(`
`),e,n],yu=(t,e,n=0,o=n,r=t.getSelection()[0])=>{var u;const s=t.value,a=t.wrapper.children[I4(s,0,r)],l=document.createTreeWalker(a,5);let c=l.lastChild(),d=gu(s,r)+1-r-c.length;for(;-d<=o&&(c=l.previousNode());)if(!c.lastChild&&(d-=c.length||0,d<=n)){for(;c!=a;c=c.parentNode)if((u=c.matches)!=null&&u.call(c,e))return c}},n1=(t,e)=>{var n;return((n=yu(t,'[class*="language-"]',0,0,e))==null?void 0:n.className.match(/language-(\S*)/)[1])||t.options.language},Mt=(t,e,n,o,r,s)=>{if(t.options.readOnly)return;gs=t.getSelection(),o??(o=n);let a=t.textarea,l=t.value,c=pu&&!l[o??gs[1]]&&/\n$/.test(e)&&/^$|\n$/.test(l),d;t.focused||a.focus(),n!=null&&a.setSelectionRange(n,o),r!=null&&(d=dX(t,"update",()=>{a.setSelectionRange(r,s??r,gs[2]),d()})),hu||a.dispatchEvent(new InputEvent("beforeinput",{data:e})),pu||hu?(c&&(a.selectionEnd--,e=e.slice(0,-1)),hu&&(e+=`
`),document.execCommand(e?"insertHTML":"delete",!1,e.replace(/&/g,"&amp;").replace(/</g,"&lt;")),c&&a.selectionStart++):document.execCommand(e?"insertText":"delete",!1,e),gs=0},rl=t=>t.altKey+t.ctrlKey*2+t.metaKey*4+t.shiftKey*8;let o1=!1;const B4=navigator.clipboard,Gr=fu?4:2,fX=t=>o1=t,qr=t=>t.search(/\S|$/),pX=(t=['""',"''","``","()","[]","{}"],e=/([^$\w'"`]["'`]|.[[({])[.,:;\])}>\s]|.[[({]`/s)=>(n,o)=>{let r;const{keyCommandMap:s,inputCommandMap:a,getSelection:l,scrollContainer:c}=n,d=({insertSpaces:g=!0,tabSize:y}=o)=>[g?" ":"	",g?y||2:1],u=()=>{var g;return!o.readOnly&&!((g=n.extensions.cursor)!=null&&g.scrollIntoView())},f=([g,y],[b,C],k,w)=>(g<y||!w&&e.test((k[y-1]||" ")+b+(k[y]||" ")))&&!Mt(n,b+k.slice(g,y)+C,null,null,g+1,y+1),p=([g,y],b,C)=>g==y&&C[y]==b&&!n.setSelection(g+1),h=(g,y,b,C,k,w)=>{let x=y.join(`
`);if(x!=g.join(`
`)){const S=g.length-1,E=y[S],T=g[S],_=T.length-E.length,A=y[0].length-g[0].length,M=b+qr((A<0?y:g)[0]),v=C-T.length+qr(_>0?E:T),L=b-C+x.length+_,z=M>k?k:Math.max(M,k+A),D=w+b-C+x.length;Mt(n,x,b,C,z,w<v?D+_:Math.max(v+L,D))}},m=(g,y,b,C,k,w,x,S)=>{h(y,y.map(g?E=>E.slice(qr(E)?S-qr(E)%S:0):E=>E&&x.repeat(S-qr(E)%S)+E),b,C,k,w)};a["<"]=(g,y,b)=>f(y,"<>",b,!0),t.forEach(([g,y])=>{const b=g==y;a[g]=(C,k,w)=>(b&&p(k,y,w)||f(k,g+y,w))&&u(),b||(a[y]=(C,k,w)=>p(k,y,w)&&u())}),a[">"]=(g,y,b)=>{var k,w;const C=(w=(k=e1[n1(n)])==null?void 0:k.autoCloseTags)==null?void 0:w.call(k,y,b,n);C&&(Mt(n,">"+C,null,null,y[0]+1),Ct(g))},s.Tab=(g,[y,b],C)=>{if(o1||o.readOnly||rl(g)&6)return;const[k,w]=d(o),x=g.shiftKey,[S,E,T]=sr(C,y,b);return y<b||x?m(x,S,E,T,y,b,k,w):Mt(n,k.repeat(w-(y-E)%w)),u()},s.Enter=(g,y,b)=>{var k,w,x;const C=rl(g)&7;if(!C||C==Gr){C&&(y[0]=y[1]=sr(b,y[1])[2]);const[S,E]=d(),[T,_]=y,A=(k=e1[n1(n)])==null?void 0:k.autoIndent,M=Math.floor(qr(t1(b,T))/E)*E,v=(w=A==null?void 0:A[0])!=null&&w.call(A,y,b,n)?E:0,L=(x=A==null?void 0:A[1])==null?void 0:x.call(A,y,b,n),z=`
`+S.repeat(M+v)+(L?`
`+S.repeat(M):"");if(z[1]||b[_])return Mt(n,z,T,_,T+M+v+1),u()}},s.Backspace=(g,[y,b],C)=>{if(y==b){const k=t1(C,y),w=o.tabSize||2,x=t.includes(C.slice(y-1,y+1)),S=/[^ ]/.test(k)?0:(k.length-1)%w+1;if(x||S>1)return Mt(n,"",y-(x?1:S),y+x),u()}};for(let g=0;g<2;g++)s[g?"ArrowDown":"ArrowUp"]=(y,[b,C],k)=>{const w=rl(y);if(w==1){const x=g?b:mu(k,b)-1,S=g?k.indexOf(`
`,C)+1:C;if(x>-1&&S>0){const[E,T,_]=sr(k,x,S),A=E[g?"pop":"shift"](),M=(A.length+1)*(g?1:-1);E[g?"unshift":"push"](A),Mt(n,E.join(`
`),T,_,b+M,C+M)}return u()}else if(w==9){const[x,S,E]=sr(k,b,C),T=x.join(`
`),_=g?T.length+1:0;return Mt(n,T+`
`+T,S,E,b+_,C+_),u()}else if(w==2&&!fu)return c.scrollBy(0,uX(c,"lineHeight")*(g?1:-1)),!0};wt(n,"keydown",g=>{var x;const y=rl(g),b=g.keyCode,[C,k,w]=l();if(y==Gr&&(b==221||b==219))m(b==219,...sr(n.value,C,k),C,k,...d()),u(),Ct(g);else if(y==(fu?10:2)&&b==77)fX(!o1),Ct(g);else if(b==191&&y==Gr||b==65&&y==9){const S=n.value,E=y==9,T=E?C:mu(S,C),_=e1[n1(n,T)]||{},{line:A,block:M}=((x=_.getComments)==null?void 0:x.call(_,n,T,S))||_.comments||{},[v,L,z]=sr(S,C,k),D=v.length-1;if(E){if(M){const[B,O]=M,$=S.slice(C,k),N=S.slice(0,C).search(ol(B)+" ?$"),I=RegExp("^ ?"+ol(O)).test(S.slice(k));N+1&&I?Mt(n,$,N,k+ +(S[k]==" ")+O.length,N,N+k-C):Mt(n,`${B} ${$} ${O}`,C,k,C+B.length+1,k+B.length+1),u(),Ct(g)}}else if(A){const B=ol(A),O=RegExp(`^\\s*(${B} ?|$)`),$=RegExp(B+" ?"),N=!/\S/.test(S.slice(L,z)),I=v.map(v.every(F=>O.test(F))&&!N?F=>F.replace($,""):F=>N||/\S/.test(F)?F.replace(/^\s*/,`$&${A} `):F);h(v,I,L,z,C,k),u(),Ct(g)}else if(M){const[B,O]=M,$=qr(v[0]),N=v[0].startsWith(B,$)&&v[D].endsWith(O),I=v.slice();I[0]=v[0].replace(N?RegExp(ol(B)+" ?"):/(?=\S)|$/,N?"":B+" ");let F=I[0].length-v[0].length;I[D]=N?I[D].replace(RegExp(`( ?${ol(O)})?$`),""):I[D]+" "+O;let j=I.join(`
`),te=$+L,ie=te>C?C:Math.max(C+F,te),de=te>k-(C!=k)?k:Math.min(Math.max(te,k+F),L+j.length);Mt(n,j,L,z,ie,Math.max(ie,de)),u(),Ct(g)}}else if(y==8+Gr&&b==75){const S=n.value,[E,T,_]=sr(S,C,k),A=w>"f"?k-_+E.pop().length:C-T,M=gu(S,_+1)-_-1;Mt(n,"",T-!!T,_+!T,T+Math.min(A,M)),u(),Ct(g)}}),["copy","cut","paste"].forEach(g=>wt(n,g,y=>{const[b,C]=l();if(b==C&&B4){const[[k],w,x]=sr(n.value,b,C);g=="paste"?y.clipboardData.getData("text/plain")==r&&(Mt(n,r+`
`,w,w,b+r.length+1),u(),Ct(y)):(B4.writeText(r=k),g=="cut"&&(Mt(n,"",w,x+1),u()),Ct(y))}}))},hX=(t=999)=>{let e=0,n,o,r=!1,s,a,l,c,d,u;const f=[],p=g=>{g>=t&&(g--,f.shift()),f.splice(e=g,t,[n.value,u(),u()])},h=g=>{var y;f[g]&&(d.value=f[g][0],d.setSelectionRange(...f[g][g<e?2:1]),n.update(),(y=n.extensions.cursor)==null||y.scrollIntoView(),e=g,o=!1)},m=(g,y)=>{g.extensions.history=m,n=g,u=g.getSelection,d||p(0),d=g.textarea,g.addListener("selectionChange",()=>{o=r,r=!1}),wt(g,"beforeinput",b=>{let C=b.data,k=b.inputType,w=b.timeStamp;/history/.test(k)?(h(e+(k[7]=="U"?-1:1)),Ct(b)):(c=o&&(s==k||w-l<99&&k.slice(-4)=="Drop")&&!gs&&(C!=" "||a==C))||(f[e][2]=gs||u()),r=!0,a=C,l=w,s=k}),wt(g,"input",()=>p(e+!c)),wt(g,"keydown",b=>{if(!y.readOnly){const C=rl(b),k=b.keyCode,w=C==Gr&&k==90,x=C==Gr+8&&k==90||!fu&&C==Gr&&k==89;w?(h(e-1),Ct(b)):x&&(h(e+1),Ct(b))}})};return m.clear=()=>{p(0),o=!1},m.has=g=>e+g in f,m.go=g=>h(e+g),m},mX=uu("<div style=position:absolute;top:0;opacity:0;padding:inherit> <span><span></span> "),gX=()=>{let t,e=" ",n=" ";const o=mX(),[r,s]=o.childNodes,[a,l]=s.childNodes,c=f=>{let{value:p,activeLine:h}=t,m=f[f[2]<"f"?0:1],g=t1(p,m),y=p.slice(m,gu(p,m));!g&&!y&&(y=" "),e!=g&&(r.data=e=g),n!=y&&(l.data=n=y),o.parentNode!=h&&h.prepend(o)},d=()=>cX(t,a),u=f=>{f.addListener("selectionChange",c),t=f,f.extensions.cursor=u,wt(f,"input",p=>{/history/.test(p.inputType)&&d()}),f.activeLine&&c(f.getSelection())};return u.getPosition=()=>{const f=a.getBoundingClientRect(),p=t.overlays.getBoundingClientRect();return{top:f.y-p.y,bottom:p.bottom-f.bottom,left:f.x-p.x,right:p.right-f.x,height:f.height}},u.scrollIntoView=d,u.element=a,u},yX=uu("<div class=guide-indents style=left:var(--padding-left);bottom:auto;right:auto> "),bX=uu("<div style=width:1px;position:absolute;background:var(--bg-guide-indent)>"),wX=()=>{let t,e=0,n,o=-1,r;const s=[],a=[],l=yX(),c=[],d=h=>{n=[];const m=f(h.split(`
`)),g=m.length;for(let y=0,b=[],C=m[0];C;y++){const k=(s[y]||(s[y]=bX())).style,[w,x,S]=C,E=a[y];C=m[y+1],w!=(E==null?void 0:E[0])&&(k.top=w+"00%"),x!=(E==null?void 0:E[1])&&(k.height=x+"00%"),S!=(E==null?void 0:E[2])&&(k.left=S*100+"%");const T=b[0]!=w&&(C==null?void 0:C[0])!=w,_=b[0]+b[1]!=w+x&&(C==null?void 0:C[0])+(C==null?void 0:C[1])!=w+x;for(let A=-T,M=x+_;A<M;A++)n[A+w]=y;b=a[y]=m[y]}for(let y=e;y>g;)s[--y].remove();l.append(...s.slice(e,e=g))},u=()=>{const h=n[r.activeLineNumber-1]??-1;h!=o&&(o>-1&&(s[o].className=""),h>-1&&(s[h].className="active")),o=h},f=h=>{const m=h.length,g=[],y=[];for(let b=0,C=-1,k=0,w=0;;k++){const x=k==m,S=x?0:c[k]=p(h[k]);if(S<0)C<0&&(C=k);else{for(let E=S;E<b;E++)g[E][1]=(C<0||E==S&&!x?k:C)-g[E][0];for(let E=b;E<S;)y[w++]=g[E]=[C<0||E>b?k:C,0,E++*t];C=-1,b=S}if(x)break}return c.length=m,y},p=h=>{let m=h.search(/\S/),g=0;if(m<0)return m;for(let y=0;y<m;)g+=h[y++]=="	"?t-g%t:1;return Math.ceil(g/t)};return{lines:l.children,indentLevels:c,update(h,m){r||(r=h,h.extensions.indentGuides=this,h.overlays.append(l),h.addListener("update",d),h.addListener("selectionChange",u)),l.style.display=m.wordWrap?"none":"",t!=(t=m.tabSize||2)&&(d(h.value),u())}}},CX=()=>t=>{let e,n,o,r=-1,s=[],a=()=>{n||(n=t.extensions.matchBrackets);let[d,u]=t.getSelection(),f=d==u&&t.focused&&n&&l(u)||-1;if(f!=r){if(c(),f+1){let p=e[o[f]],h=e[f];s=[p,h].map(m=>yu(t,".punctuation",0,-1,m[1])),s[0]!=s[1]&&p[1]+p[3].length==h[1]&&(s[0].textContent+=s[1].textContent,s[1].textContent="",s[1]=s[0]),c(!0)}else s=[];r=f}},l=d=>{var u;({brackets:e,pairs:o}=n);for(let f=0,p;p=e[++f];)if(!p[4]&&p[5]>=d&&((u=e[o[f]])==null?void 0:u[1])<=d)return f},c=d=>s.forEach(u=>u.classList.toggle("active-bracket",!!d));wt(t,"focus",a),wt(t,"blur",a),t.addListener("selectionChange",a),t.addListener("update",()=>{c(),r=-1})},kX=(t=!0,e="([{",n=")]}")=>{let o,r;const s=[],a=f=>{f.extensions.matchBrackets=a,f.addListener("tokenize",d),t&&f.tokens[0]?f.update():d(f.tokens)},l=a.brackets=[],c=a.pairs=[],d=f=>{if(c.length=l.length=r=o=0,u(f,0),t)for(let p=0,h;h=l[p];){let m=h[0].alias;h[0].alias=(m?m+" ":"")+`bracket-${p++in c?"level-"+h[2]%12:"error"}`}},u=(f,p)=>{let h,m=0;for(;h=f[m++];){let g=h.length;if(typeof h!="string"){let y=h.content;if(Array.isArray(y))u(y,p);else if((h.alias||h.type)=="punctuation"){let b=R4(y,e,g-1),C=b||R4(y,n,g-1);if(C){if(l[o]=[h,p,0,y,!!b,p+g],b)s[r++]=[o,b];else for(let k=r;k;){let[w,x]=s[--k];C==x&&(c[c[o]=w]=o,l[o][2]=l[w][2]=r=k,k=0)}o++}}}p+=g}};return a},R4=(t,e,n)=>e.indexOf(t[0])+1||n&&e.indexOf(t[n])+1,xX="xml,rss,atom,jsx,tsx,xquery,actionscript".split(","),SX=/^(?:area|base|w?br|col|embed|hr|img|input|link|meta|source|track)$/i,EX=t=>{let e=[],n,o=[],r,s,a=[],l=(d,u,f)=>{n=f,o.length=e.length=r=s=0,c(d,u,0)},c=(d,u,f)=>{let p=xX.includes(u),h=0,m=d.length;for(;h<m;){const g=d[h++],y=g.content,b=g.length;if(Array.isArray(y))if(g.type=="tag"&&n[f]=="<"){const C=y[0].length,k=y[2]?n.substr(f+C,y[1].length):"",w=y[y.length-1].length<2&&(p||!SX.test(k));if(y[2]&&p&&c(y,u,f),w)if(C>1)for(let x=s;x;)k==a[--x][1]&&(e[e[r]=a[s=x][0]]=r,x=0);else a[s++]=[r,k];o[r++]=[g,f,f+b,k,C>1,w]}else{let C=g.alias||g.type;c(y,C.slice(0,9)=="language-"?C.slice(9):u,f)}f+=b}};return t.addListener("tokenize",l),l(t.tokens,t.options.language,t.value),{tags:o,pairs:e}},_X=(t,e)=>{for(let n=0,o=e.length;n<o;n++)if(e[n][1]<=t&&e[n][2]>=t)return n},AX=()=>t=>{var e;let n,o;const{tags:r,pairs:s}=(e=t.extensions).matchTags||(e.matchTags=EX(t)),a=l=>[n,o].forEach(c=>{c&&c.classList.toggle("active-tagname",!l)});t.addListener("selectionChange",([l,c])=>{let d,u,f;l==c&&t.focused&&(f=_X(l,r),f+1&&(f=s[f],f+1&&(d=yu(t,".tag>.tag"))&&(u=yu(t,".tag>.tag",2,0,r[f][1])))),n!=d&&(a(!0),n=d,o=u,a())})},P4=i.defineComponent({__name:"Select",props:{open:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{},by:{type:[String,Function]},dir:{},multiple:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(t,{emit:e}){const r=fe(t,e);return(s,a)=>(i.openBlock(),i.createBlock(i.unref(yU),i.normalizeProps(i.guardReactiveProps(i.unref(r))),{default:i.withCtx(()=>[i.renderSlot(s.$slots,"default")]),_:3},16))}}),D4=i.defineComponent({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean},position:{default:"popper"},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,o=e,r=i.computed(()=>{const{class:a,...l}=n;return l}),s=fe(r,o);return(a,l)=>(i.openBlock(),i.createBlock(i.unref(wU),null,{default:i.withCtx(()=>[i.createVNode(i.unref(TU),i.mergeProps({...i.unref(s),...a.$attrs},{class:i.unref(ne)("relative z-50 max-h-96 min-w-32 overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a.position==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n.class)}),{default:i.withCtx(()=>[i.createVNode(i.unref(OX)),i.createVNode(i.unref(IU),{class:i.normalizeClass(i.unref(ne)("p-1",a.position==="popper"&&"h-[--reka-select-trigger-height] w-full min-w-[--reka-select-trigger-width]"))},{default:i.withCtx(()=>[i.renderSlot(a.$slots,"default")]),_:3},8,["class"]),i.createVNode(i.unref(MX))]),_:3},16,["class"])]),_:3}))}}),TX={class:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center"},$4=i.defineComponent({__name:"SelectItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=We(n);return(r,s)=>(i.openBlock(),i.createBlock(i.unref(OU),i.mergeProps(i.unref(o),{class:i.unref(ne)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e.class)}),{default:i.withCtx(()=>[i.createElementVNode("span",TX,[i.createVNode(i.unref(vU),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Ba),{class:"h-4 w-4"})]),_:1})]),i.createVNode(i.unref(NU),null,{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default")]),_:3})]),_:3},16,["class"]))}}),MX=i.defineComponent({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=We(n);return(r,s)=>(i.openBlock(),i.createBlock(i.unref(RU),i.mergeProps(i.unref(o),{class:i.unref(ne)("flex cursor-default items-center justify-center py-1",e.class)}),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default",{},()=>[i.createVNode(i.unref(Ox))])]),_:3},16,["class"]))}}),OX=i.defineComponent({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=We(n);return(r,s)=>(i.openBlock(),i.createBlock(i.unref(BU),i.mergeProps(i.unref(o),{class:i.unref(ne)("flex cursor-default items-center justify-center py-1",e.class)}),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default",{},()=>[i.createVNode(i.unref(Jj))])]),_:3},16,["class"]))}}),L4=i.defineComponent({__name:"SelectTrigger",props:{disabled:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:r,...s}=e;return s}),o=We(n);return(r,s)=>(i.openBlock(),i.createBlock(i.unref(bU),i.mergeProps(i.unref(o),{class:i.unref(ne)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:truncate text-start",e.class)}),{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default"),i.createVNode(i.unref(DU),{"as-child":""},{default:i.withCtx(()=>[i.createVNode(i.unref(Ox),{class:"w-4 h-4 opacity-50 shrink-0"})]),_:1})]),_:3},16,["class"]))}}),V4=i.defineComponent({__name:"SelectValue",props:{placeholder:{},asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(PU),i.normalizeProps(i.guardReactiveProps(e)),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16))}}),vX={key:0,class:"echo-code-block-toolbar"},NX=i.defineComponent({__name:"NodeView",props:na,setup(t){const e=t,{t:n}=Ee(),o=i.ref(null),r=i.ref(e.node.attrs.code||e.node.textContent||"");let s=i.ref(null);const a=[{value:"plaintext",label:"plaintext"},{value:"javascript",label:"JavaScript"},{value:"typescript",label:"TypeScript"},{value:"html",label:"HTML"},{value:"css",label:"CSS"},{value:"python",label:"Python"},{value:"java",label:"Java"},{value:"cpp",label:"C++"},{value:"go",label:"Go"},{value:"rust",label:"Rust"},{value:"sql",label:"SQL"},{value:"json",label:"JSON"},{value:"yaml",label:"YAML"},{value:"markdown",label:"Markdown"},{value:"bash",label:"Bash"},{value:"php",label:"PHP"}],l=[2,4,8],c=()=>{r.value&&navigator.clipboard.writeText(r.value).then(()=>{console.log("")}).catch(p=>{console.error(":",p)})},d=()=>{e.updateAttributes({lineNumbers:!e.node.attrs.lineNumbers})},u=()=>{e.updateAttributes({wordWrap:!e.node.attrs.wordWrap})},f=p=>{const h={...p};return h.language&&!a.some(m=>m.value===h.language)&&(h.language="plaintext",e.updateAttributes({language:"plaintext"})),h};return i.onMounted(()=>{const p=f(e.node.attrs);s.value=sX(o.value,{readOnly:!e.editor.isEditable,language:p.language||"plaintext",tabSize:p.tabSize??2,lineNumbers:p.lineNumbers??!0,wordWrap:p.wordWrap??!1,value:r.value,rtl:!1,onUpdate(h){e.updateAttributes({code:h})}}),s.value.addExtensions(kX(),AX(),wX(),CX(),gX(),pX(),hX()),e.node.attrs.shouldFocus&&i.nextTick(()=>{var h;(h=s.value)==null||h.textarea.focus(),e.updateAttributes({shouldFocus:!1})})}),i.onBeforeUnmount(()=>{var p;(p=s.value)==null||p.remove()}),i.watch(()=>e.editor.isEditable,p=>{var h;(h=s.value)==null||h.setOptions({readOnly:p})}),i.watch(()=>[e.node.attrs.language,e.node.attrs.lineNumbers,e.node.attrs.wordWrap,e.node.attrs.tabSize],()=>{var h;const p=f(e.node.attrs);(h=s.value)==null||h.setOptions(p)}),(p,h)=>{const m=oe;return i.openBlock(),i.createBlock(i.unref(ta),{id:p.node.attrs.id,class:"echo-node-view my-8"},{default:i.withCtx(()=>[i.createElementVNode("div",{ref_key:"containerRef",ref:o,class:"echo-node-container echo-hover-shadow echo-select-outline echo-node-code-block"},[p.editor.isEditable?(i.openBlock(),i.createElementBlock("div",vX,[i.createVNode(i.unref(fn),{"delay-duration":0},{default:i.withCtx(()=>[i.createVNode(i.unref(dn),null,{default:i.withCtx(()=>[i.createVNode(i.unref(pn),{class:"w-[160px]"},{default:i.withCtx(()=>[i.createVNode(i.unref(P4),{"model-value":p.node.attrs.language,"onUpdate:modelValue":h[1]||(h[1]=g=>p.node.attrs.language=g)},{default:i.withCtx(()=>[i.createVNode(i.unref(L4),{class:"w-[160px] border-none outline-none text-sm h-7 hover:bg-[#5a5d5e4f]"},{default:i.withCtx(()=>[i.createVNode(i.unref(V4),{placeholder:"Select language"})]),_:1}),i.createVNode(i.unref(D4),{class:"bg-[#21252b] text-[#ccc] border-[#3a3f4b]",onCloseAutoFocus:h[0]||(h[0]=g=>g.preventDefault())},{default:i.withCtx(()=>[(i.openBlock(),i.createElementBlock(i.Fragment,null,i.renderList(a,g=>i.createVNode(i.unref($4),{class:"focus:bg-[#5a5d5e4f] focus:text-[#fff]",key:g.value,value:g.value},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(g.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["model-value"])]),_:1}),i.createVNode(i.unref(un),{"side-offset":5},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(n)("editor.codeblock.selectLang")),1)]),_:1})]),_:1})]),_:1}),h[4]||(h[4]=i.createElementVNode("div",{class:"toolbar-divider"},null,-1)),i.createVNode(i.unref(fn),{"delay-duration":0},{default:i.withCtx(()=>[i.createVNode(i.unref(dn),null,{default:i.withCtx(()=>[i.createVNode(i.unref(pn),null,{default:i.withCtx(()=>[i.createElementVNode("div",{onClick:c,class:"h-7 w-7 hover:bg-[#5a5d5e4f] rounded-sm flex justify-center items-center cursor-pointer"},[i.createVNode(m,{name:"Copy",class:"w-4 h-4"})])]),_:1}),i.createVNode(i.unref(un),{"side-offset":5},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(n)("editor.codeblock.copy")),1)]),_:1})]),_:1})]),_:1}),h[5]||(h[5]=i.createElementVNode("div",{class:"toolbar-divider"},null,-1)),i.createVNode(i.unref(fn),{"delay-duration":0},{default:i.withCtx(()=>[i.createVNode(i.unref(dn),null,{default:i.withCtx(()=>[i.createVNode(i.unref(pn),null,{default:i.withCtx(()=>[i.createElementVNode("div",{onClick:d,class:i.normalizeClass(["h-7 w-7 hover:bg-[#5a5d5e4f] rounded-sm flex justify-center items-center cursor-pointer",{"bg-[#5a5d5e4f]":p.node.attrs.lineNumbers}])},[i.createVNode(m,{name:"List",class:"w-4 h-4"})],2)]),_:1}),i.createVNode(i.unref(un),{"side-offset":5},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(n)("editor.codeblock.lineNumbers")),1)]),_:1})]),_:1})]),_:1}),h[6]||(h[6]=i.createElementVNode("div",{class:"toolbar-divider"},null,-1)),i.createVNode(i.unref(fn),{"delay-duration":0},{default:i.withCtx(()=>[i.createVNode(i.unref(dn),null,{default:i.withCtx(()=>[i.createVNode(i.unref(pn),null,{default:i.withCtx(()=>[i.createElementVNode("div",{onClick:u,class:i.normalizeClass(["h-7 w-7 hover:bg-[#5a5d5e4f] rounded-sm flex justify-center items-center cursor-pointer",{"bg-[#5a5d5e4f]":p.node.attrs.wordWrap}])},[i.createVNode(m,{name:"WrapText",class:"w-4 h-4"})],2)]),_:1}),i.createVNode(i.unref(un),{"side-offset":5},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(n)("editor.codeblock.wordWrap")),1)]),_:1})]),_:1})]),_:1}),h[7]||(h[7]=i.createElementVNode("div",{class:"toolbar-divider"},null,-1)),i.createVNode(i.unref(fn),{"delay-duration":0},{default:i.withCtx(()=>[i.createVNode(i.unref(dn),null,{default:i.withCtx(()=>[i.createVNode(i.unref(pn),null,{default:i.withCtx(()=>[i.createVNode(i.unref(P4),{"model-value":p.node.attrs.tabSize,"onUpdate:modelValue":h[3]||(h[3]=g=>p.node.attrs.tabSize=g)},{default:i.withCtx(()=>[i.createVNode(i.unref(L4),{class:"w-[60px] border-none outline-none text-sm h-7 hover:bg-[#5a5d5e4f]"},{default:i.withCtx(()=>{var g;return[i.createVNode(i.unref(V4),{placeholder:((g=p.node.attrs)==null?void 0:g.tabSize.toString())??""},null,8,["placeholder"])]}),_:1}),i.createVNode(i.unref(D4),{class:"bg-[#21252b] text-[#ccc] border-[#3a3f4b]",onCloseAutoFocus:h[2]||(h[2]=g=>g.preventDefault())},{default:i.withCtx(()=>[(i.openBlock(),i.createElementBlock(i.Fragment,null,i.renderList(l,g=>i.createVNode(i.unref($4),{class:"focus:bg-[#5a5d5e4f] focus:text-[#fff]",key:g,value:g},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(g),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["model-value"])]),_:1}),i.createVNode(i.unref(un),{"side-offset":5},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(n)("editor.codeblock.tabSize")),1)]),_:1})]),_:1})]),_:1})])):i.createCommentVNode("",!0)],512)]),_:1},8,["id"])}}}),IX=/^```([a-z]+)?[\s\n]$/,BX=/^~~~([a-z]+)?[\s\n]$/,RX=ve.create({name:"codeBlock",group:"block",atom:!0,content:"text*",addAttributes(){return{vnode:{default:!0},code:{default:"",parseHTML:t=>t.textContent||""},language:{default:"plaintext"},lineNumbers:{default:!0},wordWrap:{default:!1},tabSize:{default:2},shouldFocus:{default:!0,parseHTML:()=>!1,renderHTML:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full",getAttrs:t=>({code:t.textContent||""})},{tag:"pre code",preserveWhitespace:"full",getAttrs:t=>({code:t.textContent||""})}]},renderHTML({HTMLAttributes:t,node:e}){var o;let n=e.attrs.code||((o=e.content.firstChild)==null?void 0:o.text)||"";return["pre",ge(this.options.HTMLAttributes,t),["code",{},n]]},addNodeView(){return oa(NX)},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.insertContent({type:this.name,attrs:{...t,shouldFocus:!0}})}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.setCodeBlock({})}},addInputRules(){return[Ap({find:IX,type:this.type,getAttributes:t=>({language:t[1]})}),Ap({find:BX,type:this.type,getAttributes:t=>({language:t[1]})})]}}),PX=ve.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,ge(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Ap({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),DX={class:"flex items-center h-full justify-between font-normal w-full"},$X={key:0,class:"text-left truncate text-sm flex-grow"},LX={class:"max-w-24 text-center flex flex-col items-center"},VX={key:0,class:"flex"},FX=i.defineComponent({__name:"ActionMenuButton",props:{icon:{default:void 0},class:{default:""},title:{default:void 0},tooltip:{default:void 0},disabled:{type:Boolean,default:!1},shortcutKeys:{default:void 0},color:{default:void 0},action:{type:Function,default:void 0},isActive:{type:Function,default:void 0}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(fn),null,{default:i.withCtx(()=>[i.createVNode(i.unref(dn),{"delay-duration":0},{default:i.withCtx(()=>[i.createVNode(i.unref(pn),{"as-child":""},{default:i.withCtx(()=>[i.createVNode(i.unref(it),{class:i.normalizeClass(i.unref(no)("h-[32px] px-1.5 py-0",e.class)),variant:"ghost",disabled:n.disabled},{default:i.withCtx(()=>[i.createElementVNode("div",DX,[n.title?(i.openBlock(),i.createElementBlock("div",$X,i.toDisplayString(n.title),1)):i.createCommentVNode("",!0),n.icon?(i.openBlock(),i.createBlock(i.unref(oe),{key:1,class:"w-[16px] h-[16px]",name:n.icon},null,8,["name"])):i.createCommentVNode("",!0),i.createVNode(i.unref(oe),{class:"w-3 h-3 ml-1 text-zinc-500 flex-shrink-0",name:"MenuDown"})])]),_:1},8,["class","disabled"])]),_:1}),n.tooltip||n.shortcutKeys&&n.shortcutKeys.length?(i.openBlock(),i.createBlock(i.unref(un),{key:0,hideWhenDetached:""},{default:i.withCtx(()=>[i.createElementVNode("div",LX,[i.createElementVNode("div",null,i.toDisplayString(n.tooltip),1),n.shortcutKeys&&n.shortcutKeys.length?(i.openBlock(),i.createElementBlock("div",VX,[i.createElementVNode("span",null,i.toDisplayString(i.unref(oo)(n.shortcutKeys)),1)])):i.createCommentVNode("",!0)])]),_:1})):i.createCommentVNode("",!0)]),_:1})]),_:1}))}}),Yr=i.defineComponent({__name:"ActionDropdownButton",props:{icon:{default:void 0},title:{default:void 0},tooltip:{default:void 0},disabled:{type:Boolean,default:!1},class:{default:""},btn_class:{default:""},action:{type:Function,default:void 0},isActive:{type:Function,default:void 0}},setup(t){const e=t;return(n,o)=>(i.openBlock(),i.createBlock(i.unref(Yo),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Xo),{disabled:n.disabled},{default:i.withCtx(()=>[i.createVNode(FX,{class:i.normalizeClass(n.btn_class),title:n.title,icon:n.icon,tooltip:n.tooltip,disabled:n.disabled,"is-active":n.isActive},null,8,["class","title","icon","tooltip","disabled","is-active"])]),_:1},8,["disabled"]),i.createVNode(i.unref(Jo),{class:i.normalizeClass(i.unref(no)("p-1 min-w-32 w-full",e.class)),align:"start",side:"bottom"},{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},8,["class"])]),_:3}))}}),zX=i.defineComponent({__name:"HeadingButton",props:{editor:{},disabled:{type:Boolean,default:!1},color:{default:void 0},shortcutKeys:{default:void 0},maxHeight:{default:void 0},tooltip:{default:""},items:{default:()=>[]}},setup(t){const e=t,n=i.computed(()=>{const o=e.items.find(s=>s.isActive());return o&&!o.default?{...o}:{title:e.tooltip,level:0,isActive:()=>!1}});return(o,r)=>{var s;return i.openBlock(),i.createBlock(Yr,{disabled:o.disabled,tooltip:o.tooltip,title:(s=n.value)==null?void 0:s.title,btn_class:"min-w-24 max-w-32"},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.items,(a,l)=>(i.openBlock(),i.createElementBlock(i.Fragment,{key:l},[i.createVNode(i.unref(ss),{"model-value":n.value.title===a.title,onClick:a.action},{default:i.withCtx(()=>[i.createElementVNode("div",{class:i.normalizeClass(["ml-1 h-full","heading-"+a.level])},i.toDisplayString(a.title),3),i.createVNode(i.unref(AE),{class:"pl-4"},{default:i.withCtx(()=>{var c;return[i.createTextVNode(i.toDisplayString((c=a.shortcutKeys)==null?void 0:c.map(d=>i.unref(_d)(d)).join(" ")),1)]}),_:2},1024)]),_:2},1032,["model-value","onClick"]),a.level===0?(i.openBlock(),i.createBlock(i.unref(xg),{key:0})):i.createCommentVNode("",!0)],64))),128))]),_:1},8,["disabled","tooltip","title"])}}}),HX=PX.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),levels:[1,2,3,4,5,6],button({editor:e,extension:n,t:o}){var d;const{extensions:r=[]}=e.extensionManager??[],s=((d=n.options)==null?void 0:d.levels)||[],a=r.find(u=>u.name==="base-kit"),l=s.map(u=>({action:()=>e==null?void 0:e.chain().toggleHeading({level:u}).focus().run(),isActive:()=>e.isActive("heading",{level:u})||!1,disabled:!(e!=null&&e.isEditable)||!e.can().toggleHeading({level:u}),title:o(`editor.heading.h${u}.tooltip`),level:u,shortcutKeys:["alt","mod",`${u}`]}));a&&a.options.paragraph!==!1&&l.unshift({action:()=>e==null?void 0:e.chain().setParagraph().focus().run(),isActive:()=>e.isActive("paragraph")||!1,disabled:!(e!=null&&e.isEditable)||!e.can().setParagraph(),level:0,title:o("editor.paragraph.tooltip"),shortcutKeys:["alt","mod","0"]});const c=l.filter(u=>u.disabled).length===l.length;return{component:zX,componentProps:{tooltip:o("editor.heading.tooltip"),disabled:c,items:l}}}}}}),UX=ae.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e)}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),jX=i.defineComponent({__name:"TextAlignMenuButton",props:{editor:{},disabled:{type:Boolean,default:!1},color:{default:void 0},maxHeight:{default:void 0},icon:{default:void 0},tooltip:{default:""},items:{default:()=>[]}},setup(t){const e=t,n=i.computed(()=>{const o=e.items.find(s=>s.isActive());return o&&!o.default?{...o,icon:o.icon?o.icon:e.icon}:{title:e.tooltip,icon:e.icon,isActive:()=>!1}});return(o,r)=>(i.openBlock(),i.createBlock(Yr,{icon:o.icon,tooltip:o.tooltip,disabled:o.disabled,class:"min-w-4 w-full flex flex-row gap-1"},{default:i.withCtx(()=>[i.createVNode(i.unref(fn),null,{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.items,(s,a)=>(i.openBlock(),i.createBlock(i.unref(dn),{key:a},{default:i.withCtx(()=>[i.createVNode(i.unref(pn),{"as-child":""},{default:i.withCtx(()=>[i.createVNode(i.unref(Ur),{class:"p-0",onClick:s.action},{default:i.withCtx(()=>[i.createVNode(i.unref(iS),{size:"sm",class:"w-7 h-7 p-1",pressed:n.value.title===s.title},{default:i.withCtx(()=>[s.icon?(i.openBlock(),i.createBlock(i.unref(oe),{key:0,name:s.icon},null,8,["name"])):i.createCommentVNode("",!0)]),_:2},1032,["pressed"])]),_:2},1032,["onClick"])]),_:2},1024),i.createVNode(i.unref(un),{class:"flex flex-col items-center"},{default:i.withCtx(()=>{var l;return[i.createElementVNode("span",null,i.toDisplayString(s.title),1),i.createElementVNode("span",null,i.toDisplayString((l=s.shortcutKeys)==null?void 0:l.map(c=>i.unref(_d)(c)).join(" ")),1)]}),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["icon","tooltip","disabled"]))}}),WX=UX.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),types:["heading","paragraph","list_item","title"],button({editor:e,extension:n,t:o}){var d;const r=((d=n.options)==null?void 0:d.alignments)||[],s={left:["mod","Shift","L"],center:["mod","Shift","E"],right:["mod","Shift","R"],justify:["mod","Shift","J"]},a={left:"AlignLeft",center:"AlignCenter",right:"AlignRight",justify:"AlignJustify"},l=r.map(u=>({title:o(`editor.textalign.${u}.tooltip`),icon:a[u],shortcutKeys:s[u],isActive:()=>e.isActive({textAlign:u})||!1,action:()=>e.chain().setTextAlign(u).focus().run(),disabled:!e.isEditable||!e.can().setTextAlign(u)})),c=l.filter(u=>u.disabled).length===l.length;return{component:jX,componentProps:{icon:"AlignJustify",tooltip:o("editor.textalign.tooltip"),disabled:c,items:l}}}}}}),KX={class:"ml-1 h-full"},GX=i.defineComponent({__name:"FontSizeMenuButton",props:{editor:{},disabled:{type:Boolean,default:!1},color:{default:void 0},shortcutKeys:{default:void 0},maxHeight:{default:void 0},tooltip:{default:""},items:{default:()=>[]}},setup(t){const e=t,{t:n}=Ee(),o=i.computed(()=>{const r=e.items.find(a=>a.isActive());return r||{title:n.value("editor.fontSize.default.tooltip"),isActive:()=>!1}});return(r,s)=>(i.openBlock(),i.createBlock(Yr,{disabled:r.disabled,tooltip:r.tooltip,title:o.value.title,btn_class:"min-w-24 max-w-32"},{default:i.withCtx(()=>[i.createVNode(i.unref(vE),{class:"w-32 h-96"},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.items,(a,l)=>(i.openBlock(),i.createElementBlock(i.Fragment,{key:l},[i.createVNode(i.unref(ss),{"model-value":o.value.title===a.title,onSelect:a.action},{default:i.withCtx(()=>[i.createElementVNode("div",KX,i.toDisplayString(a.title),1)]),_:2},1032,["model-value","onSelect"]),a.title===i.unref(n)("editor.fontSize.default.tooltip")?(i.openBlock(),i.createBlock(i.unref(xg),{key:0})):i.createCommentVNode("",!0)],64))),128))]),_:1})]),_:1},8,["disabled","tooltip","title"]))}}),qX=ae.create({name:"fontSize",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),types:["textStyle"],fontSizes:[...C5],button({editor:e,extension:n,t:o}){var l;const r=((l=n.options)==null?void 0:l.fontSizes)||[],s=[_i,...r].map(c=>({title:c===_i?o("editor.fontSize.default.tooltip"):String(c),isActive:()=>{const{fontSize:d}=e.getAttributes("textStyle");return c===_i&&d===void 0?!0:e.isActive({fontSize:String(c)})||!1},action:()=>{if(c===_i){e==null||e.chain().unsetFontSize().focus().run();return}e==null||e.chain().setFontSize(String(c)).focus().run()},disabled:!(e!=null&&e.isEditable)||!e.can().setFontSize(String(c)),divider:c===_i||!1,default:c===_i||!1})),a=s.filter(c=>c.disabled).length===s.length;return{component:GX,componentProps:{editor:e,tooltip:o("editor.fontSize.tooltip"),disabled:a,items:s,maxHeight:280}}}}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize.replace(/['"]+/g,""),renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),YX=t=>{if(!t.children.length)return;const e=t.querySelectorAll("span");e&&e.forEach(n=>{var o,r;const s=n.getAttribute("style"),a=(r=(o=n.parentElement)===null||o===void 0?void 0:o.closest("span"))===null||r===void 0?void 0:r.getAttribute("style");n.setAttribute("style",`${a};${s}`)})},JX=St.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&YX(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",ge(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,o)=>{if(n.isTextblock)return!0;n.marks.filter(r=>r.type===this.type).some(r=>Object.values(r.attrs).some(s=>!!s))||t.removeMark(o,o+n.nodeSize,this.type)}),!0}}}}),XX=ae.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),ZX={class:"flex items-center h-[32px] hover:bg-muted rounded-md"},QX={class:"text-sm flex justify-center items-center"},eZ={width:"18px",height:"18px",viewBox:"0 0 240 240",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},tZ={id:"icon/",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},nZ={transform:"translate(0.000000, 0.500000)"},oZ={transform:"translate(39.000000, 17.353553)"},rZ=["fill"],iZ=i.defineComponent({__name:"ColorActionButton",props:{editor:{},icon:{default:void 0},tooltip:{default:void 0},disabled:{type:Boolean,default:!1},action:{type:Function,default:void 0},isActive:{type:Function,default:void 0}},setup(t){const e=t,n=i.ref(void 0);function o(s){var a;(a=e.action)==null||a.call(e,s)}function r(s){var a;(a=e.action)==null||a.call(e,n.value)}return(s,a)=>(i.openBlock(),i.createElementBlock("div",ZX,[i.createVNode(ee,{tooltip:s.tooltip,disabled:s.disabled,action:r},{icon:i.withCtx(()=>[i.createElementVNode("span",QX,[(i.openBlock(),i.createElementBlock("svg",eZ,[i.createElementVNode("g",tZ,[i.createElementVNode("g",nZ,[i.createElementVNode("g",oZ,[i.createElementVNode("path",{d:"M11,201.146447 L167,201.146447 C173.075132,201.146447 178,206.071314 178,212.146447 C178,218.221579 173.075132,223.146447 167,223.146447 L11,223.146447 C4.92486775,223.146447 7.43989126e-16,218.221579 0,212.146447 C-7.43989126e-16,206.071314 4.92486775,201.146447 11,201.146447 Z",id:"",fill:n.value||"#DF2A3F","fill-rule":"evenodd"},null,8,rZ),a[1]||(a[1]=i.createElementVNode("path",{d:"M72.3425855,16.8295583 C75.799482,7.50883712 86.1577877,2.75526801 95.4785089,6.21216449 C100.284516,7.99463061 104.096358,11.7387855 105.968745,16.4968188 L106.112518,16.8745422 L159.385152,161.694068 C161.291848,166.877345 158.635655,172.624903 153.452378,174.531599 C148.358469,176.405421 142.719567,173.872338 140.716873,168.864661 L140.614848,168.598825 L89.211,28.86 L37.3759214,168.623816 C35.4885354,173.712715 29.8981043,176.351047 24.7909589,174.617647 L24.5226307,174.522368 C19.4337312,172.634982 16.7953993,167.044551 18.5287999,161.937406 L18.6240786,161.669077 L72.3425855,16.8295583 Z",id:"-21",fill:"currentColor","fill-rule":"nonzero"},null,-1)),a[2]||(a[2]=i.createElementVNode("path",{d:"M121,103.146447 C126.522847,103.146447 131,107.623599 131,113.146447 C131,118.575687 126.673329,122.994378 121.279905,123.142605 L121,123.146447 L55,123.146447 C49.4771525,123.146447 45,118.669294 45,113.146447 C45,107.717207 49.3266708,103.298515 54.7200952,103.150288 L55,103.146447 L121,103.146447 Z",id:"-22",fill:"currentColor","fill-rule":"nonzero"},null,-1))])])])]))])]),_:1},8,["tooltip","disabled"]),i.createVNode(aS,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=l=>n.value=l),onChange:o,disabled:s.disabled},{default:i.withCtx(()=>[i.createVNode(i.unref(it),{variant:"ghost",size:"icon",class:"h-[32px] w-3 rounded-l-none hover:bg-muted-foreground/20",disabled:s.disabled},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{class:"w-3 h-3 text-zinc-500",name:"MenuDown"})]),_:1},8,["disabled"])]),_:1},8,["modelValue","disabled"])]))}}),sZ=XX.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button({editor:e,t:n}){return{component:iZ,componentProps:{action:o=>{typeof o>"u"&&e.chain().focus().unsetColor().run(),typeof o=="string"&&e.chain().focus().setColor(o).run()},isActive:()=>{const{color:o}=e.getAttributes("textStyle");return o&&e.isActive({color:o})||!1},editor:e,disabled:!(e!=null&&e.isEditable)||!e.can().setColor(""),tooltip:n("editor.color.tooltip")}}}}}}),aZ=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,lZ=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,cZ=St.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[_r({find:aZ,type:this.type})]},addPasteRules(){return[Io({find:lZ,type:this.type})]}}).extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),multicolor:!0,button:({editor:e,t:n})=>({component:lS,componentProps:{action:o=>{typeof o=="string"&&e.chain().focus().setHighlight({color:o}).run(),typeof o>"u"&&e.chain().focus().unsetHighlight().run()},editor:e,isActive:()=>e.isActive("highlight")||!1,disabled:!(e!=null&&e.isEditable)||!e.can().setHighlight(),shortcutKeys:["","mod","H"],tooltip:n("editor.highlight.tooltip")}})}}}),dZ="listItem",F4="textStyle",z4=/^\s*([-+*])\s$/,uZ=ve.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",ge(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(dZ,this.editor.getAttributes(F4)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=yi({find:z4,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=yi({find:z4,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(F4),editor:this.editor})),[t]}}),H4=i.defineComponent({__name:"ActionDropdownButtonSplit",props:{icon:{default:void 0},title:{default:void 0},tooltip:{default:void 0},disabled:{type:Boolean,default:!1},class:{default:""},shortcutKeys:{default:void 0},btn_class:{default:""},action:{type:Function,default:void 0},isActive:{type:Function,default:void 0}},setup(t){const e=t;return(n,o)=>{var r;return i.openBlock(),i.createElementBlock("div",{class:i.normalizeClass(["flex items-center h-[32px] hover:bg-muted rounded-md",[((r=n.isActive)==null?void 0:r.call(n))&&"bg-muted"]])},[i.createVNode(ee,{class:i.normalizeClass(n.btn_class),action:n.action,title:n.title,icon:n.icon,tooltip:n.tooltip,disabled:n.disabled,"shortcut-keys":n.shortcutKeys},null,8,["class","action","title","icon","tooltip","disabled","shortcut-keys"]),i.createVNode(i.unref(Yo),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Xo),{disabled:n.disabled},{default:i.withCtx(()=>[i.createVNode(it,{variant:"ghost",size:"icon",class:"h-[32px] w-3 rounded-l-none hover:bg-muted-foreground/20",disabled:n.disabled},{default:i.withCtx(()=>[i.createVNode(i.unref(oe),{class:"w-3 h-3 text-zinc-500",name:"MenuDown"})]),_:1},8,["disabled"])]),_:1},8,["disabled"]),i.createVNode(i.unref(Jo),i.mergeProps({class:i.unref(no)("min-w-32 p-1 w-full",e.class),align:"start",side:"bottom"},n.$attrs),{default:i.withCtx(()=>[i.renderSlot(n.$slots,"default")]),_:3},16,["class"])]),_:3})],2)}}}),fZ=i.defineComponent({__name:"BulletListMenuButton",props:{editor:{},disabled:{type:Boolean,default:!1},tooltip:{default:""}},setup(t){const e=t,{t:n}=Ee(),o=[{label:"editor.bulletlist.disc.tooltip",value:"disc"},{label:"editor.bulletlist.circle.tooltip",value:"circle"},{label:"editor.bulletlist.square.tooltip",value:"square"}],r=i.computed(()=>{var a;return(a=e.editor)!=null&&a.isActive("bulletList")?e.editor.getAttributes("bulletList").listStyleType:"disc"});function s(a){e.editor.isActive("bulletList")?e.editor.getAttributes("bulletList").listStyleType===a.value?e.editor.chain().focus().toggleBulletList().run():e.editor.chain().focus().updateAttributes("bulletList",{listStyleType:a.value}).run():e.editor.chain().focus().toggleBulletList().updateAttributes("bulletList",{listStyleType:a.value}).run()}return(a,l)=>(i.openBlock(),i.createBlock(H4,{action:s,disabled:a.disabled,tooltip:a.tooltip,class:"min-w-4 w-full grid grid-cols-3 gap-1"},{default:i.withCtx(()=>[i.createVNode(i.unref(fn),null,{default:i.withCtx(()=>[(i.openBlock(),i.createElementBlock(i.Fragment,null,i.renderList(o,c=>i.createVNode(i.unref(dn),{"delay-duration":0,key:c.value},{default:i.withCtx(()=>[i.createVNode(i.unref(pn),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Ur),{class:"p-0",onClick:d=>s(c)},{default:i.withCtx(()=>[i.createElementVNode("div",{class:i.normalizeClass([[r.value===c.value?"bg-accent border border-accent-foreground":""],"h-[48px] flex flex-col w-[48px] box-border rounded-sm border"])},[i.createElementVNode("ol",{style:i.normalizeStyle({listStyleType:c.value,lineHeight:1}),class:"text-[10px] pl-3 flex-1 list-outside flex flex-col items-center justify-center"},[(i.openBlock(),i.createElementBlock(i.Fragment,null,i.renderList(3,d=>i.createElementVNode("li",{key:d},l[0]||(l[0]=[i.createElementVNode("hr",{class:"border-0 bg-gray-200 h-[3px] w-6 my-1"},null,-1)]))),64))],4)],2)]),_:2},1032,["onClick"])]),_:2},1024),i.createVNode(i.unref(un),{side:"bottom"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(n)(c.label)),1)]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1},8,["disabled","tooltip"]))}}),pZ=uZ.extend({addAttributes(){var t;return{...(t=this.parent)==null?void 0:t.call(this),listStyleType:{default:"disc",parseHTML:e=>({listStyleType:e.style["list-style-type"]??"disc"}),renderHTML:({listStyleType:e})=>({style:`list-style-type: ${(e==null?void 0:e.listStyleType)||e}`})}}},addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:fZ,componentProps:{action:()=>e==null?void 0:e.chain().focus().toggleBulletList().run(),isActive:()=>e.isActive("bulletList")||!1,disabled:!(e!=null&&e.isEditable)||!e.can().toggleBulletList(),shortcutKeys:["shift","mod","8"],icon:"List",tooltip:n("editor.bulletlist.tooltip")}})}}}),hZ=ve.create({name:"clear",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:ee,componentProps:{action:()=>e.chain().focus().clearNodes().unsetAllMarks().run(),disabled:!e.can().chain().focus().clearNodes().unsetAllMarks().run(),icon:"Eraser",tooltip:n("editor.clear.tooltip")}})}}}),mZ="listItem",U4="textStyle",j4=/^(\d+)\.\s$/,gZ=ve.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",ge(this.options.HTMLAttributes,n),0]:["ol",ge(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(mZ,this.editor.getAttributes(U4)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=yi({find:j4,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=yi({find:j4,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(U4)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),yZ=i.defineComponent({__name:"OrderedListMenuButton",props:{editor:{},disabled:{type:Boolean,default:!1},tooltip:{default:""},shortcutKeys:{default:void 0},isActive:{type:Function,default:void 0}},setup(t){const e=t,{t:n}=Ee(),o=[{label:"editor.orderedlist.decimal.tooltip",value:"decimal"},{label:"editor.orderedlist.decimalLeadingZero.tooltip",value:"decimal-leading-zero"},{label:"editor.orderedlist.lowerRoman.tooltip",value:"lower-roman"},{label:"editor.orderedlist.upperRoman.tooltip",value:"upper-roman"},{label:"editor.orderedlist.lowerLatin.tooltip",value:"lower-latin"},{label:"editor.orderedlist.upperLatin.tooltip",value:"upper-latin"},{label:"editor.orderedlist.tradChineseInformal.tooltip",value:"trad-chinese-informal"},{label:"editor.orderedlist.simpChineseFormal.tooltip",value:"simp-chinese-formal"}],r=i.computed(()=>{var a;return(a=e.editor)!=null&&a.isActive("orderedList")?e.editor.getAttributes("orderedList").listType:"decimal"});function s(a){var l,c;e.editor.isActive("orderedList")?e.editor.getAttributes("orderedList").listType===a.value?(l=e.editor.chain())==null||l.toggleOrderedList().run():(c=e.editor.chain())==null||c.updateAttributes("orderedList",{listType:a.value}).run():e.editor.chain().focus().toggleOrderedList().updateAttributes("orderedList",{listType:a.value}).run()}return(a,l)=>(i.openBlock(),i.createBlock(H4,{action:s,disabled:a.disabled,tooltip:a.tooltip,"is-active":a.isActive,shortcutKeys:a.shortcutKeys,class:"min-w-4 w-full grid grid-cols-3 gap-1"},{default:i.withCtx(()=>[i.createVNode(i.unref(fn),null,{default:i.withCtx(()=>[(i.openBlock(),i.createElementBlock(i.Fragment,null,i.renderList(o,c=>i.createVNode(i.unref(dn),{"delay-duration":0,key:c.value},{default:i.withCtx(()=>[i.createVNode(i.unref(pn),{"as-child":""},{default:i.withCtx(()=>[i.createVNode(i.unref(Ur),{class:"p-0",onClick:d=>s(c)},{default:i.withCtx(()=>[i.createElementVNode("div",{class:i.normalizeClass([[r.value===c.value?"bg-accent border border-accent-foreground":""],"h-[72px] flex flex-col w-[72px] box-border rounded-sm border"])},[i.createElementVNode("ol",{style:i.normalizeStyle({listStyleType:c.value,lineHeight:1}),class:"text-[12px] pl-3 flex-1 list-outside flex flex-col items-center justify-center"},[(i.openBlock(),i.createElementBlock(i.Fragment,null,i.renderList(3,d=>i.createElementVNode("li",{key:d},l[0]||(l[0]=[i.createElementVNode("hr",{class:"border-0 bg-gray-200 h-[3px] w-6 my-1"},null,-1)]))),64))],4)],2)]),_:2},1032,["onClick"])]),_:2},1024),i.createVNode(i.unref(un),{side:"bottom"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(n)(c.label)),1)]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1},8,["disabled","tooltip","is-active","shortcutKeys"]))}}),bZ=gZ.extend({addAttributes(){var t;return{...(t=this.parent)==null?void 0:t.call(this),listType:{default:"decimal",parseHTML:e=>{e.style.getPropertyValue("list-style-type")},renderHTML:({listType:e})=>({style:`list-style-type: ${e}`})}}},addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:yZ,componentProps:{action:()=>e.chain().toggleOrderedList().focus().run(),isActive:()=>e.isActive("orderedList")||!1,disabled:!e.isEditable||!e.can().toggleOrderedList(),icon:"ListOrdered",shortcutKeys:["mod","shift","7"],tooltip:n("editor.orderedlist.tooltip")}})}}}),wZ=/^\s*(\[([( |x])?\])\s$/,CZ=ve.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",ge(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:o})=>{const r=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div");return s.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",d=>d.preventDefault()),l.addEventListener("change",d=>{if(!o.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:u}=d.target;o.isEditable&&typeof n=="function"&&o.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:f})=>{const p=n();if(typeof p!="number")return!1;const h=f.doc.nodeAt(p);return f.setNodeMarkup(p,void 0,{...h==null?void 0:h.attrs,checked:u}),!0}).run(),!o.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,u)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,u])=>{r.setAttribute(d,u)}),r.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,s.append(l,a),r.append(s,c),Object.entries(e).forEach(([d,u])=>{r.setAttribute(d,u)}),{dom:r,contentDOM:c,update:d=>d.type!==this.type?!1:(r.dataset.checked=d.attrs.checked,l.checked=d.attrs.checked,!0)}}},addInputRules(){return[yi({find:wZ,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),kZ=ve.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",ge(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}).extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),HTMLAttributes:{class:"task-list"},taskItem:{HTMLAttributes:{class:"task-list-item"}},button:({editor:e,t:n})=>({component:ee,componentProps:{action:()=>e.chain().toggleTaskList().focus().run(),isActive:()=>e.isActive("taskList")||!1,disabled:!e.isEditable||!e.can().toggleTaskList(),icon:"ListTodo",shortcutKeys:["shift","mod","9"],tooltip:n("editor.tasklist.tooltip")}})}},addExtensions(){return[CZ.configure(this.options.taskItem)]}}),xZ=/^\s*>\s$/,SZ=ve.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[yi({find:xZ,type:this.type})]}}).extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),HTMLAttributes:{class:"blockquote"},button:({editor:e,t:n})=>({component:ee,componentProps:{action:()=>e==null?void 0:e.chain().focus().toggleBlockquote().run(),isActive:()=>e.isActive("blockquote")||!1,disabled:!(e!=null&&e.isEditable)||!e.can().toggleBlockquote(),icon:"TextQuote",shortcutKeys:["shift","mod","B"],tooltip:n("editor.blockquote.tooltip")}})}}}),EZ="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",_Z="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",ys=(t,e)=>{for(const n in e)t[n]=e[n];return t},r1="numeric",i1="ascii",s1="alpha",il="asciinumeric",sl="alphanumeric",a1="domain",W4="emoji",AZ="scheme",TZ="slashscheme",l1="whitespace";function MZ(t,e){return t in e||(e[t]=[]),e[t]}function Jr(t,e,n){e[r1]&&(e[il]=!0,e[sl]=!0),e[i1]&&(e[il]=!0,e[s1]=!0),e[il]&&(e[sl]=!0),e[s1]&&(e[sl]=!0),e[sl]&&(e[a1]=!0),e[W4]&&(e[a1]=!0);for(const o in e){const r=MZ(o,n);r.indexOf(t)<0&&r.push(t)}}function OZ(t,e){const n={};for(const o in e)e[o].indexOf(t)>=0&&(n[o]=!0);return n}function Ot(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Ot.groups={},Ot.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let o=0;o<e.jr.length;o++){const r=e.jr[o][0],s=e.jr[o][1];if(s&&r.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,o){for(let r=0;r<t.length;r++)this.tt(t[r],e,n,o)},tr(t,e,n,o){o=o||Ot.groups;let r;return e&&e.j?r=e:(r=new Ot(e),n&&o&&Jr(e,n,o)),this.jr.push([t,r]),r},ts(t,e,n,o){let r=this;const s=t.length;if(!s)return r;for(let a=0;a<s-1;a++)r=r.tt(t[a]);return r.tt(t[s-1],e,n,o)},tt(t,e,n,o){o=o||Ot.groups;const r=this;if(e&&e.j)return r.j[t]=e,e;const s=e;let a,l=r.go(t);if(l?(a=new Ot,ys(a.j,l.j),a.jr.push.apply(a.jr,l.jr),a.jd=l.jd,a.t=l.t):a=new Ot,s){if(o)if(a.t&&typeof a.t=="string"){const c=ys(OZ(a.t,o),n);Jr(s,c,o)}else n&&Jr(s,n,o);a.t=s}return r.j[t]=a,a}};const le=(t,e,n,o,r)=>t.ta(e,n,o,r),ze=(t,e,n,o,r)=>t.tr(e,n,o,r),K4=(t,e,n,o,r)=>t.ts(e,n,o,r),V=(t,e,n,o,r)=>t.tt(e,n,o,r),fo="WORD",c1="UWORD",G4="ASCIINUMERICAL",q4="ALPHANUMERICAL",al="LOCALHOST",d1="TLD",u1="UTLD",bu="SCHEME",bs="SLASH_SCHEME",f1="NUM",p1="WS",h1="NL",ll="OPENBRACE",cl="CLOSEBRACE",wu="OPENBRACKET",Cu="CLOSEBRACKET",ku="OPENPAREN",xu="CLOSEPAREN",Su="OPENANGLEBRACKET",Eu="CLOSEANGLEBRACKET",_u="FULLWIDTHLEFTPAREN",Au="FULLWIDTHRIGHTPAREN",Tu="LEFTCORNERBRACKET",Mu="RIGHTCORNERBRACKET",Ou="LEFTWHITECORNERBRACKET",vu="RIGHTWHITECORNERBRACKET",Nu="FULLWIDTHLESSTHAN",Iu="FULLWIDTHGREATERTHAN",Bu="AMPERSAND",m1="APOSTROPHE",Ru="ASTERISK",ar="AT",Pu="BACKSLASH",Du="BACKTICK",$u="CARET",lr="COLON",g1="COMMA",Lu="DOLLAR",Dn="DOT",Vu="EQUALS",y1="EXCLAMATION",Zt="HYPHEN",dl="PERCENT",Fu="PIPE",zu="PLUS",Hu="POUND",ul="QUERY",b1="QUOTE",Y4="FULLWIDTHMIDDLEDOT",w1="SEMI",$n="SLASH",fl="TILDE",Uu="UNDERSCORE",J4="EMOJI",ju="SYM";var X4=Object.freeze({__proto__:null,WORD:fo,UWORD:c1,ASCIINUMERICAL:G4,ALPHANUMERICAL:q4,LOCALHOST:al,TLD:d1,UTLD:u1,SCHEME:bu,SLASH_SCHEME:bs,NUM:f1,WS:p1,NL:h1,OPENBRACE:ll,CLOSEBRACE:cl,OPENBRACKET:wu,CLOSEBRACKET:Cu,OPENPAREN:ku,CLOSEPAREN:xu,OPENANGLEBRACKET:Su,CLOSEANGLEBRACKET:Eu,FULLWIDTHLEFTPAREN:_u,FULLWIDTHRIGHTPAREN:Au,LEFTCORNERBRACKET:Tu,RIGHTCORNERBRACKET:Mu,LEFTWHITECORNERBRACKET:Ou,RIGHTWHITECORNERBRACKET:vu,FULLWIDTHLESSTHAN:Nu,FULLWIDTHGREATERTHAN:Iu,AMPERSAND:Bu,APOSTROPHE:m1,ASTERISK:Ru,AT:ar,BACKSLASH:Pu,BACKTICK:Du,CARET:$u,COLON:lr,COMMA:g1,DOLLAR:Lu,DOT:Dn,EQUALS:Vu,EXCLAMATION:y1,HYPHEN:Zt,PERCENT:dl,PIPE:Fu,PLUS:zu,POUND:Hu,QUERY:ul,QUOTE:b1,FULLWIDTHMIDDLEDOT:Y4,SEMI:w1,SLASH:$n,TILDE:fl,UNDERSCORE:Uu,EMOJI:J4,SYM:ju});const po=/[a-z]/,pl=new RegExp("\\p{L}","u"),C1=new RegExp("\\p{Emoji}","u"),ho=/\d/,k1=/\s/,Z4="\r",x1=`
`,vZ="",NZ="",S1="";let Wu=null,Ku=null;function IZ(t=[]){const e={};Ot.groups=e;const n=new Ot;Wu==null&&(Wu=e3(EZ)),Ku==null&&(Ku=e3(_Z)),V(n,"'",m1),V(n,"{",ll),V(n,"}",cl),V(n,"[",wu),V(n,"]",Cu),V(n,"(",ku),V(n,")",xu),V(n,"<",Su),V(n,">",Eu),V(n,"",_u),V(n,"",Au),V(n,"",Tu),V(n,"",Mu),V(n,"",Ou),V(n,"",vu),V(n,"",Nu),V(n,"",Iu),V(n,"&",Bu),V(n,"*",Ru),V(n,"@",ar),V(n,"`",Du),V(n,"^",$u),V(n,":",lr),V(n,",",g1),V(n,"$",Lu),V(n,".",Dn),V(n,"=",Vu),V(n,"!",y1),V(n,"-",Zt),V(n,"%",dl),V(n,"|",Fu),V(n,"+",zu),V(n,"#",Hu),V(n,"?",ul),V(n,'"',b1),V(n,"/",$n),V(n,";",w1),V(n,"~",fl),V(n,"_",Uu),V(n,"\\",Pu),V(n,"",Y4);const o=ze(n,ho,f1,{[r1]:!0});ze(o,ho,o);const r=ze(o,po,G4,{[il]:!0}),s=ze(o,pl,q4,{[sl]:!0}),a=ze(n,po,fo,{[i1]:!0});ze(a,ho,r),ze(a,po,a),ze(r,ho,r),ze(r,po,r);const l=ze(n,pl,c1,{[s1]:!0});ze(l,po),ze(l,ho,s),ze(l,pl,l),ze(s,ho,s),ze(s,po),ze(s,pl,s);const c=V(n,x1,h1,{[l1]:!0}),d=V(n,Z4,p1,{[l1]:!0}),u=ze(n,k1,p1,{[l1]:!0});V(n,S1,u),V(d,x1,c),V(d,S1,u),ze(d,k1,u),V(u,Z4),V(u,x1),ze(u,k1,u),V(u,S1,u);const f=ze(n,C1,J4,{[W4]:!0});V(f,"#"),ze(f,C1,f),V(f,vZ,f);const p=V(f,NZ);V(p,"#"),ze(p,C1,f);const h=[[po,a],[ho,r]],m=[[po,null],[pl,l],[ho,s]];for(let g=0;g<Wu.length;g++)cr(n,Wu[g],d1,fo,h);for(let g=0;g<Ku.length;g++)cr(n,Ku[g],u1,c1,m);Jr(d1,{tld:!0,ascii:!0},e),Jr(u1,{utld:!0,alpha:!0},e),cr(n,"file",bu,fo,h),cr(n,"mailto",bu,fo,h),cr(n,"http",bs,fo,h),cr(n,"https",bs,fo,h),cr(n,"ftp",bs,fo,h),cr(n,"ftps",bs,fo,h),Jr(bu,{scheme:!0,ascii:!0},e),Jr(bs,{slashscheme:!0,ascii:!0},e),t=t.sort((g,y)=>g[0]>y[0]?1:-1);for(let g=0;g<t.length;g++){const y=t[g][0],C=t[g][1]?{[AZ]:!0}:{[TZ]:!0};y.indexOf("-")>=0?C[a1]=!0:po.test(y)?ho.test(y)?C[il]=!0:C[i1]=!0:C[r1]=!0,K4(n,y,y,C)}return K4(n,"localhost",al,{ascii:!0}),n.jd=new Ot(ju),{start:n,tokens:ys({groups:e},X4)}}function Q4(t,e){const n=BZ(e.replace(/[A-Z]/g,l=>l.toLowerCase())),o=n.length,r=[];let s=0,a=0;for(;a<o;){let l=t,c=null,d=0,u=null,f=-1,p=-1;for(;a<o&&(c=l.go(n[a]));)l=c,l.accepts()?(f=0,p=0,u=l):f>=0&&(f+=n[a].length,p++),d+=n[a].length,s+=n[a].length,a++;s-=f,a-=p,d-=f,r.push({t:u.t,v:e.slice(s-d,s),s:s-d,e:s})}return r}function BZ(t){const e=[],n=t.length;let o=0;for(;o<n;){let r=t.charCodeAt(o),s,a=r<55296||r>56319||o+1===n||(s=t.charCodeAt(o+1))<56320||s>57343?t[o]:t.slice(o,o+2);e.push(a),o+=a.length}return e}function cr(t,e,n,o,r){let s;const a=e.length;for(let l=0;l<a-1;l++){const c=e[l];t.j[c]?s=t.j[c]:(s=new Ot(o),s.jr=r.slice(),t.j[c]=s),t=s}return s=new Ot(n),s.jr=r.slice(),t.j[e[a-1]]=s,s}function e3(t){const e=[],n=[];let o=0,r="0123456789";for(;o<t.length;){let s=0;for(;r.indexOf(t[o+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let a=parseInt(t.substring(o,o+s),10);a>0;a--)n.pop();o+=s}else n.push(t[o]),o++}return e}const hl={defaultProtocol:"http",events:null,format:t3,formatHref:t3,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function E1(t,e=null){let n=ys({},hl);t&&(n=ys(n,t instanceof E1?t.o:t));const o=n.ignoreTags,r=[];for(let s=0;s<o.length;s++)r.push(o[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=r}E1.prototype={o:hl,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const o=e!=null;let r=this.o[t];return r&&(typeof r=="object"?(r=n.t in r?r[n.t]:hl[t],typeof r=="function"&&o&&(r=r(e,n))):typeof r=="function"&&o&&(r=r(e,n.t,n)),r)},getObj(t,e,n){let o=this.o[t];return typeof o=="function"&&e!=null&&(o=o(e,n.t,n)),o},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function t3(t){return t}function n3(t,e){this.t="token",this.v=t,this.tk=e}n3.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),o=t.get("format",e,this);return n&&o.length>n?o.substring(0,n)+"":o},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=hl.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),o=t.get("formatHref",n,this),r=t.get("tagName",n,e),s=this.toFormattedString(t),a={},l=t.get("className",n,e),c=t.get("target",n,e),d=t.get("rel",n,e),u=t.getObj("attributes",n,e),f=t.getObj("events",n,e);return a.href=o,l&&(a.class=l),c&&(a.target=c),d&&(a.rel=d),u&&ys(a,u),{tagName:r,attributes:a,content:s,eventListeners:f}}};function Gu(t,e){class n extends n3{constructor(r,s){super(r,s),this.t=t}}for(const o in e)n.prototype[o]=e[o];return n.t=t,n}const o3=Gu("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),r3=Gu("text"),RZ=Gu("nl"),qu=Gu("url",{isLink:!0,toHref(t=hl.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==al&&t[1].t===lr}}),Qt=t=>new Ot(t);function PZ({groups:t}){const e=t.domain.concat([Bu,Ru,ar,Pu,Du,$u,Lu,Vu,Zt,f1,dl,Fu,zu,Hu,$n,ju,fl,Uu]),n=[lr,g1,Dn,y1,dl,ul,b1,w1,Su,Eu,ll,cl,Cu,wu,ku,xu,_u,Au,Tu,Mu,Ou,vu,Nu,Iu],o=[Bu,m1,Ru,Pu,Du,$u,Lu,Vu,Zt,ll,cl,dl,Fu,zu,Hu,ul,$n,ju,fl,Uu],r=Qt(),s=V(r,fl);le(s,o,s),le(s,t.domain,s);const a=Qt(),l=Qt(),c=Qt();le(r,t.domain,a),le(r,t.scheme,l),le(r,t.slashscheme,c),le(a,o,s),le(a,t.domain,a);const d=V(a,ar);V(s,ar,d),V(l,ar,d),V(c,ar,d);const u=V(s,Dn);le(u,o,s),le(u,t.domain,s);const f=Qt();le(d,t.domain,f),le(f,t.domain,f);const p=V(f,Dn);le(p,t.domain,f);const h=Qt(o3);le(p,t.tld,h),le(p,t.utld,h),V(d,al,h);const m=V(f,Zt);V(m,Zt,m),le(m,t.domain,f),le(h,t.domain,f),V(h,Dn,p),V(h,Zt,m);const g=V(h,lr);le(g,t.numeric,o3);const y=V(a,Zt),b=V(a,Dn);V(y,Zt,y),le(y,t.domain,a),le(b,o,s),le(b,t.domain,a);const C=Qt(qu);le(b,t.tld,C),le(b,t.utld,C),le(C,t.domain,a),le(C,o,s),V(C,Dn,b),V(C,Zt,y),V(C,ar,d);const k=V(C,lr),w=Qt(qu);le(k,t.numeric,w);const x=Qt(qu),S=Qt();le(x,e,x),le(x,n,S),le(S,e,x),le(S,n,S),V(C,$n,x),V(w,$n,x);const E=V(l,lr),T=V(c,lr),_=V(T,$n),A=V(_,$n);le(l,t.domain,a),V(l,Dn,b),V(l,Zt,y),le(c,t.domain,a),V(c,Dn,b),V(c,Zt,y),le(E,t.domain,x),V(E,$n,x),V(E,ul,x),le(A,t.domain,x),le(A,e,x),V(A,$n,x);const M=[[ll,cl],[wu,Cu],[ku,xu],[Su,Eu],[_u,Au],[Tu,Mu],[Ou,vu],[Nu,Iu]];for(let v=0;v<M.length;v++){const[L,z]=M[v],D=V(x,L);V(S,L,D),V(D,z,x);const B=Qt(qu);le(D,e,B);const O=Qt();le(D,n),le(B,e,B),le(B,n,O),le(O,e,B),le(O,n,O),V(B,z,x),V(O,z,x)}return V(r,al,C),V(r,h1,RZ),{start:r,tokens:X4}}function DZ(t,e,n){let o=n.length,r=0,s=[],a=[];for(;r<o;){let l=t,c=null,d=null,u=0,f=null,p=-1;for(;r<o&&!(c=l.go(n[r].t));)a.push(n[r++]);for(;r<o&&(d=c||l.go(n[r].t));)c=null,l=d,l.accepts()?(p=0,f=l):p>=0&&p++,r++,u++;if(p<0)r-=u,r<o&&(a.push(n[r]),r++);else{a.length>0&&(s.push(_1(r3,e,a)),a=[]),r-=p,u-=p;const h=f.t,m=n.slice(r-u,r);s.push(_1(h,e,m))}}return a.length>0&&s.push(_1(r3,e,a)),s}function _1(t,e,n){const o=n[0].s,r=n[n.length-1].e,s=e.slice(o,r);return new t(s,n)}const $Z=typeof console<"u"&&console&&console.warn||(()=>{}),LZ="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Pe={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function VZ(){return Ot.groups={},Pe.scanner=null,Pe.parser=null,Pe.tokenQueue=[],Pe.pluginQueue=[],Pe.customSchemes=[],Pe.initialized=!1,Pe}function i3(t,e=!1){if(Pe.initialized&&$Z(`linkifyjs: already initialized - will not register custom scheme "${t}" ${LZ}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Pe.customSchemes.push([t,e])}function FZ(){Pe.scanner=IZ(Pe.customSchemes);for(let t=0;t<Pe.tokenQueue.length;t++)Pe.tokenQueue[t][1]({scanner:Pe.scanner});Pe.parser=PZ(Pe.scanner.tokens);for(let t=0;t<Pe.pluginQueue.length;t++)Pe.pluginQueue[t][1]({scanner:Pe.scanner,parser:Pe.parser});return Pe.initialized=!0,Pe}function A1(t){return Pe.initialized||FZ(),DZ(Pe.parser.start,t,Q4(Pe.scanner.start,t))}A1.scan=Q4;function s3(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const o=new E1(n),r=A1(t),s=[];for(let a=0;a<r.length;a++){const l=r[a];l.isLink&&(!e||l.t===e)&&o.check(l)&&s.push(l.toFormattedObject(o))}return s}function zZ(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function HZ(t){return new he({key:new me("autolink"),appendTransaction:(e,n,o)=>{const r=e.some(d=>d.docChanged)&&!n.doc.eq(o.doc),s=e.some(d=>d.getMeta("preventAutolink"));if(!r||s)return;const{tr:a}=o,l=r8(n.doc,[...e]);if(d8(l).forEach(({newRange:d})=>{const u=s8(o.doc,d,h=>h.isTextblock);let f,p;if(u.length>1?(f=u[0],p=o.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ")):u.length&&o.doc.textBetween(d.from,d.to," "," ").endsWith(" ")&&(f=u[0],p=o.doc.textBetween(f.pos,d.to,void 0," ")),f&&p){const h=p.split(" ").filter(b=>b!=="");if(h.length<=0)return!1;const m=h[h.length-1],g=f.pos+p.lastIndexOf(m);if(!m)return!1;const y=A1(m).map(b=>b.toObject(t.defaultProtocol));if(!zZ(y))return!1;y.filter(b=>b.isLink).map(b=>({...b,from:g+b.start+1,to:g+b.end+1})).filter(b=>o.schema.marks.code?!o.doc.rangeHasMark(b.from,b.to,o.schema.marks.code):!0).filter(b=>t.validate(b.value)).filter(b=>t.shouldAutoLink(b.value)).forEach(b=>{kp(b.from,b.to,o.doc).some(C=>C.mark.type===t.type)||a.addMark(b.from,b.to,t.type.create({href:b.href}))})}}),!!a.steps.length)return a}})}function UZ(t){return new he({key:new me("handleClickLink"),props:{handleClick:(e,n,o)=>{var r,s;if(o.button!==0||!e.editable)return!1;let a=o.target;const l=[];for(;a.nodeName!=="DIV";)l.push(a),a=a.parentNode;if(!l.find(p=>p.nodeName==="A"))return!1;const c=Bb(e.state,t.type.name),d=o.target,u=(r=d==null?void 0:d.href)!==null&&r!==void 0?r:c.href,f=(s=d==null?void 0:d.target)!==null&&s!==void 0?s:c.target;return d&&u?(window.open(u,f),!0):!1}}})}function jZ(t){return new he({key:new me("handlePasteLink"),props:{handlePaste:(e,n,o)=>{const{state:r}=e,{selection:s}=r,{empty:a}=s;if(a)return!1;let l="";o.content.forEach(d=>{l+=d.textContent});const c=s3(l,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===l);return!l||!c?!1:t.editor.commands.setMark(t.type,{href:c.href})}}})}const WZ=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function Xr(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(o=>{const r=typeof o=="string"?o:o.scheme;r&&n.push(r)}),!t||t.replace(WZ,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const KZ=St.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){i3(t);return}i3(t.scheme,t.optionalSlashes)})},onDestroy(){VZ()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Xr(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Xr(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Xr(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",ge(this.options.HTMLAttributes,t),0]:["a",ge(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:o=>!!Xr(o,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:o=>!!Xr(o,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Io({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:o}=this.options,r=s3(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!Xr(a,n),protocols:n,defaultProtocol:o}));r.length&&r.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(HZ({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:o=>this.options.isAllowedUri(o,{defaultValidate:r=>!!Xr(r,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(UZ({type:this.type})),this.options.linkOnPaste&&t.push(jZ({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),GZ=i.defineComponent({__name:"LinkEditPopover",props:{editor:{},icon:{default:void 0},title:{default:void 0},tooltip:{default:void 0},disabled:{type:Boolean,default:!1},shortcutKeys:{default:void 0},isActive:{type:Function,default:void 0},action:{type:Function,default:void 0}},setup(t){const e=t;function n(o,r,s){e.action&&e.action({link:o,text:r,openInNewTab:s})}return(o,r)=>(i.openBlock(),i.createBlock(i.unref(Yo),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Xo),{disabled:o.disabled},{default:i.withCtx(()=>[i.createVNode(ee,{icon:o.icon,tooltip:o.tooltip,"is-active":o.isActive,disabled:o.disabled},null,8,["icon","tooltip","is-active","disabled"])]),_:1},8,["disabled"]),i.createVNode(i.unref(Jo),{"hide-when-detached":"","as-child":"",class:"w-full",align:"start",side:"bottom"},{default:i.withCtx(()=>[i.createVNode(rS,{editor:o.editor,onOnSetLink:n},null,8,["editor"])]),_:1})]),_:1}))}}),qZ=KZ.extend({inclusive:!1,parseHTML(){return[{tag:'a[href]:not([data-type="button"]):not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:t}){return["a",ge(this.options.HTMLAttributes,t,{class:"link"}),0]},addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),openOnClick:!0,button:({editor:e,t:n})=>({component:GZ,componentProps:{action:o=>{const{link:r,text:s,openInNewTab:a}=o;e.chain().extendMarkRange("link").insertContent({type:"text",text:s,marks:[{type:"link",attrs:{href:r,target:a?"_blank":""}}]}).setLink({href:r}).focus().run()},isActive:()=>e.isActive("link")||!1,disabled:!e.isEditable||!e.can().setLink({href:""}),icon:"Link",tooltip:n("editor.link.tooltip")}})}},addProseMirrorPlugins(){return[new he({props:{handleClick:(t,e)=>{const{schema:n,doc:o,tr:r}=t.state,s=Ql(o.resolve(e),n.marks.link);if(!s)return!1;const a=o.resolve(s.from),l=o.resolve(s.to),c=r.setSelection(new J(a,l));t.dispatch(c)}}})]}}),YZ=ve.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",ge(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:o,$to:r}=n,s=t();return o.parentOffset===0?s.insertContentAt({from:Math.max(o.pos-1,0),to:r.pos},{type:this.name}):Rb(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:a,dispatch:l})=>{var c;if(l){const{$to:d}=a.selection,u=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?a.setSelection(J.create(a.doc,d.pos+1)):d.nodeAfter.isBlock?a.setSelection(X.create(a.doc,d.pos)):a.setSelection(J.create(a.doc,d.pos));else{const f=(c=d.parent.type.contentMatch.defaultType)===null||c===void 0?void 0:c.create();f&&(a.insert(u,f),a.setSelection(J.create(a.doc,u+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Lb({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}).extend({renderHTML(){return["div",ge(this.options.HTMLAttributes,{"data-type":this.name}),["hr"]]},addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:ee,componentProps:{action:()=>e==null?void 0:e.chain().focus().setHorizontalRule().run(),disabled:!(e!=null&&e.isEditable)||!e.can().setHorizontalRule(),icon:"Minus",shortcutKeys:["mod","alt","S"],tooltip:n("editor.horizontalrule.tooltip")}})}},addKeyboardShortcuts(){return{"Mod-Alt-s":()=>this.editor.chain().setHorizontalRule().focus().run()}}});var Yu=200,Qe=function(){};Qe.prototype.append=function(e){return e.length?(e=Qe.from(e),!this.length&&e||e.length<Yu&&this.leafAppend(e)||this.length<Yu&&e.leafPrepend(this)||this.appendInner(e)):this},Qe.prototype.prepend=function(e){return e.length?Qe.from(e).append(this):this},Qe.prototype.appendInner=function(e){return new JZ(this,e)},Qe.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Qe.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))},Qe.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},Qe.prototype.forEach=function(e,n,o){n===void 0&&(n=0),o===void 0&&(o=this.length),n<=o?this.forEachInner(e,n,o,0):this.forEachInvertedInner(e,n,o,0)},Qe.prototype.map=function(e,n,o){n===void 0&&(n=0),o===void 0&&(o=this.length);var r=[];return this.forEach(function(s,a){return r.push(e(s,a))},n,o),r},Qe.from=function(e){return e instanceof Qe?e:e&&e.length?new a3(e):Qe.empty};var a3=function(t){function e(o){t.call(this),this.values=o}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,s){return r==0&&s==this.length?this:new e(this.values.slice(r,s))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,s,a,l){for(var c=s;c<a;c++)if(r(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,a,l){for(var c=s-1;c>=a;c--)if(r(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=Yu)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=Yu)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Qe);Qe.empty=new a3([]);var JZ=function(t){function e(n,o){t.call(this),this.left=n,this.right=o,this.length=n.length+o.length,this.depth=Math.max(n.depth,o.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(o){return o<this.left.length?this.left.get(o):this.right.get(o-this.left.length)},e.prototype.forEachInner=function(o,r,s,a){var l=this.left.length;if(r<l&&this.left.forEachInner(o,r,Math.min(s,l),a)===!1||s>l&&this.right.forEachInner(o,Math.max(r-l,0),Math.min(this.length,s)-l,a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(o,r,s,a){var l=this.left.length;if(r>l&&this.right.forEachInvertedInner(o,r-l,Math.max(s,l)-l,a+l)===!1||s<l&&this.left.forEachInvertedInner(o,Math.min(r,l),s,a)===!1)return!1},e.prototype.sliceInner=function(o,r){if(o==0&&r==this.length)return this;var s=this.left.length;return r<=s?this.left.slice(o,r):o>=s?this.right.slice(o-s,r-s):this.left.slice(o,s).append(this.right.slice(0,r-s))},e.prototype.leafAppend=function(o){var r=this.right.leafAppend(o);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(o){var r=this.left.leafPrepend(o);if(r)return new e(r,this.right)},e.prototype.appendInner=function(o){return this.left.depth>=Math.max(this.right.depth,o.depth)+1?new e(this.left,new e(this.right,o)):new e(this,o)},e}(Qe);const XZ=500;class yn{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let o=this.items.length;for(;;o--)if(this.items.get(o-1).selection){--o;break}let r,s;n&&(r=this.remapping(o,this.items.length),s=r.maps.length);let a=e.tr,l,c,d=[],u=[];return this.items.forEach((f,p)=>{if(!f.step){r||(r=this.remapping(o,p+1),s=r.maps.length),s--,u.push(f);return}if(r){u.push(new Ln(f.map));let h=f.step.map(r.slice(s)),m;h&&a.maybeStep(h).doc&&(m=a.mapping.maps[a.mapping.maps.length-1],d.push(new Ln(m,void 0,void 0,d.length+u.length))),s--,m&&r.appendMap(m,s)}else a.maybeStep(f.step);if(f.selection)return l=r?f.selection.map(r.slice(s)):f.selection,c=new yn(this.items.slice(0,o).append(u.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:a,selection:l}}addTransform(e,n,o,r){let s=[],a=this.eventCount,l=this.items,c=!r&&l.length?l.get(l.length-1):null;for(let u=0;u<e.steps.length;u++){let f=e.steps[u].invert(e.docs[u]),p=new Ln(e.mapping.maps[u],f,n),h;(h=c&&c.merge(p))&&(p=h,u?s.pop():l=l.slice(0,l.length-1)),s.push(p),n&&(a++,n=void 0),r||(c=p)}let d=a-o.depth;return d>QZ&&(l=ZZ(l,d),a-=d),new yn(l.append(s),a)}remapping(e,n){let o=new Os;return this.items.forEach((r,s)=>{let a=r.mirrorOffset!=null&&s-r.mirrorOffset>=e?o.maps.length-r.mirrorOffset:void 0;o.appendMap(r.map,a)},e,n),o}addMaps(e){return this.eventCount==0?this:new yn(this.items.append(e.map(n=>new Ln(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let o=[],r=Math.max(0,this.items.length-n),s=e.mapping,a=e.steps.length,l=this.eventCount;this.items.forEach(p=>{p.selection&&l--},r);let c=n;this.items.forEach(p=>{let h=s.getMirror(--c);if(h==null)return;a=Math.min(a,h);let m=s.maps[h];if(p.step){let g=e.steps[h].invert(e.docs[h]),y=p.selection&&p.selection.map(s.slice(c+1,h));y&&l++,o.push(new Ln(m,g,y))}else o.push(new Ln(m))},r);let d=[];for(let p=n;p<a;p++)d.push(new Ln(s.maps[p]));let u=this.items.slice(0,r).append(d).append(o),f=new yn(u,l);return f.emptyItemCount()>XZ&&(f=f.compress(this.items.length-o.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),o=n.maps.length,r=[],s=0;return this.items.forEach((a,l)=>{if(l>=e)r.push(a),a.selection&&s++;else if(a.step){let c=a.step.map(n.slice(o)),d=c&&c.getMap();if(o--,d&&n.appendMap(d,o),c){let u=a.selection&&a.selection.map(n.slice(o));u&&s++;let f=new Ln(d.invert(),c,u),p,h=r.length-1;(p=r.length&&r[h].merge(f))?r[h]=p:r.push(f)}}else a.map&&o--},this.items.length,0),new yn(Qe.from(r.reverse()),s)}}yn.empty=new yn(Qe.empty,0);function ZZ(t,e){let n;return t.forEach((o,r)=>{if(o.selection&&e--==0)return n=r,!1}),t.slice(n)}class Ln{constructor(e,n,o,r){this.map=e,this.step=n,this.selection=o,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ln(n.getMap().invert(),n,this.selection)}}}class dr{constructor(e,n,o,r,s){this.done=e,this.undone=n,this.prevRanges=o,this.prevTime=r,this.prevComposition=s}}const QZ=20;function eQ(t,e,n,o){let r=n.getMeta(Zr),s;if(r)return r.historyState;n.getMeta(oQ)&&(t=new dr(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(Zr))return a.getMeta(Zr).redo?new dr(t.done.addTransform(n,void 0,o,Ju(e)),t.undone,l3(n.mapping.maps),t.prevTime,t.prevComposition):new dr(t.done,t.undone.addTransform(n,void 0,o,Ju(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),c=t.prevTime==0||!a&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-o.newGroupDelay||!tQ(n,t.prevRanges)),d=a?T1(t.prevRanges,n.mapping):l3(n.mapping.maps);return new dr(t.done.addTransform(n,c?e.selection.getBookmark():void 0,o,Ju(e)),yn.empty,d,n.time,l??t.prevComposition)}else return(s=n.getMeta("rebased"))?new dr(t.done.rebased(n,s),t.undone.rebased(n,s),T1(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new dr(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),T1(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function tQ(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((o,r)=>{for(let s=0;s<e.length;s+=2)o<=e[s+1]&&r>=e[s]&&(n=!0)}),n}function l3(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((o,r,s,a)=>e.push(s,a));return e}function T1(t,e){if(!t)return null;let n=[];for(let o=0;o<t.length;o+=2){let r=e.map(t[o],1),s=e.map(t[o+1],-1);r<=s&&n.push(r,s)}return n}function nQ(t,e,n){let o=Ju(e),r=Zr.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,o);if(!s)return null;let a=s.selection.resolve(s.transform.doc),l=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),r,o),c=new dr(n?l:s.remaining,n?s.remaining:l,null,0,-1);return s.transform.setSelection(a).setMeta(Zr,{redo:n,historyState:c})}let M1=!1,c3=null;function Ju(t){let e=t.plugins;if(c3!=e){M1=!1,c3=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){M1=!0;break}}return M1}const Zr=new me("history"),oQ=new me("closeHistory");function rQ(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new he({key:Zr,state:{init(){return new dr(yn.empty,yn.empty,null,0,-1)},apply(e,n,o){return eQ(n,o,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let o=n.inputType,r=o=="historyUndo"?u3:o=="historyRedo"?f3:null;return r?(n.preventDefault(),r(e.state,e.dispatch)):!1}}}})}function d3(t,e){return(n,o)=>{let r=Zr.getState(n);if(!r||(t?r.undone:r.done).eventCount==0)return!1;if(o){let s=nQ(r,n,t);s&&o(e?s.scrollIntoView():s)}return!0}}const u3=d3(!1,!0),f3=d3(!0,!0),iQ=ae.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>u3(t,e),redo:()=>({state:t,dispatch:e})=>f3(t,e)}},addProseMirrorPlugins(){return[rQ(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}).extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),depth:10,button:({editor:e,t:n})=>["undo","redo"].map(r=>({component:ee,componentProps:{action:()=>{r==="undo"&&(e==null||e.chain().undo().focus().run()),r==="redo"&&(e==null||e.chain().redo().focus().run())},shortcutKeys:r==="undo"?["mod","Z"]:["shift","mod","Z"],disabled:!(e!=null&&e.isEditable)||!e.can()[r](),icon:r==="undo"?"Undo2":"Redo2",tooltip:n(`editor.${r}.tooltip`)}}))}}}),{isFullscreen:O1,toggleFullscreen:v1}=Pt(),sQ=ae.create({name:"fullscreen",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,extension:n,t:o})=>({component:ee,componentProps:{tooltip:O1.value?o("editor.fullscreen.tooltip.exit"):o("editor.fullscreen.tooltip.fullscreen"),action:()=>e==null?void 0:e.chain().setFullscreen().focus().run(),icon:O1.value?"Minimize":"Maximize",isActive:()=>O1.value}})}},addCommands(){return{setFullscreen:()=>()=>(v1(),!0)}},addKeyboardShortcuts(){return{F11:()=>(v1(),!0),"Mod-F11":()=>(v1(),!0)}}}),aQ=ae.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const o=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(o)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new he({key:new me("characterCount"),appendTransaction:(e,n,o)=>{if(t)return;const r=this.options.limit;if(r==null||r===0){t=!0;return}const s=this.storage.characters({node:o.doc});if(s>r){const a=s-r,l=0,c=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${r} characters. Content was automatically trimmed.`);const d=o.tr.deleteRange(l,c);return t=!0,d}t=!0},filterTransaction:(e,n)=>{const o=this.options.limit;if(!e.docChanged||o===0||o===null||o===void 0)return!0;const r=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=o||r>o&&s>o&&s<=r)return!0;if(r>o&&s>o&&s>r||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,c=s-o,d=l-c,u=l;return e.deleteRange(d,u),!(this.storage.characters({node:e.doc})>o)}})]}}),lQ=ve.create({name:"doc",topNode:!0,content:"block+"}).extend({content(){var e;return!!((e=this.editor)!=null&&e.options.extensions.find(n=>n.name==="columns"))?"(block|columns)+":"block+"}});function cQ(t={}){return new he({view(e){return new dQ(e,t)}})}class dQ{constructor(e,n){var o;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(o=n.width)!==null&&o!==void 0?o:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let s=a=>{this[r](a)};return e.dom.addEventListener(r,s),{name:r,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,o;if(n){let l=e.nodeBefore,c=e.nodeAfter;if(l||c){let d=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(d){let u=d.getBoundingClientRect(),f=l?u.bottom:u.top;l&&c&&(f=(f+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),o={left:u.left,right:u.right,top:f-this.width/2,bottom:f+this.width/2}}}}if(!o){let l=this.editorView.coordsAtPos(this.cursorPos);o={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,a;if(!r||r==document.body&&getComputedStyle(r).position=="static")s=-pageXOffset,a=-pageYOffset;else{let l=r.getBoundingClientRect();s=l.left-r.scrollLeft,a=l.top-r.scrollTop}this.element.style.left=o.left-s+"px",this.element.style.top=o.top-a+"px",this.element.style.width=o.right-o.left+"px",this.element.style.height=o.bottom-o.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),o=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=o&&o.type.spec.disableDropCursor,s=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=By(this.editorView.state.doc,a,this.editorView.dragging.slice);l!=null&&(a=l)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const uQ=ae.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[cQ(this.options)]}}),fQ=ae.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new he({key:new me("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:o}=this.editor,{anchor:r}=e,s=[];if(!n||!o)return ue.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((c,d)=>{if(c.isText)return;if(!(r>=d&&r<=d+c.nodeSize-1))return!1;a+=1});let l=0;return t.descendants((c,d)=>{if(c.isText||!(r>=d&&r<=d+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&a-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";s.push(Fe.node(d,d+c.nodeSize,{class:this.options.className}))}),ue.create(t,s)}}})]}});class He extends Z{constructor(e){super(e,e)}map(e,n){let o=e.resolve(n.map(this.head));return He.valid(o)?new He(o):Z.near(o)}content(){return U.empty}eq(e){return e instanceof He&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new He(e.resolve(n.pos))}getBookmark(){return new N1(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!pQ(e)||!hQ(e))return!1;let o=n.type.spec.allowGapCursor;if(o!=null)return o;let r=n.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,n,o=!1){e:for(;;){if(!o&&He.valid(e))return e;let r=e.pos,s=null;for(let a=e.depth;;a--){let l=e.node(a);if(n>0?e.indexAfter(a)<l.childCount:e.index(a)>0){s=l.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;r+=n;let c=e.doc.resolve(r);if(He.valid(c))return c}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!X.isSelectable(s)){e=e.doc.resolve(r+s.nodeSize*n),o=!1;continue e}break}s=a,r+=n;let l=e.doc.resolve(r);if(He.valid(l))return l}return null}}}He.prototype.visible=!1,He.findFrom=He.findGapCursorFrom,Z.jsonID("gapcursor",He);class N1{constructor(e){this.pos=e}map(e){return new N1(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return He.valid(n)?new He(n):Z.near(n)}}function pQ(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),o=t.node(e);if(n==0){if(o.type.spec.isolating)return!0;continue}for(let r=o.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function hQ(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),o=t.node(e);if(n==o.childCount){if(o.type.spec.isolating)return!0;continue}for(let r=o.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function mQ(){return new he({props:{decorations:wQ,createSelectionBetween(t,e,n){return e.pos==n.pos&&He.valid(n)?new He(n):null},handleClick:yQ,handleKeyDown:gQ,handleDOMEvents:{beforeinput:bQ}}})}const gQ=ap({ArrowLeft:Xu("horiz",-1),ArrowRight:Xu("horiz",1),ArrowUp:Xu("vert",-1),ArrowDown:Xu("vert",1)});function Xu(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(o,r,s){let a=o.selection,l=e>0?a.$to:a.$from,c=a.empty;if(a instanceof J){if(!s.endOfTextblock(n)||l.depth==0)return!1;c=!1,l=o.doc.resolve(e>0?l.after():l.before())}let d=He.findGapCursorFrom(l,e,c);return d?(r&&r(o.tr.setSelection(new He(d))),!0):!1}}function yQ(t,e,n){if(!t||!t.editable)return!1;let o=t.state.doc.resolve(e);if(!He.valid(o))return!1;let r=t.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&X.isSelectable(t.state.doc.nodeAt(r.inside))?!1:(t.dispatch(t.state.tr.setSelection(new He(o))),!0)}function bQ(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof He))return!1;let{$from:n}=t.state.selection,o=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!o)return!1;let r=P.empty;for(let a=o.length-1;a>=0;a--)r=P.from(o[a].createAndFill(null,r));let s=t.state.tr.replace(n.pos,n.pos,new U(r,0,0));return s.setSelection(J.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function wQ(t){if(!(t.selection instanceof He))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ue.create(t.doc,[Fe.widget(t.selection.head,e,{key:"gapcursor"})])}const CQ=ae.create({name:"gapCursor",addProseMirrorPlugins(){return[mQ()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=se(G(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),kQ=ve.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",ge(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:o})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:r,storedMarks:s}=n;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:l}=o.extensionManager,c=s||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:u})=>{if(u&&c&&a){const f=c.filter(p=>l.includes(p.type.name));d.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),xQ=ve.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",ge(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),SQ=ve.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),EQ=ae.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new he({key:new me("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:o}=e,r=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((a,l)=>{const c=o>=l&&o<=l+a.nodeSize,d=!a.isLeaf&&sc(a);if((c||!this.options.showOnlyCurrent)&&d){const u=[this.options.emptyNodeClass];s&&u.push(this.options.emptyEditorClass);const f=Fe.node(l,l+a.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:l,hasAnchor:c}):this.options.placeholder});r.push(f)}return this.options.includeChildren}),ue.create(t,r)}}})]}}),_Q=ve.create({name:"text",group:"inline"});function p3({types:t,node:e}){return Array.isArray(t)&&t.includes(e.type)||e.type===t}const AQ=ae.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:["paragraph"]}},addProseMirrorPlugins(){const t=new me(this.name),e=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>this.options.notAfter.includes(n.name));return[new he({key:t,appendTransaction:(n,o,r)=>{const{doc:s,tr:a,schema:l}=r,c=t.getState(r),d=s.content.size,u=l.nodes[this.options.node];if(c)return a.insert(d,u.create())},state:{init:(n,o)=>{const r=o.tr.doc.lastChild;return!p3({node:r,types:e})},apply:(n,o)=>{if(!n.docChanged)return o;const r=n.doc.lastChild;return!p3({node:r,types:e})}}})]}}),TQ=ae.create({name:"selection",addProseMirrorPlugins(){const{editor:t}=this;return[new he({key:new me("selection"),props:{decorations(e){return e.selection.empty||t.isFocused===!0?null:ue.create(e.doc,[Fe.inline(e.selection.from,e.selection.to,{class:"selection"})])}}})]}}),Zu=new me("highlight-paragraph"),MQ=ae.create({name:"highlight-paragraph",addCommands(){return{setHighlightParagraph:t=>({editor:e})=>(e.view.dispatch(e.view.state.tr.setMeta(Zu,t)),!1),clearHighlightParagraph:()=>({editor:t})=>(t.view.dispatch(t.view.state.tr.setMeta(Zu,null)),!1)}},addProseMirrorPlugins(){return[new he({key:Zu,state:{init(){return ue.empty},apply(t,e){const n=t.getMeta(Zu);if(n===void 0)return e.map(t.mapping,t.doc);if(n===null)return ue.empty;const o=t.doc.nodeAt(n);return o?ue.create(t.doc,[Fe.node(n,n+o.nodeSize,{class:"highlight-paragraph"})]):ue.empty}},props:{decorations(t){return this.getState(t)}}})]}}),OQ=t=>{const e=["size-small","size-medium","size-large"],n=["SizeS","SizeM","SizeL"];return e.map((o,r)=>({type:`video-${o}`,component:ee,componentProps:{tooltip:`editor.${o.replace("-",".")}.tooltip`,icon:n[r],action:()=>t.commands.updateVideo({width:gc[o]}),isActive:()=>t.isActive("video",{width:gc[o]})}}))},vQ=t=>[...OQ(t),{type:"remove",component:ee,componentProps:{tooltip:"editor.remove",icon:"Trash2",action:()=>{const{state:e,dispatch:n}=t.view;Us(e,n)}}}],NQ=(t,e,{editor:n,extension:o,t:r})=>{const{extensions:s=[]}=n.extensionManager,a={};for(const l of Object.keys(t)){const c=t[l];if(!c)continue;const d=[];for(const p of c){if(p==="divider"){const g=d[d.length-1];if((g==null?void 0:g.type)==="divider")continue;d.push({type:"divider",component:void 0,componentProps:{}});continue}const h=e.find(g=>g.type===p);if(h){d.push({...h,componentProps:{...h.componentProps,tooltip:h.componentProps.tooltip?r(h.componentProps.tooltip):void 0},componentSlots:h.componentSlots});continue}const m=s.find(g=>g.name===p);if(m){const{button:g}=m.options,y=g({editor:n,extension:m,t:r});d.push({type:p,component:y.component,componentProps:y.componentProps,componentSlots:y.componentSlots});continue}}const u=d[d.length-1],f=d[0];(u==null?void 0:u.type)==="divider"&&d.pop(),(f==null?void 0:f.type)==="divider"&&d.shift(),a[l]=d}return a},IQ={class:"flex items-center gap-2 px-2"},BQ=i.defineComponent({__name:"TextDropdown",props:{editor:{},disabled:{type:Boolean,default:!1},color:{default:void 0},maxHeight:{default:void 0},icon:{default:void 0},tooltip:{default:""}},setup(t){const e=t,{t:n}=Ee(),o=i.computed(()=>[{name:"paragraph",label:n.value("editor.paragraph.tooltip"),iconName:"Paragraph",isActive:()=>e.editor.isActive("paragraph")&&!e.editor.isActive("orderedList")&&!e.editor.isActive("bulletList")&&!e.editor.isActive("taskList"),action:()=>e.editor.chain().focus().clearNodes().focus().run()},{name:"heading1",label:n.value("editor.heading.h1.tooltip"),isActive:()=>e.editor.isActive("heading",{level:1}),iconName:"Heading1",action:()=>e.editor.chain().focus().clearNodes().toggleHeading({level:1}).focus().run()},{name:"heading2",label:n.value("editor.heading.h2.tooltip"),isActive:()=>e.editor.isActive("heading",{level:2}),iconName:"Heading2",action:()=>e.editor.chain().focus().clearNodes().toggleHeading({level:2}).focus().run()},{name:"heading3",label:n.value("editor.heading.h3.tooltip"),isActive:()=>e.editor.isActive("heading",{level:3}),iconName:"Heading3",action:()=>e.editor.chain().focus().clearNodes().toggleHeading({level:3}).focus().run()},{name:"bulletList",label:n.value("editor.bulletlist.tooltip"),isActive:()=>e.editor.isActive("bulletList"),iconName:"List",action:()=>e.editor.chain().focus().clearNodes().toggleBulletList().focus().run()},{name:"numberedList",label:n.value("editor.orderedlist.tooltip"),isActive:()=>e.editor.isActive("orderedList"),iconName:"ListOrdered",action:()=>e.editor.chain().focus().clearNodes().toggleOrderedList().focus().run()},{name:"taskList",label:n.value("editor.tasklist.tooltip"),isActive:()=>e.editor.isActive("taskList"),iconName:"ListTodo",action:()=>e.editor.chain().focus().clearNodes().toggleTaskList().focus().run()},{name:"blockquote",label:n.value("editor.blockquote.tooltip"),isActive:()=>e.editor.isActive("blockquote"),iconName:"TextQuote",action:()=>e.editor.chain().focus().clearNodes().toggleBlockquote().focus().run()},{name:"codeBlock",label:n.value("editor.codeblock.tooltip"),isActive:()=>e.editor.isActive("codeBlock"),iconName:"Code2",action:()=>e.editor.chain().focus().clearNodes().setCodeBlock().focus().run()}]),r=i.computed(()=>o.value.filter(s=>s.isActive()).pop()??{label:n.value("editor.modify")});return(s,a)=>{var l;return i.openBlock(),i.createBlock(Yr,{title:(l=r.value)==null?void 0:l.label,sideOffset:5},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(o.value,(c,d)=>{var u;return i.openBlock(),i.createBlock(i.unref(ss),{key:d,onClick:c.action,class:"cursor-pointer",modelValue:((u=c.isActive)==null?void 0:u.call(c))||!1},{default:i.withCtx(()=>[i.createElementVNode("div",IQ,[i.createVNode(i.unref(oe),{name:c.iconName,class:"h3 w-3"},null,8,["name"]),i.createElementVNode("span",null,i.toDisplayString(c.label),1)])]),_:2},1032,["onClick","modelValue"])}),128))]),_:1},8,["title"])}}}),RQ=ae.create({name:"text-bubble",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),toolbar:!1,button:()=>({component:BQ,componentProps:{}})}}}),PQ=ae.create({name:"base-kit",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),bubble:{list:k5,defaultBubbleList:vQ,button:({editor:e,extension:n,t:o})=>{var l;const{list:r={},defaultBubbleList:s}=((l=n.options)==null?void 0:l.bubble)??{},a=(s==null?void 0:s(e))??[];return NQ(r,a,{editor:e,extension:n,t:o})}}}},addExtensions(){const{t}=Ee(),e=[];return this.options.placeholder!==!1&&e.push(EQ.configure({placeholder:({node:n,pos:o,editor:r})=>{var l;const s=(l=n==null?void 0:n.type)==null?void 0:l.name;if(s==="heading")return`${t.value(`editor.heading.h${n.attrs.level}.tooltip`)}`;if(s==="table"||s==="codeBlock"||s==="bulletList"||s==="orderedList")return"";const a=r.extensionManager.extensions.some(c=>c.name==="slashCommand");return o===0||!a?t.value("editor.content"):t.value("editor.slash")},...this.options.placeholder})),this.options.focus!==!1&&e.push(fQ.configure({className:"focus",...this.options.focus})),this.options.document!==!1&&e.push(lQ.configure()),this.options.text!==!1&&e.push(_Q.configure()),this.options.textBubble!==!1&&e.push(RQ.configure()),this.options.gapcursor!==!1&&e.push(CQ.configure()),this.options.dropcursor!==!1&&e.push(uQ.configure({...this.options.dropcursor,width:2,class:"ProseMirror-dropcursor border-black"})),this.options.characterCount!==!1&&e.push(aQ.configure(this.options.characterCount)),this.options.paragraph!==!1&&e.push(SQ.configure(this.options.paragraph)),this.options.hardBreak!==!1&&e.push(kQ.configure(this.options.hardBreak)),this.options.listItem!==!1&&e.push(xQ.configure(this.options.listItem)),this.options.textStyle!==!1&&e.push(JX.configure(this.options.textStyle)),this.options.trailingNode!==!1&&e.push(AQ.configure(this.options.trailingNode)),this.options.selection!==!1&&e.push(TQ),this.options.highlightParagraph!==!1&&e.push(MQ),e}}),h3=St.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(t){return t!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:t}){return["sub",ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setSubscript:()=>({commands:t})=>t.setMark(this.name),toggleSubscript:()=>({commands:t})=>t.toggleMark(this.name),unsetSubscript:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),m3=St.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(t){return t!=="super"?!1:null}}]},renderHTML({HTMLAttributes:t}){return["sup",ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setSuperscript:()=>({commands:t})=>t.setMark(this.name),toggleSuperscript:()=>({commands:t})=>t.toggleMark(this.name),unsetSuperscript:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),DQ=ae.create({name:"subAndSuperScript",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,extension:n,t:o})=>{const r=n.options.subscript,s=n.options.superscript,a={component:ee,componentProps:{action:()=>e.chain().toggleSubscript().focus().run(),isActive:()=>e.isActive("subscript")||!1,disabled:!e.isEditable||!e.can().toggleSubscript(),icon:"Subscript",tooltip:o("editor.subscript.tooltip")}},l={component:ee,componentProps:{action:()=>e.chain().toggleSuperscript().focus().run(),isActive:()=>e.isActive("superscript")||!1,disabled:!e.isEditable||!e.can().toggleSuperscript(),icon:"Superscript",tooltip:o("editor.superscript.tooltip")}},c=[];return r!==!1&&c.push(a),s!==!1&&c.push(l),c}}},addExtensions(){const t=[];return this.options.subscript!==!1&&t.push(h3.configure(this.options.subscript)),this.options.superscript!==!1&&t.push(m3.configure(this.options.superscript)),t}}),$Q={class:"ml-1"},LQ=i.defineComponent({__name:"ActionMoreButton",props:{editor:{},disabled:{type:Boolean,default:!1},color:{default:void 0},maxHeight:{default:void 0},icon:{default:void 0},tooltip:{default:""},items:{default:()=>[]}},setup(t){const e=t,n=i.computed(()=>{const o=e.items.find(s=>s.isActive());return o&&!o.default?{...o,icon:o.icon?o.icon:e.icon}:{title:e.tooltip,icon:e.icon,isActive:()=>!1}});return(o,r)=>(i.openBlock(),i.createBlock(Yr,{icon:o.icon,tooltip:o.tooltip,disabled:o.disabled},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.items,(s,a)=>(i.openBlock(),i.createBlock(i.unref(ss),{"model-value":n.value.title===s.title,onClick:s.action,key:a,disabled:s.disabled,class:"flex gap-3 items-center"},{default:i.withCtx(()=>[s.icon?(i.openBlock(),i.createBlock(i.unref(oe),{key:0,name:s.icon},null,8,["name"])):i.createCommentVNode("",!0),i.createElementVNode("span",$Q,i.toDisplayString(s.title),1),s.shortcutKeys?(i.openBlock(),i.createBlock(i.unref(AE),{key:1,class:"ml-auto"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(oo)(s.shortcutKeys)),1)]),_:2},1024)):i.createCommentVNode("",!0)]),_:2},1032,["model-value","onClick","disabled"]))),128))]),_:1},8,["icon","tooltip","disabled"]))}}),VQ=ae.create({name:"moreMark",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button({editor:e,extension:n,t:o}){const r=n.options.subscript,s=n.options.superscript,a={action:()=>e.chain().toggleSubscript().focus().run(),isActive:()=>e.isActive("subscript")||!1,disabled:!e.isEditable||!e.can().toggleSubscript(),icon:"Subscript",title:o("editor.subscript.tooltip"),shortcutKeys:["mod","."]},l={action:()=>e.chain().toggleSuperscript().focus().run(),isActive:()=>e.isActive("superscript")||!1,disabled:!e.isEditable||!e.can().toggleSuperscript(),icon:"Superscript",title:o("editor.superscript.tooltip"),shortcutKeys:["mod",","]},c=we(e,"code"),d=[];if(r!==!1&&d.push(a),s!==!1&&d.push(l),c){const u={action:()=>e.chain().toggleCode().focus().run(),isActive:()=>e.isActive("code")||!1,disabled:!e.isEditable||!e.can().toggleCode(),icon:"Code",title:o("editor.code.tooltip"),shortcutKeys:["mod","E"]};c&&d.push(u)}return{component:LQ,componentProps:{icon:"Type",tooltip:o("editor.moremark"),disabled:!e.isEditable||d.every(u=>u.disabled),items:d}}}}},addExtensions(){const t=[];return this.options.subscript!==!1&&t.push(h3.configure(this.options.subscript)),this.options.superscript!==!1&&t.push(m3.configure(this.options.superscript)),t}}),FQ=ae.create({name:"indent",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),types:["paragraph","heading","blockquote"],minIndent:co.min,maxIndent:co.max,button({editor:e,t:n}){var s,a;const{selection:o}=e.state,r=o.$anchor.parent;return[{component:ee,componentProps:{action:()=>{e.chain().indent().focus().run()},disabled:!(e!=null&&e.isEditable)||((s=r==null?void 0:r.attrs)==null?void 0:s.indent)>=co.max||!e.can().indent(),shortcutKeys:["Tab"],icon:"IndentIncrease",tooltip:n("editor.indent.tooltip")}},{component:ee,componentProps:{action:()=>{e.chain().outdent().focus().run()},shortcutKeys:["Shift","Tab"],disabled:!(e!=null&&e.isEditable)||((a=r==null?void 0:r.attrs)==null?void 0:a.indent)<=co.min||!e.can().outdent(),icon:"IndentDecrease",tooltip:n("editor.outdent.tooltip")}}]}}},addGlobalAttributes(){return[{types:this.options.types,attributes:{indent:{default:0,parseHTML:t=>{const e=t.getAttribute("data-indent");return(e?parseInt(e,10):0)||0},renderHTML:t=>t.indent?{"data-indent":t.indent}:{}}}}]},addCommands(){return{indent:()=>EE({delta:co.more,types:this.options.types}),outdent:()=>EE({delta:co.less,types:this.options.types})}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.indent(),"Shift-Tab":()=>this.editor.commands.outdent()}}}),zQ=["paragraph","heading","list_item","todo_item"];function HQ(t,e){const{selection:n,doc:o}=t;if(!n||!o||!(n instanceof J||n instanceof pt))return t;const{from:r,to:s}=n,a=[],l=e&&e!==Pw?e:null;return o.nodesBetween(r,s,(c,d)=>{const u=c.type;return zQ.includes(u.name)?((c.attrs.lineHeight||null)!==l&&a.push({node:c,pos:d,nodeType:u}),u.name!=="list_item"&&u.name!=="todo_item"):!0}),a.length&&a.forEach(c=>{const{node:d,pos:u,nodeType:f}=c;let{attrs:p}=d;p={...p,lineHeight:l},t=t.setNodeMarkup(u,f,p,d.marks)}),t}function UQ(t){return({state:e,dispatch:n})=>{const{selection:o}=e;let{tr:r}=e;return r=r.setSelection(o),r=HQ(r,t),r.docChanged?(n&&n(r),!0):!1}}const jQ=i.defineComponent({__name:"LineHeightDropdown",props:{editor:{},icon:{default:void 0},tooltip:{default:void 0},disabled:{type:Boolean,default:!1},action:{type:Function,default:void 0},isActive:{type:Function,default:void 0}},setup(t){const{t:e}=Ee();function n(l){return parseFloat(l.replace("%",""))/100}const o=i.computed(()=>{const d=s.editor.extensionManager.extensions.find(u=>u.name==="lineHeight").options.lineHeights.map(u=>({label:n(u),value:u}));return d.unshift({label:i.unref(e)("editor.default"),value:"default"}),d}),r=i.ref("default"),s=t;function a(l){l==="default"?s.editor.chain().unsetLineHeight().focus().run():s.editor.chain().setLineHeight(l).focus().run(),r.value=l}return(l,c)=>(i.openBlock(),i.createBlock(Yr,{icon:l.icon,tooltip:l.tooltip,disabled:l.disabled},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(o.value,(d,u)=>(i.openBlock(),i.createBlock(i.unref(ss),{key:u,modelValue:d.value===r.value,onSelect:f=>a(d.value)},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(d.label),1)]),_:2},1032,["modelValue","onSelect"]))),128))]),_:1},8,["icon","tooltip","disabled"]))}}),WQ=ae.create({name:"lineHeight",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),types:["paragraph","heading","list_item","todo_item"],lineHeights:["100%","115%","150%","200%","250%","300%"],defaultHeight:Pw,button({editor:e,t:n}){return{component:jQ,componentProps:{editor:e,disabled:!e.isEditable||!e.can().setLineHeight("400%"),icon:"LineHeight",tooltip:n("editor.lineheight.tooltip")}}}}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight||this.options.defaultHeight,renderHTML:t=>t.lineHeight===this.options.defaultHeight||!t.lineHeight?{}:{style:`line-height: ${t.lineHeight}`}}}}]},addCommands(){return{setLineHeight:t=>UQ(t),unsetLineHeight:()=>({commands:t})=>this.options.types.every(e=>t.resetAttributes(e,"lineHeight"))}}});function KQ(t){var e;const{char:n,allowSpaces:o,allowToIncludeChar:r,allowedPrefixes:s,startOfLine:a,$position:l}=t,c=o&&!r,d=I8(n),u=new RegExp(`\\s${d}$`),f=a?"^":"",p=r?"":d,h=c?new RegExp(`${f}${d}.*?(?=\\s${p}|$)`,"gm"):new RegExp(`${f}(?:^)?${d}[^\\s${p}]*`,"gm"),m=((e=l.nodeBefore)===null||e===void 0?void 0:e.isText)&&l.nodeBefore.text;if(!m)return null;const g=l.pos-m.length,y=Array.from(m.matchAll(h)).pop();if(!y||y.input===void 0||y.index===void 0)return null;const b=y.input.slice(Math.max(0,y.index-1),y.index),C=new RegExp(`^[${s==null?void 0:s.join("")}\0]?$`).test(b);if(s!==null&&!C)return null;const k=g+y.index;let w=k+y[0].length;return c&&u.test(m.slice(w-1,w+1))&&(y[0]+=" ",w+=1),k<l.pos&&w>=l.pos?{range:{from:k,to:w},query:y[0].slice(n.length),text:y[0]}:null}const GQ=new me("suggestion");function qQ({pluginKey:t=GQ,editor:e,char:n="@",allowSpaces:o=!1,allowToIncludeChar:r=!1,allowedPrefixes:s=[" "],startOfLine:a=!1,decorationTag:l="span",decorationClass:c="suggestion",command:d=()=>null,items:u=()=>[],render:f=()=>({}),allow:p=()=>!0,findSuggestionMatch:h=KQ}){let m;const g=f==null?void 0:f(),y=new he({key:t,view(){return{update:async(b,C)=>{var k,w,x,S,E,T,_;const A=(k=this.key)===null||k===void 0?void 0:k.getState(C),M=(w=this.key)===null||w===void 0?void 0:w.getState(b.state),v=A.active&&M.active&&A.range.from!==M.range.from,L=!A.active&&M.active,z=A.active&&!M.active,D=!L&&!z&&A.query!==M.query,B=L||v&&D,O=D||v,$=z||v&&D;if(!B&&!O&&!$)return;const N=$&&!B?A:M,I=b.dom.querySelector(`[data-decoration-id="${N.decorationId}"]`);m={editor:e,range:N.range,query:N.query,text:N.text,items:[],command:F=>d({editor:e,range:N.range,props:F}),decorationNode:I,clientRect:I?()=>{var F;const{decorationId:j}=(F=this.key)===null||F===void 0?void 0:F.getState(e.state),te=b.dom.querySelector(`[data-decoration-id="${j}"]`);return(te==null?void 0:te.getBoundingClientRect())||null}:null},B&&((x=g==null?void 0:g.onBeforeStart)===null||x===void 0||x.call(g,m)),O&&((S=g==null?void 0:g.onBeforeUpdate)===null||S===void 0||S.call(g,m)),(O||B)&&(m.items=await u({editor:e,query:N.query})),$&&((E=g==null?void 0:g.onExit)===null||E===void 0||E.call(g,m)),O&&((T=g==null?void 0:g.onUpdate)===null||T===void 0||T.call(g,m)),B&&((_=g==null?void 0:g.onStart)===null||_===void 0||_.call(g,m))},destroy:()=>{var b;m&&((b=g==null?void 0:g.onExit)===null||b===void 0||b.call(g,m))}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(b,C,k,w){const{isEditable:x}=e,{composing:S}=e.view,{selection:E}=b,{empty:T,from:_}=E,A={...C};if(A.composing=S,x&&(T||e.view.composing)){(_<C.range.from||_>C.range.to)&&!S&&!C.composing&&(A.active=!1);const M=h({char:n,allowSpaces:o,allowToIncludeChar:r,allowedPrefixes:s,startOfLine:a,$position:E.$from}),v=`id_${Math.floor(Math.random()*4294967295)}`;M&&p({editor:e,state:w,range:M.range,isActive:C.active})?(A.active=!0,A.decorationId=C.decorationId?C.decorationId:v,A.range=M.range,A.query=M.query,A.text=M.text):A.active=!1}else A.active=!1;return A.active||(A.decorationId=null,A.range={from:0,to:0},A.query=null,A.text=null),A}},props:{handleKeyDown(b,C){var k;const{active:w,range:x}=y.getState(b.state);return w&&((k=g==null?void 0:g.onKeyDown)===null||k===void 0?void 0:k.call(g,{view:b,event:C,range:x}))||!1},decorations(b){const{active:C,range:k,decorationId:w}=y.getState(b);return C?ue.create(b.doc,[Fe.inline(k.from,k.to,{nodeName:l,class:c,"data-decoration-id":w})]):null}}});return y}const YQ=[{label:"",value:"youku",icon:"Youku"},{label:"",value:"bilibili",icon:"BiliBili"},{label:"",value:"qqvideo",icon:"QQVideo"}],JQ=[{label:"",value:"amap",icon:"Gaode"},{label:"",value:"baidu_map",icon:"Baidu"}],XQ=[{label:"",value:"modao",icon:"Modao"},{label:"",value:"lanhu",icon:"Lanhu"},{label:"Figma",value:"figma",icon:"Figma"},{label:"Canva",value:"canva",icon:"Canva"},{label:"ProcessOn",value:"processon",icon:"Processon"}],ZQ=[{label:"CodePen",value:"codepen",icon:"Codepen"}],QQ=[{label:"",value:"jinshuju",icon:"Jinshuju"}],eee=[],tee=[...YQ,...JQ,...XQ,...ZQ,...QQ,...eee],ur={youtube:{example:"https://www.youtube.com/watch?v=I4sMhHbHYXM",src:"https://www.youtube.com/embed/I4sMhHbHYXM",srcPrefix:"https://www.youtube.com/embed",linkRule:["www.youtube.com\\/watch\\?v=\\w+"]},youku:{example:"https://v.youku.com/v_show/id_XNDM0NDM4MTcy.html?spm=a2h0c.8166622.PhoneSokuUgc_4.dtitle",src:"https://player.youku.com/embed/XNDM0NDM4MTcy",srcPrefix:"https://player.youku.com/embed",linkRule:["v.youku.com\\/v_show\\/id_\\w+\\=*"],idRule:"id_\\w+\\=*"},bilibili:{example:"https://www.bilibili.com/video/BV1EJ411u7DN",src:"https://player.bilibili.com/player.html?bvid=BV1EJ411u7DN",srcPrefix:"https://player.bilibili.com/player.html?bvid",linkRule:["www.bilibili.com\\/video\\/\\w+"]},qqvideo:{example:"https://v.qq.com/x/cover/mzc0020006aw1mn/u0033nvzb5v.html",src:"https://v.qq.com/txp/iframe/player.html?vid=u0033nvzb5v",srcPrefix:"https://v.qq.com/txp/iframe/player.html?vid",linkRule:["v.qq.com\\/x\\/cover\\/\\w+\\/\\w+"]},amap:{example:"https://ditu.amap.com/",src:"https://www.amap.com/place/B000A45467",srcPrefix:"",linkRule:["\\.amap\\.com"]},baidu_map:{example:"https://j.map.baidu.com/15/fo",src:"https://j.map.baidu.com/15/fo",srcPrefix:"",linkRule:["map\\.baidu\\.com"]},modao:{example:"https://free.modao.cc/app/2cd26580a6717a147454df7470e7ec464093cba3/embed/v2#screen=sk71k6d1dfxulzx",src:"https://free.modao.cc/app/6UkpAxcGE3nPz52GLqhnOZgC7MATBSy/embed/v2",srcPrefix:"",linkRule:["https:\\/\\/\\w+.modao.cc\\/app\\/\\w+\\/embed\\/v2"],tips:"Modao > More > Share > Embed > COPY"},lanhu:{example:"https://lanhuapp.com/web/#/item/project/stage?pid=uuid",src:"https://lanhuapp.com/web/#/item/project/stage?pid=uuid",srcPrefix:"",linkRule:["lanhuapp\\.com\\/web\\/#\\/item\\/project\\/stage\\?pid=[\\w-]+"],tips:"Lanhu > Project > Share > Copy Link"},figma:{example:"https://www.figma.com/file/aS9uSgPXoNpaPkzbjNcK8v/Demo?node-id=0%3A1",src:"https://www.figma.com/file/aS9uSgPXoNpaPkzbjNcK8v/Demo?node-id=0%3A1",srcPrefix:"https://www.figma.com/embed?embed_host=share&url",linkRule:["https:\\/\\/www.figma.com\\/file\\/\\w+"]},canva:{example:"https://www.canva.cn/design/DAD61-t29UI/view",src:"https://www.canva.cn/design/DAD61-t29UI/view",srcPrefix:"",linkRule:["https:\\/\\/www.canva.cn\\/design\\/.+\\/view"]},processon:{example:"https://www.processon.com/embed/5ea99d8607912948b0e6fe78",src:"https://www.processon.com/embed/5ea99d8607912948b0e6fe78",srcPrefix:"",linkRule:["https:\\/\\/www.processon.com\\/embed\\/\\w+"]},codepen:{example:"https://codepen.io/mekery/embed/YzyrKOJ",src:"https://codepen.io/mekery/embed/YzyrKOJ",srcPrefix:"",linkRule:["https:\\/\\/codepen.io\\/.+\\/embed\\/\\w+"]},jinshuju:{example:"https://jinshuju.net/f/q9YvVf",src:"https://jinshuju.net/f/q9YvVf",srcPrefix:"",linkRule:["https:\\/\\/jinshuju.net\\/f\\/\\w+"]},iframe:{example:"https://v.youku.com/v_show/id_XNDM0NDM4MTcy.html",src:"https://player.youku.com/embed/XNDM0NDM4MTcy",srcPrefix:"",linkRule:[".+"]}},nee=new Map([["youtube",ree],["youku",iee],["bilibili",see],["qqvideo",aee],["amap",lee],["baidu_map",cee],["modao",dee],["lanhu",uee],["figma",fee],["canva",pee],["processon",hee],["codepen",mee],["jinshuju",gee],["iframe",y3]]),g3=new Map;function oee(t,e,n){const r=ur[t].linkRule;for(const s of r){let a=g3.get(s);a||(a=new RegExp(s),g3.set(s,a));const l=e.match(a);if(l!=null&&l[0])return n.validLink=!0,n.matchedUrl=l[0],n}return n}function ree(t,e){let n=ur.youtube,o=e.matchedUrl;e.validLink=!0;let r=o.split("="),s=r.length;if(s>0){let a=r[s-1];e.src=`${n.srcPrefix}/${a}`,e.validId=!0}return e}function iee(t,e){let n=ur.youku,o=e.matchedUrl,r=n.idRule,s=new RegExp(r),a=o.match(s);if(a&&a.length>0){let l=a[0].substr(3);e.validId=!0,e.src=`${n.srcPrefix}/${l}`}else e.validId=!1;return e}function see(t,e){let n=ur.bilibili,r=e.matchedUrl.split("/"),s=r.length;if(s>0){let a=r[s-1];e.src=`${n.srcPrefix}=${a}`,e.validId=!0}return e}function aee(t,e){let n=ur.qqvideo,r=e.matchedUrl.split("/"),s=r.length;if(s>0){let a=r[s-1];e.src=`${n.srcPrefix}=${a}`,e.validId=!0}return e}function lee(t,e){return e.src=t,e.validId=!0,e}function cee(t,e){return e.src=t,e.validId=!0,e}function dee(t,e){return e.src=e.matchedUrl,e.validId=!0,e.originalLink=e.src,e}function uee(t,e){const n=t.match(/pid=([\w-]+)/);return n&&n[1]?(e.src=`https://lanhuapp.com/web/#/item/project/stage?pid=${n[1]}&type=share_embed`,e.validId=!0):(e.src=t,e.validId=!0),e.originalLink=t,e}function fee(t,e){let n=ur.figma;return e.src=`${n.srcPrefix}=${encodeURIComponent(e.matchedUrl)}`,e.validId=!0,e.originalLink=e.matchedUrl,e}function pee(t,e){return e.src=`${e.matchedUrl}?embed`,e.validId=!0,e.originalLink=t,e}function hee(t,e){return e.src=`${e.matchedUrl}`,e.validId=!0,e.originalLink=t,e}function mee(t,e){return e.src=`${e.matchedUrl}`,e.validId=!0,e.originalLink=e.src,e}function gee(t,e){return e.src=`${e.matchedUrl}?background=white&banner=show&embedded=true`,e.validId=!0,e.originalLink=t,e}function y3(t,e){return e.src=`${e.matchedUrl}`,e.validId=!0,e.originalLink=t,e}function yee(t){let e="",n=ur[t];return n&&(e=n.example),e}const b3=(t,e)=>{if(!t||!e)return{validLink:!1,validId:!1,matchedUrl:"",originalLink:e||"",src:""};if(!ur[t])return console.warn(`Unknown embed service: ${t}`),{validLink:!1,validId:!1,matchedUrl:"",originalLink:e,src:""};let n={validLink:!1,validId:!1,matchedUrl:"",originalLink:e,src:""};return n=oee(t,e,n),n.validLink?(nee.get(t)||y3)(e,n):n};function bee(t){const{t:e}=Ee(),n=[{name:"format",title:e.value("editor.slash.format"),commands:[{name:"paragraph",label:e.value("editor.paragraph.tooltip"),aliases:["paragraph","zw"],iconName:"Paragraph",shouldBeHidden:r=>!we(r,"heading"),action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).setHeading({level:1}).run()}},{name:"heading1",label:e.value("editor.heading.h1.tooltip"),aliases:["h1","bt","bt1"],iconName:"Heading1",shouldBeHidden:r=>!we(r,"heading"),action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).setHeading({level:1}).run()}},{name:"heading2",label:e.value("editor.heading.h2.tooltip"),aliases:["h2","bt","bt2"],iconName:"Heading2",shouldBeHidden:r=>!we(r,"heading"),action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).setNode("heading",{level:2}).run()}},{name:"heading3",label:e.value("editor.heading.h3.tooltip"),aliases:["h3","bt","bt3","heading3"],iconName:"Heading3",shouldBeHidden:r=>!we(r,"heading"),action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).setNode("heading",{level:3}).run()}},{name:"bulletList",label:e.value("editor.bulletlist.tooltip"),aliases:["ul","yxlb","bulletList"],iconName:"List",shouldBeHidden:r=>!we(r,"bulletList"),action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).toggleBulletList().run()}},{name:"numberedList",label:e.value("editor.orderedlist.tooltip"),aliases:["ol","yxlb"],iconName:"ListOrdered",shouldBeHidden:r=>!we(r,"orderedList"),action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).toggleOrderedList().run()}},{name:"codeBlock",label:e.value("editor.codeblock.tooltip"),iconName:"Code2",aliases:["codeBlock"],description:"Code block with syntax highlighting",shouldBeHidden:r=>!we(r,"codeBlock")||r.isActive("columns"),action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).setCodeBlock().run()}},{name:"blockquote",label:e.value("editor.blockquote.tooltip"),description:"",aliases:["yr"],iconName:"TextQuote",shouldBeHidden:r=>!we(r,"blockquote"),action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).setBlockquote().run()}},{name:"horizontalrule",label:e.value("editor.horizontalrule.tooltip"),aliases:["fgx","horizontalRule"],iconName:"Minus",shouldBeHidden:r=>!we(r,"horizontalRule"),action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).setHorizontalRule().run()}},{name:"link",label:e.value("editor.link.tooltip"),aliases:["link","lianjie","lj"],iconName:"Link",shouldBeHidden:r=>!we(r,"link"),action:({editor:r,range:s})=>{r.chain().deleteRange(s).extendMarkRange("link").insertContent({type:"text",text:"link",marks:[{type:"link",attrs:{href:"",target:"_blank"}}]}).setLink({href:""}).focus().run()}}]},{name:"insert",title:e.value("editor.slash.insert"),commands:[{name:"image",label:e.value("editor.image.tooltip"),iconName:"ImageUp",description:"Insert a image",aliases:["image","tp","tupian"],shouldBeHidden:r=>!we(r,"image")||r.isActive("columns"),action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).setImageUpload().run()}},{name:"table",label:e.value("editor.table.tooltip"),iconName:"Table",description:"Insert a table",aliases:["table","bg","biaoge","biao"],shouldBeHidden:r=>!we(r,"table")||r.isActive("columns"),action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).insertTable({rows:3,cols:3,withHeaderRow:!1}).run()}},{name:"video",label:e.value("editor.video.tooltip"),iconName:"Video",description:"Insert a video",aliases:["video","sp","shipin"],shouldBeHidden:r=>!we(r,"video")||r.isActive("columns"),action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).setVideoUpload().run()}},{name:"taskList",label:e.value("editor.tasklist.tooltip"),iconName:"ListTodo",description:"Task list with todo items",aliases:["todo"],shouldBeHidden:r=>!we(r,"taskList"),action:({editor:r,range:s})=>{r.chain().focus().deleteRange(s).toggleTaskList().run()}},{name:"columns",label:e.value("editor.columns.tooltip"),iconName:"Columns2",description:"Add two column content",aliases:["columns","cols","2cols"],shouldBeHidden:r=>!we(r,"columns")||r.isActive("columns"),action:({editor:r,range:s})=>{r.chain().deleteRange(s).setColumns().focus(r.state.selection.head-1).run()}}]}];if(we(t,"iframes")){const r=tee;n.push({name:"others",title:e.value("editor.slash.embed"),commands:r.map(s=>({name:s.value,label:s.label,iconName:s.icon,aliases:[s.value,s.label],shouldBeHidden:a=>a.isActive("columns"),action:({editor:a,range:l})=>{a.chain().deleteRange(l).focus().setIframe({src:"",service:s.value}).run()}}))})}return n}const wee={key:0,class:"grid grid-cols-1 gap-0.5 min-w-48"},Cee={className:"text-neutral-500 text-[0.65rem] col-[1/-1] mx-2 mt-2 font-semibold tracking-wider select-none uppercase first:mt-0.5"},kee=["onClick"],xee=["src"],See={key:1,class:"p-3"},Eee={class:"text-xs text-gray-800 dark:text-gray-100"},_ee=i.defineComponent({__name:"CommandsList",props:{editor:{},items:{default:void 0},command:{type:Function,default:void 0}},setup(t,{expose:e}){const n=i.ref(0),o=i.ref(0),r=i.ref(null),{t:s}=Ee(),a=i.ref([]),l=t;e({onKeyDown:c}),i.watch([()=>n.value,()=>o.value],async()=>{if(!r.value)return;await i.nextTick();const g=o.value*1e3+n.value,y=a.value[g];y&&y.scrollIntoView({behavior:"smooth",block:"nearest"})});function c({event:g}){return g.key==="ArrowUp"?(d(),!0):g.key==="ArrowDown"?(u(),!0):g.key==="Enter"?(f(),!0):!1}function d(){var b;if(!l.items.length)return!1;let g=n.value-1,y=o.value;g<0&&(y=o.value-1,g=((b=l.items[y])==null?void 0:b.commands.length)-1||0),y<0&&(y=l.items.length-1,g=l.items[y].commands.length-1),n.value=g,o.value=y}function u(){if(!l.items.length)return!1;const g=l.items[o.value].commands;let y=n.value+1,b=o.value;g.length-1<y&&(y=0,b=o.value+1),l.items.length-1<b&&(b=0),n.value=y,o.value=b}function f(){if(!l.items.length||o.value===-1||n.value===-1)return!1;p(o.value,n.value)}function p(g,y){const b=l.items[g].commands[y];l.command(b)}function h(g,y){p(g,y)}function m(g,y,b){a.value[g*1e3+y]=b}return(g,y)=>{var b;return i.openBlock(),i.createElementBlock("div",{class:"bg-white rounded-lg dark:bg-black shadow-sm border border-neutral-200 dark:border-neutral-800 text-black max-h-[min(80vh,24rem)] overflow-auto flex-wrap mb-8 p-1",ref_key:"scrollContainer",ref:r},[(b=g.items)!=null&&b.length?(i.openBlock(),i.createElementBlock("div",wee,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(g.items,(C,k)=>(i.openBlock(),i.createElementBlock(i.Fragment,{key:C.title},[i.createElementVNode("div",Cee,i.toDisplayString(C.title),1),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(C.commands,(w,x)=>(i.openBlock(),i.createElementBlock("button",{class:i.normalizeClass(["flex items-center gap-3 px-2 py-1.5 text-sm text-neutral-800 dark:text-neutral-200 text-left w-full rounded-sm outline-none transition-colors",[o.value===k&&n.value===x?"bg-accent text-neutral-800 dark:bg-neutral-900 dark:text-neutral-200":"hover:bg-accent hover:text-neutral-800 dark:hover:bg-neutral-900 dark:hover:text-neutral-200"]]),ref_for:!0,ref:S=>m(k,x,S),key:x,onClick:S=>h(k,x)},[w.iconUrl?(i.openBlock(),i.createElementBlock("img",{key:0,class:"w-6 h-6",src:w.iconUrl},null,8,xee)):i.createCommentVNode("",!0),w.iconName?(i.openBlock(),i.createBlock(i.unref(oe),{key:1,name:w.iconName,class:"mr-1 text-lg"},null,8,["name"])):i.createCommentVNode("",!0),i.createTextVNode(" "+i.toDisplayString(w.label),1)],10,kee))),128))],64))),128))])):(i.openBlock(),i.createElementBlock("div",See,[i.createElementVNode("span",Eee,i.toDisplayString(i.unref(s)("editor.slash.empty")),1)]))],512)}}}),Qr="slashCommand";let _e;const Aee=ae.create({name:Qr,priority:200,onCreate(){_e=Ro("body",{interactive:!0,trigger:"manual",placement:"bottom-start",theme:"slash-command",maxWidth:"16rem",offset:[16,8],popperOptions:{strategy:"fixed",modifiers:[{name:"flip",enabled:!1}]}})},addProseMirrorPlugins(){return[qQ({editor:this.editor,char:"/",allowSpaces:!0,startOfLine:!0,pluginKey:new me(Qr),allow:({state:t,range:e})=>{var d,u,f;const n=t.doc.resolve(e.from),o=n.depth===1,r=n.parent.type.name==="paragraph",s=((d=n.parent.textContent)==null?void 0:d.charAt(0))==="/",a=this.editor.isActive("column"),l=(f=n.parent.textContent)==null?void 0:f.substring((u=n.parent.textContent)==null?void 0:u.indexOf("/")),c=!(l!=null&&l.endsWith("  "));return(o&&r&&s||a&&r&&s)&&c},command:({editor:t,range:e,props:n})=>{const{view:o}=t;n.action({editor:t,range:e}),o.focus()},items:({query:t,editor:e})=>bee(this.editor).map(a=>({...a,commands:a.commands.filter(l=>{const c=l.label.toLowerCase().trim(),d=t.toLowerCase().trim();if(l.aliases){const u=l.aliases.map(h=>h.toLowerCase().trim()),f=c.match(d),p=u.some(h=>h.match(d));return f||p}return c.match(d)}).filter(l=>l.shouldBeHidden?!l.shouldBeHidden(this.editor):!0)})).filter(a=>a.commands.length>0).map(a=>({...a,commands:a.commands.map(l=>({...l,isEnabled:!0}))})),render:()=>{let t,e=null;return{onStart:n=>{var a;t=new vw(_ee,{props:n,editor:n.editor});const{view:o}=n.editor,r=o.dom,s=()=>{if(!n.clientRect)return n.editor.storage[Qr].rect;const l=n.clientRect();if(!l)return n.editor.storage[Qr].rect;let c=l.y;if(l.top+t.element.offsetHeight+40>window.innerHeight){const d=l.top+t.element.offsetHeight-window.innerHeight+40;c=l.y-d}return r.getBoundingClientRect().x,new DOMRect(l.x,c,l.width,l.height)};e=()=>{_e==null||_e[0].setProps({getReferenceClientRect:s})},(a=o.dom.parentElement)==null||a.addEventListener("scroll",e),_e==null||_e[0].setProps({getReferenceClientRect:s,appendTo:()=>document.body,content:t.element}),_e==null||_e[0].show()},onUpdate(n){var a;t.updateProps(n);const{view:o}=n.editor;o.dom;const r=()=>{if(!n.clientRect)return n.editor.storage[Qr].rect;const l=n.clientRect();return l?new DOMRect(l.x,l.y,l.width,l.height):n.editor.storage[Qr].rect};let s=()=>{_e==null||_e[0].setProps({getReferenceClientRect:r})};(a=o.dom.parentElement)==null||a.addEventListener("scroll",s),n.editor.storage[Qr].rect=n.clientRect?r():{width:0,height:0,left:0,top:0,right:0,bottom:0},_e==null||_e[0].setProps({getReferenceClientRect:r})},onKeyDown(n){var o;return n.event.key==="Escape"?(_e==null||_e[0].hide(),!0):(_e!=null&&_e[0].state.isShown||_e==null||_e[0].show(),(o=t.ref)==null?void 0:o.onKeyDown(n))},onExit(n){var o;if(_e==null||_e[0].hide(),e){const{view:r}=n.editor;(o=r.dom.parentElement)==null||o.removeEventListener("scroll",e)}t.destroy()}}}})]},addStorage(){return{rect:{width:0,height:0,left:0,top:0,right:0,bottom:0}}}}),Tee=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Mee=ve.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",ge(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[Lb({find:Tee,type:this.type,getAttributes:t=>{const[,,e,n,o]=t;return{src:n,alt:e,title:o}}})]}}),Oee=["src","alt"],vee={key:0,class:"image-resizer"},Nee=["onMousedown"],Iee=i.defineComponent({__name:"ImageView",props:{...na,selected:{type:Boolean,required:!0}},setup(t){const e=t,n={TOP_LEFT:"tl",TOP_RIGHT:"tr",BOTTOM_LEFT:"bl",BOTTOM_RIGHT:"br"},o=i.ref({width:Bw,height:Bw}),r=i.ref({width:0,height:0}),s=i.ref(!1),a=i.ref({x:0,y:0,w:0,h:0,dir:""}),l=i.computed(()=>{const{src:w,alt:x,width:S,height:E,flipX:T,flipY:_}=e.node.attrs,A=[];T&&A.push("rotateX(180deg)"),_&&A.push("rotateY(180deg)");const M=A.join(" ");return{src:w||void 0,alt:x||void 0,style:{width:mh(S)?`${S}px`:S,height:mh(E)?`${E}px`:E,transform:M||"none"}}}),c=i.computed(()=>({width:i.unref(l).style.width==="100%"?"100%":void 0})),d=i.ref(null),u=new ResizeObserver(w=>{for(const x of w){const{width:S,height:E}=x.contentRect;r.value={width:S,height:E},e.updateAttributes({originWidth:S,originHeight:E})}});function f(){const{editor:w,getPos:x}=e;w.commands.setNodeSelection(x())}const p=Mc(()=>{const{editor:w}=e;o.value.width=parseInt(getComputedStyle(w.view.dom).width,10)},Rw);function h(w,x){w.preventDefault(),w.stopPropagation();const{width:S,height:E}=i.unref(r),T=S/E;let _=Number(e.node.attrs.width)||S,A=Number(e.node.attrs.height)||Math.round(_/T);const M=i.unref(o).width;_=Math.min(_>M?M:_,M),A=Math.round(_/T),Object.assign(a.value,{x:w.clientX,y:w.clientY,w:_,h:A,dir:x}),s.value=!0,y()}const m=Mc(w=>{if(!i.unref(s))return;const{x,y:S,w:E,dir:T}=i.unref(a),_=(w.clientX-x)*(/l/.test(T)?-1:1),A=o9(E+_,y5,i.unref(o).width);e.updateAttributes({width:A})},Rw);function g(w){w.preventDefault(),w.stopPropagation(),i.unref(s)&&(s.value=!1,Object.assign(a.value,{x:0,y:0,w:0,h:0,dir:""}),b(),f())}function y(){document.addEventListener("mousemove",m,!0),document.addEventListener("mouseup",g,!0)}function b(){document.removeEventListener("mousemove",m,!0),document.removeEventListener("mouseup",g,!0)}const C=new ResizeObserver(p),k=i.computed(()=>{const{textAlign:w}=e.node.attrs;return{left:"margin-right: auto;",right:"margin-left: auto;",center:"margin-left: auto; margin-right: auto;"}[w]||""});return i.onMounted(()=>{d.value&&u.observe(d.value),C.observe(e.editor.view.dom)}),i.onBeforeUnmount(()=>{b(),u.disconnect(),C.disconnect()}),(w,x)=>(i.openBlock(),i.createBlock(i.unref(ta),{class:"node-image"},{default:i.withCtx(()=>[i.createElementVNode("div",{class:"image-view",style:i.normalizeStyle([l.value.style,k.value])},[i.createElementVNode("div",{draggable:"true","data-drag-handle":"",class:i.normalizeClass([{"image-view__body--focused":t.selected,"image-view__body--resizing":s.value},"image-view__body"]),style:i.normalizeStyle(c.value)},[i.createElementVNode("img",{src:l.value.src,alt:l.value.alt,ref_key:"imageRef",ref:d,class:"image-view__body__image block",onClick:f},null,8,Oee),w.editor.view.editable?i.withDirectives((i.openBlock(),i.createElementBlock("div",vee,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(Object.values(n),S=>(i.openBlock(),i.createElementBlock("span",{key:S,class:i.normalizeClass([`image-resizer__handler--${S}`,"image-resizer__handler"]),onMousedown:E=>h(E,S)},null,42,Nee))),128))],512)),[[i.vShow,t.selected||s.value]]):i.createCommentVNode("",!0)],6)],4)]),_:1}))}}),Bee=ME(Iee,[["__scopeId","data-v-6b19b371"]]),Ree=Mee.extend({group:"block",defining:!0,isolating:!0,addAttributes(){var t;return{...(t=this.parent)==null?void 0:t.call(this),flipX:{default:!1},flipY:{default:!1},originWidth:{default:null},originHeight:{default:null},width:{default:"100%",parseHTML:e=>{const n=e.style.width||e.getAttribute("width")||null;return n&&n.endsWith("%")?n:n==null?null:parseInt(n,10)},renderHTML:e=>({width:e.width})}}},addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this)}},addNodeView(){return oa(Bee)},addCommands(){var t;return{...(t=this.parent)==null?void 0:t.call(this),updateImage:e=>({commands:n,editor:o})=>n.updateAttributes(this.name,e)}},renderHTML({node:t,HTMLAttributes:e}){const{textAlign:n,flipX:o,flipY:r}=t.attrs,l=`${{left:"margin-right: auto;",right:"margin-left: auto;",center:"margin-left: auto; margin-right: auto;"}[n]||""} ${o||r?`transform: rotateX(${o?"180":"0"}deg) rotateY(${r?"180":"0"}deg);`:""}`;return["img",ge({height:"auto",style:l},this.options.HTMLAttributes,e)]},parseHTML(){return[{tag:"img[src]"}]}});function Pee(t){return t=t.replace("https://youtu.be/","https://www.youtube.com/watch?v=").replace("watch?v=","embed/"),t=t.replace("https://vimeo.com/","https://player.vimeo.com/video/"),/^https?:\/\/www.bilibili.com\/video\/.*/i.test(t)&&(t=t.replace(/\?.*$/i,"").replace("https://www.bilibili.com/video/","https://player.bilibili.com/player.html?bvid=")),t.includes("drive.google.com")&&(t=t.replace("/view","/preview")),t}const Dee=ve.create({name:"video",group:"block",atom:!0,draggable:!0,addAttributes(){return{src:{default:null,renderHTML:({src:t})=>({src:t?Pee(t):null})},width:{default:this.options.width,renderHTML:({width:t})=>({width:Oc(t)})},frameborder:{default:this.options.frameborder?1:0,parseHTML:()=>this.options.frameborder?1:0},allowfullscreen:{default:this.options.allowFullscreen,parseHTML:()=>this.options.allowFullscreen}}},parseHTML(){return[{tag:"div[data-video] iframe"}]},renderHTML({HTMLAttributes:t}){const{width:e="100%"}=t??{},n={...t,width:"100%",height:"100%"},o=`position: relative;overflow: hidden;display: flex;flex: 1;max-width: ${e};`,r=`flex: 1;padding-bottom: ${9/16*100}%;`,l=["div",{style:o},["div",{style:r}],["iframe",n]];return["div",{...this.options.HTMLAttributes,"data-video":""},l]},addCommands(){return{setVideo:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t}),updateVideo:t=>({commands:e})=>e.updateAttributes(this.name,t)}},addOptions(){return{divider:!1,spacer:!1,allowFullscreen:!0,upload:void 0,frameborder:!1,width:gc["size-medium"],HTMLAttributes:{class:"iframe-wrapper",style:"display: flex;justify-content: center;"}}}});var I1,B1;if(typeof WeakMap<"u"){let t=new WeakMap;I1=e=>t.get(e),B1=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;I1=o=>{for(let r=0;r<t.length;r+=2)if(t[r]==o)return t[r+1]},B1=(o,r)=>(n==10&&(n=0),t[n++]=o,t[n++]=r)}var Ue=class{constructor(t,e,n,o){this.width=t,this.height=e,this.map=n,this.problems=o}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const o=e%this.width,r=e/this.width|0;let s=o+1,a=r+1;for(let l=1;s<this.width&&this.map[e+l]==n;l++)s++;for(let l=1;a<this.height&&this.map[e+this.width*l]==n;l++)a++;return{left:o,top:r,right:s,bottom:a}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:o,right:r,top:s,bottom:a}=this.findCell(t);return e=="horiz"?(n<0?o==0:r==this.width)?null:this.map[s*this.width+(n<0?o-1:r)]:(n<0?s==0:a==this.height)?null:this.map[o+this.width*(n<0?s-1:a)]}rectBetween(t,e){const{left:n,right:o,top:r,bottom:s}=this.findCell(t),{left:a,right:l,top:c,bottom:d}=this.findCell(e);return{left:Math.min(n,a),top:Math.min(r,c),right:Math.max(o,l),bottom:Math.max(s,d)}}cellsInRect(t){const e=[],n={};for(let o=t.top;o<t.bottom;o++)for(let r=t.left;r<t.right;r++){const s=o*this.width+r,a=this.map[s];n[a]||(n[a]=!0,!(r==t.left&&r&&this.map[s-1]==a||o==t.top&&o&&this.map[s-this.width]==a)&&e.push(a))}return e}positionAt(t,e,n){for(let o=0,r=0;;o++){const s=r+n.child(o).nodeSize;if(o==t){let a=e+t*this.width;const l=(t+1)*this.width;for(;a<l&&this.map[a]<r;)a++;return a==l?s-1:this.map[a]}r=s}}static get(t){return I1(t)||B1(t,$ee(t))}};function $ee(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=Lee(t),n=t.childCount,o=[];let r=0,s=null;const a=[];for(let d=0,u=e*n;d<u;d++)o[d]=0;for(let d=0,u=0;d<n;d++){const f=t.child(d);u++;for(let m=0;;m++){for(;r<o.length&&o[r]!=0;)r++;if(m==f.childCount)break;const g=f.child(m),{colspan:y,rowspan:b,colwidth:C}=g.attrs;for(let k=0;k<b;k++){if(k+d>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:u,n:b-k});break}const w=r+k*e;for(let x=0;x<y;x++){o[w+x]==0?o[w+x]=u:(s||(s=[])).push({type:"collision",row:d,pos:u,n:y-x});const S=C&&C[x];if(S){const E=(w+x)%e*2,T=a[E];T==null||T!=S&&a[E+1]==1?(a[E]=S,a[E+1]=1):T==S&&a[E+1]++}}}r+=y,u+=g.nodeSize}const p=(d+1)*e;let h=0;for(;r<p;)o[r++]==0&&h++;h&&(s||(s=[])).push({type:"missing",row:d,n:h}),u++}(e===0||n===0)&&(s||(s=[])).push({type:"zero_sized"});const l=new Ue(e,n,o,s);let c=!1;for(let d=0;!c&&d<a.length;d+=2)a[d]!=null&&a[d+1]<n&&(c=!0);return c&&Vee(l,a,t),l}function Lee(t){let e=-1,n=!1;for(let o=0;o<t.childCount;o++){const r=t.child(o);let s=0;if(n)for(let a=0;a<o;a++){const l=t.child(a);for(let c=0;c<l.childCount;c++){const d=l.child(c);a+d.attrs.rowspan>o&&(s+=d.attrs.colspan)}}for(let a=0;a<r.childCount;a++){const l=r.child(a);s+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function Vee(t,e,n){t.problems||(t.problems=[]);const o={};for(let r=0;r<t.map.length;r++){const s=t.map[r];if(o[s])continue;o[s]=!0;const a=n.nodeAt(s);if(!a)throw new RangeError(`No cell with offset ${s} found`);let l=null;const c=a.attrs;for(let d=0;d<c.colspan;d++){const u=(r+d)%t.width,f=e[u*2];f!=null&&(!c.colwidth||c.colwidth[d]!=f)&&((l||(l=Fee(c)))[d]=f)}l&&t.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:l})}}function Fee(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function ft(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const o=t.nodes[n],r=o.spec.tableRole;r&&(e[r]=o)}}return e}var fr=new me("selectingCells");function ws(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function zee(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function bn(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function Qu(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=ws(e.$head)||Hee(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function Hee(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const o=e.type.spec.tableRole;if(o=="cell"||o=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const o=e.type.spec.tableRole;if(o=="cell"||o=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function R1(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function Uee(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function P1(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function w3(t,e,n){const o=t.node(-1),r=Ue.get(o),s=t.start(-1),a=r.nextCell(t.pos-s,e,n);return a==null?null:t.node(0).resolve(s+a)}function ei(t,e,n=1){const o={...t,colspan:t.colspan-n};return o.colwidth&&(o.colwidth=o.colwidth.slice(),o.colwidth.splice(e,n),o.colwidth.some(r=>r>0)||(o.colwidth=null)),o}function C3(t,e,n=1){const o={...t,colspan:t.colspan+n};if(o.colwidth){o.colwidth=o.colwidth.slice();for(let r=0;r<n;r++)o.colwidth.splice(e,0,0)}return o}function jee(t,e,n){const o=ft(e.type.schema).header_cell;for(let r=0;r<t.height;r++)if(e.nodeAt(t.map[n+r*t.width]).type!=o)return!1;return!0}var Me=class go extends Z{constructor(e,n=e){const o=e.node(-1),r=Ue.get(o),s=e.start(-1),a=r.rectBetween(e.pos-s,n.pos-s),l=e.node(0),c=r.cellsInRect(a).filter(u=>u!=n.pos-s);c.unshift(n.pos-s);const d=c.map(u=>{const f=o.nodeAt(u);if(!f)throw RangeError(`No cell with offset ${u} found`);const p=s+u+1;return new Nf(l.resolve(p),l.resolve(p+f.content.size))});super(d[0].$from,d[0].$to,d),this.$anchorCell=e,this.$headCell=n}map(e,n){const o=e.resolve(n.map(this.$anchorCell.pos)),r=e.resolve(n.map(this.$headCell.pos));if(R1(o)&&R1(r)&&P1(o,r)){const s=this.$anchorCell.node(-1)!=o.node(-1);return s&&this.isRowSelection()?go.rowSelection(o,r):s&&this.isColSelection()?go.colSelection(o,r):new go(o,r)}return J.between(o,r)}content(){const e=this.$anchorCell.node(-1),n=Ue.get(e),o=this.$anchorCell.start(-1),r=n.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o),s={},a=[];for(let c=r.top;c<r.bottom;c++){const d=[];for(let u=c*n.width+r.left,f=r.left;f<r.right;f++,u++){const p=n.map[u];if(s[p])continue;s[p]=!0;const h=n.findCell(p);let m=e.nodeAt(p);if(!m)throw RangeError(`No cell with offset ${p} found`);const g=r.left-h.left,y=h.right-r.right;if(g>0||y>0){let b=m.attrs;if(g>0&&(b=ei(b,0,g)),y>0&&(b=ei(b,b.colspan-y,y)),h.left<r.left){if(m=m.type.createAndFill(b),!m)throw RangeError(`Could not create cell with attrs ${JSON.stringify(b)}`)}else m=m.type.create(b,m.content)}if(h.top<r.top||h.bottom>r.bottom){const b={...m.attrs,rowspan:Math.min(h.bottom,r.bottom)-Math.max(h.top,r.top)};h.top<r.top?m=m.type.createAndFill(b):m=m.type.create(b,m.content)}d.push(m)}a.push(e.child(c).copy(P.from(d)))}const l=this.isColSelection()&&this.isRowSelection()?e:a;return new U(P.from(l),1,1)}replace(e,n=U.empty){const o=e.steps.length,r=this.ranges;for(let a=0;a<r.length;a++){const{$from:l,$to:c}=r[a],d=e.mapping.slice(o);e.replace(d.map(l.pos),d.map(c.pos),a?U.empty:n)}const s=Z.findFrom(e.doc.resolve(e.mapping.slice(o).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,n){this.replace(e,new U(P.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),o=Ue.get(n),r=this.$anchorCell.start(-1),s=o.cellsInRect(o.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let a=0;a<s.length;a++)e(n.nodeAt(s[a]),r+s[a])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const o=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(o,r)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const o=e.node(-1),r=Ue.get(o),s=e.start(-1),a=r.findCell(e.pos-s),l=r.findCell(n.pos-s),c=e.node(0);return a.top<=l.top?(a.top>0&&(e=c.resolve(s+r.map[a.left])),l.bottom<r.height&&(n=c.resolve(s+r.map[r.width*(r.height-1)+l.right-1]))):(l.top>0&&(n=c.resolve(s+r.map[l.left])),a.bottom<r.height&&(e=c.resolve(s+r.map[r.width*(r.height-1)+a.right-1]))),new go(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Ue.get(e),o=this.$anchorCell.start(-1),r=n.colCount(this.$anchorCell.pos-o),s=n.colCount(this.$headCell.pos-o);if(Math.min(r,s)>0)return!1;const a=r+this.$anchorCell.nodeAfter.attrs.colspan,l=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,l)==n.width}eq(e){return e instanceof go&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const o=e.node(-1),r=Ue.get(o),s=e.start(-1),a=r.findCell(e.pos-s),l=r.findCell(n.pos-s),c=e.node(0);return a.left<=l.left?(a.left>0&&(e=c.resolve(s+r.map[a.top*r.width])),l.right<r.width&&(n=c.resolve(s+r.map[r.width*(l.top+1)-1]))):(l.left>0&&(n=c.resolve(s+r.map[l.top*r.width])),a.right<r.width&&(e=c.resolve(s+r.map[r.width*(a.top+1)-1]))),new go(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new go(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,o=n){return new go(e.resolve(n),e.resolve(o))}getBookmark(){return new Wee(this.$anchorCell.pos,this.$headCell.pos)}};Me.prototype.visible=!1,Z.jsonID("cell",Me);var Wee=class J3{constructor(e,n){this.anchor=e,this.head=n}map(e){return new J3(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),o=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&o.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&o.index()<o.parent.childCount&&P1(n,o)?new Me(n,o):Z.near(o,1)}};function Kee(t){if(!(t.selection instanceof Me))return null;const e=[];return t.selection.forEachCell((n,o)=>{e.push(Fe.node(o,o+n.nodeSize,{class:"selectedCell"}))}),ue.create(t.doc,e)}function Gee({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,o=e.pos,r=t.depth;for(;r>=0&&!(t.after(r+1)<t.end(r));r--,n++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,o--);return n==o&&/row|table/.test(t.node(r).type.spec.tableRole)}function qee({$from:t,$to:e}){let n,o;for(let r=t.depth;r>0;r--){const s=t.node(r);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let r=e.depth;r>0;r--){const s=e.node(r);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){o=s;break}}return n!==o&&e.parentOffset===0}function Yee(t,e,n){const o=(e||t).selection,r=(e||t).doc;let s,a;if(o instanceof X&&(a=o.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")s=Me.create(r,o.from);else if(a=="row"){const l=r.resolve(o.from+1);s=Me.rowSelection(l,l)}else if(!n){const l=Ue.get(o.node),c=o.from+1,d=c+l.map[l.width*l.height-1];s=Me.create(r,c+1,d)}}else o instanceof J&&Gee(o)?s=J.create(r,o.from):o instanceof J&&qee(o)&&(s=J.create(r,o.$from.start(),o.$from.end()));return s&&(e||(e=t.tr)).setSelection(s),e}var Jee=new me("fix-tables");function k3(t,e,n,o){const r=t.childCount,s=e.childCount;e:for(let a=0,l=0;a<s;a++){const c=e.child(a);for(let d=l,u=Math.min(r,a+3);d<u;d++)if(t.child(d)==c){l=d+1,n+=c.nodeSize;continue e}o(c,n),l<r&&t.child(l).sameMarkup(c)?k3(t.child(l),c,n+1,o):c.nodesBetween(0,c.content.size,o,n+1),n+=c.nodeSize}}function x3(t,e){let n;const o=(r,s)=>{r.type.spec.tableRole=="table"&&(n=Xee(t,r,s,n))};return e?e.doc!=t.doc&&k3(e.doc,t.doc,0,o):t.doc.descendants(o),n}function Xee(t,e,n,o){const r=Ue.get(e);if(!r.problems)return o;o||(o=t.tr);const s=[];for(let c=0;c<r.height;c++)s.push(0);for(let c=0;c<r.problems.length;c++){const d=r.problems[c];if(d.type=="collision"){const u=e.nodeAt(d.pos);if(!u)continue;const f=u.attrs;for(let p=0;p<f.rowspan;p++)s[d.row+p]+=d.n;o.setNodeMarkup(o.mapping.map(n+1+d.pos),null,ei(f,f.colspan-d.n,d.n))}else if(d.type=="missing")s[d.row]+=d.n;else if(d.type=="overlong_rowspan"){const u=e.nodeAt(d.pos);if(!u)continue;o.setNodeMarkup(o.mapping.map(n+1+d.pos),null,{...u.attrs,rowspan:u.attrs.rowspan-d.n})}else if(d.type=="colwidth mismatch"){const u=e.nodeAt(d.pos);if(!u)continue;o.setNodeMarkup(o.mapping.map(n+1+d.pos),null,{...u.attrs,colwidth:d.colwidth})}else if(d.type=="zero_sized"){const u=o.mapping.map(n);o.delete(u,u+e.nodeSize)}}let a,l;for(let c=0;c<s.length;c++)s[c]&&(a==null&&(a=c),l=c);for(let c=0,d=n+1;c<r.height;c++){const u=e.child(c),f=d+u.nodeSize,p=s[c];if(p>0){let h="cell";u.firstChild&&(h=u.firstChild.type.spec.tableRole);const m=[];for(let y=0;y<p;y++){const b=ft(t.schema)[h].createAndFill();b&&m.push(b)}const g=(c==0||a==c-1)&&l==c?d+1:f-1;o.insert(o.mapping.map(g),m)}d=f}return o.setMeta(Jee,{fixTables:!0})}function Vn(t){const e=t.selection,n=Qu(t),o=n.node(-1),r=n.start(-1),s=Ue.get(o);return{...e instanceof Me?s.rectBetween(e.$anchorCell.pos-r,e.$headCell.pos-r):s.findCell(n.pos-r),tableStart:r,map:s,table:o}}function S3(t,{map:e,tableStart:n,table:o},r){let s=r>0?-1:0;jee(e,o,r+s)&&(s=r==0||r==e.width?null:0);for(let a=0;a<e.height;a++){const l=a*e.width+r;if(r>0&&r<e.width&&e.map[l-1]==e.map[l]){const c=e.map[l],d=o.nodeAt(c);t.setNodeMarkup(t.mapping.map(n+c),null,C3(d.attrs,r-e.colCount(c))),a+=d.attrs.rowspan-1}else{const c=s==null?ft(o.type.schema).cell:o.nodeAt(e.map[l+s]).type,d=e.positionAt(a,r,o);t.insert(t.mapping.map(n+d),c.createAndFill())}}return t}function Zee(t,e){if(!bn(t))return!1;if(e){const n=Vn(t);e(S3(t.tr,n,n.left))}return!0}function Qee(t,e){if(!bn(t))return!1;if(e){const n=Vn(t);e(S3(t.tr,n,n.right))}return!0}function ete(t,{map:e,table:n,tableStart:o},r){const s=t.mapping.maps.length;for(let a=0;a<e.height;){const l=a*e.width+r,c=e.map[l],d=n.nodeAt(c),u=d.attrs;if(r>0&&e.map[l-1]==c||r<e.width-1&&e.map[l+1]==c)t.setNodeMarkup(t.mapping.slice(s).map(o+c),null,ei(u,r-e.colCount(c)));else{const f=t.mapping.slice(s).map(o+c);t.delete(f,f+d.nodeSize)}a+=u.rowspan}}function tte(t,e){if(!bn(t))return!1;if(e){const n=Vn(t),o=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let r=n.right-1;ete(o,n,r),r!=n.left;r--){const s=n.tableStart?o.doc.nodeAt(n.tableStart-1):o.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=Ue.get(s)}e(o)}return!0}function nte(t,e,n){var o;const r=ft(e.type.schema).header_cell;for(let s=0;s<t.width;s++)if(((o=e.nodeAt(t.map[s+n*t.width]))==null?void 0:o.type)!=r)return!1;return!0}function E3(t,{map:e,tableStart:n,table:o},r){var s;let a=n;for(let d=0;d<r;d++)a+=o.child(d).nodeSize;const l=[];let c=r>0?-1:0;nte(e,o,r+c)&&(c=r==0||r==e.height?null:0);for(let d=0,u=e.width*r;d<e.width;d++,u++)if(r>0&&r<e.height&&e.map[u]==e.map[u-e.width]){const f=e.map[u],p=o.nodeAt(f).attrs;t.setNodeMarkup(n+f,null,{...p,rowspan:p.rowspan+1}),d+=p.colspan-1}else{const f=c==null?ft(o.type.schema).cell:(s=o.nodeAt(e.map[u+c*e.width]))==null?void 0:s.type,p=f==null?void 0:f.createAndFill();p&&l.push(p)}return t.insert(a,ft(o.type.schema).row.create(null,l)),t}function ote(t,e){if(!bn(t))return!1;if(e){const n=Vn(t);e(E3(t.tr,n,n.top))}return!0}function rte(t,e){if(!bn(t))return!1;if(e){const n=Vn(t);e(E3(t.tr,n,n.bottom))}return!0}function ite(t,{map:e,table:n,tableStart:o},r){let s=0;for(let d=0;d<r;d++)s+=n.child(d).nodeSize;const a=s+n.child(r).nodeSize,l=t.mapping.maps.length;t.delete(s+o,a+o);const c=new Set;for(let d=0,u=r*e.width;d<e.width;d++,u++){const f=e.map[u];if(!c.has(f)){if(c.add(f),r>0&&f==e.map[u-e.width]){const p=n.nodeAt(f).attrs;t.setNodeMarkup(t.mapping.slice(l).map(f+o),null,{...p,rowspan:p.rowspan-1}),d+=p.colspan-1}else if(r<e.height&&f==e.map[u+e.width]){const p=n.nodeAt(f),h=p.attrs,m=p.type.create({...h,rowspan:p.attrs.rowspan-1},p.content),g=e.positionAt(r+1,d,n);t.insert(t.mapping.slice(l).map(o+g),m),d+=h.colspan-1}}}}function ste(t,e){if(!bn(t))return!1;if(e){const n=Vn(t),o=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let r=n.bottom-1;ite(o,n,r),r!=n.top;r--){const s=n.tableStart?o.doc.nodeAt(n.tableStart-1):o.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=Ue.get(n.table)}e(o)}return!0}function _3(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function ate({width:t,height:e,map:n},o){let r=o.top*t+o.left,s=r,a=(o.bottom-1)*t+o.left,l=r+(o.right-o.left-1);for(let c=o.top;c<o.bottom;c++){if(o.left>0&&n[s]==n[s-1]||o.right<t&&n[l]==n[l+1])return!0;s+=t,l+=t}for(let c=o.left;c<o.right;c++){if(o.top>0&&n[r]==n[r-t]||o.bottom<e&&n[a]==n[a+t])return!0;r++,a++}return!1}function A3(t,e){const n=t.selection;if(!(n instanceof Me)||n.$anchorCell.pos==n.$headCell.pos)return!1;const o=Vn(t),{map:r}=o;if(ate(r,o))return!1;if(e){const s=t.tr,a={};let l=P.empty,c,d;for(let u=o.top;u<o.bottom;u++)for(let f=o.left;f<o.right;f++){const p=r.map[u*r.width+f],h=o.table.nodeAt(p);if(!(a[p]||!h))if(a[p]=!0,c==null)c=p,d=h;else{_3(h)||(l=l.append(h.content));const m=s.mapping.map(p+o.tableStart);s.delete(m,m+h.nodeSize)}}if(c==null||d==null)return!0;if(s.setNodeMarkup(c+o.tableStart,null,{...C3(d.attrs,d.attrs.colspan,o.right-o.left-d.attrs.colspan),rowspan:o.bottom-o.top}),l.size){const u=c+1+d.content.size,f=_3(d)?c+1:u;s.replaceWith(f+o.tableStart,u+o.tableStart,l)}s.setSelection(new Me(s.doc.resolve(c+o.tableStart))),e(s)}return!0}function T3(t,e){const n=ft(t.schema);return lte(({node:o})=>n[o.type.spec.tableRole])(t,e)}function lte(t){return(e,n)=>{var o;const r=e.selection;let s,a;if(r instanceof Me){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;s=r.$anchorCell.nodeAfter,a=r.$anchorCell.pos}else{if(s=zee(r.$from),!s)return!1;a=(o=ws(r.$from))==null?void 0:o.pos}if(s==null||a==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let l=s.attrs;const c=[],d=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const u=Vn(e),f=e.tr;for(let h=0;h<u.right-u.left;h++)c.push(d?{...l,colwidth:d&&d[h]?[d[h]]:null}:l);let p;for(let h=u.top;h<u.bottom;h++){let m=u.map.positionAt(h,u.left,u.table);h==u.top&&(m+=s.nodeSize);for(let g=u.left,y=0;g<u.right;g++,y++)g==u.left&&h==u.top||f.insert(p=f.mapping.map(m+u.tableStart,1),t({node:s,row:h,col:g}).createAndFill(c[y]))}f.setNodeMarkup(a,t({node:s,row:u.top,col:u.left}),c[0]),r instanceof Me&&f.setSelection(new Me(f.doc.resolve(r.$anchorCell.pos),p?f.doc.resolve(p):void 0)),n(f)}return!0}}function cte(t,e){return function(n,o){if(!bn(n))return!1;const r=Qu(n);if(r.nodeAfter.attrs[t]===e)return!1;if(o){const s=n.tr;n.selection instanceof Me?n.selection.forEachCell((a,l)=>{a.attrs[t]!==e&&s.setNodeMarkup(l,null,{...a.attrs,[t]:e})}):s.setNodeMarkup(r.pos,null,{...r.nodeAfter.attrs,[t]:e}),o(s)}return!0}}function dte(t){return function(e,n){if(!bn(e))return!1;if(n){const o=ft(e.schema),r=Vn(e),s=e.tr,a=r.map.cellsInRect(t=="column"?{left:r.left,top:0,right:r.right,bottom:r.map.height}:t=="row"?{left:0,top:r.top,right:r.map.width,bottom:r.bottom}:r),l=a.map(c=>r.table.nodeAt(c));for(let c=0;c<a.length;c++)l[c].type==o.header_cell&&s.setNodeMarkup(r.tableStart+a[c],o.cell,l[c].attrs);if(s.steps.length==0)for(let c=0;c<a.length;c++)s.setNodeMarkup(r.tableStart+a[c],o.header_cell,l[c].attrs);n(s)}return!0}}function M3(t,e,n){const o=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let r=0;r<o.length;r++){const s=e.table.nodeAt(o[r]);if(s&&s.type!==n.header_cell)return!1}return!0}function ml(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?dte(t):function(n,o){if(!bn(n))return!1;if(o){const r=ft(n.schema),s=Vn(n),a=n.tr,l=M3("row",s,r),c=M3("column",s,r),u=(t==="column"?l:t==="row"?c:!1)?1:0,f=t=="column"?{left:0,top:u,right:1,bottom:s.map.height}:t=="row"?{left:u,top:0,right:s.map.width,bottom:1}:s,p=t=="column"?c?r.cell:r.header_cell:t=="row"?l?r.cell:r.header_cell:r.cell;s.map.cellsInRect(f).forEach(h=>{const m=h+s.tableStart,g=a.doc.nodeAt(m);g&&a.setNodeMarkup(m,p,g.attrs)}),o(a)}return!0}}ml("row",{useDeprecatedLogic:!0}),ml("column",{useDeprecatedLogic:!0});var ute=ml("cell",{useDeprecatedLogic:!0});function fte(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let o=t.index(-1)-1,r=t.before();o>=0;o--){const s=t.node(-1).child(o),a=s.lastChild;if(a)return r-1-a.nodeSize;r-=s.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let o=t.indexAfter(-1),r=t.after();o<n.childCount;o++){const s=n.child(o);if(s.childCount)return r+1;r+=s.nodeSize}}return null}function O3(t){return function(e,n){if(!bn(e))return!1;const o=fte(Qu(e),t);if(o==null)return!1;if(n){const r=e.doc.resolve(o);n(e.tr.setSelection(J.between(r,Uee(r))).scrollIntoView())}return!0}}function pte(t,e){const n=t.selection.$anchor;for(let o=n.depth;o>0;o--)if(n.node(o).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(o),n.after(o)).scrollIntoView()),!0;return!1}function ef(t,e){const n=t.selection;if(!(n instanceof Me))return!1;if(e){const o=t.tr,r=ft(t.schema).cell.createAndFill().content;n.forEachCell((s,a)=>{s.content.eq(r)||o.replace(o.mapping.map(a+1),o.mapping.map(a+s.nodeSize-1),new U(r,0,0))}),o.docChanged&&e(o)}return!0}function hte(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:o}=t;for(;e.childCount==1&&(n>0&&o>0||e.child(0).type.spec.tableRole=="table");)n--,o--,e=e.child(0).content;const r=e.child(0),s=r.type.spec.tableRole,a=r.type.schema,l=[];if(s=="row")for(let c=0;c<e.childCount;c++){let d=e.child(c).content;const u=c?0:Math.max(0,n-1),f=c<e.childCount-1?0:Math.max(0,o-1);(u||f)&&(d=D1(ft(a).row,new U(d,u,f)).content),l.push(d)}else if(s=="cell"||s=="header_cell")l.push(n||o?D1(ft(a).row,new U(e,n,o)).content:e);else return null;return mte(a,l)}function mte(t,e){const n=[];for(let r=0;r<e.length;r++){const s=e[r];for(let a=s.childCount-1;a>=0;a--){const{rowspan:l,colspan:c}=s.child(a).attrs;for(let d=r;d<r+l;d++)n[d]=(n[d]||0)+c}}let o=0;for(let r=0;r<n.length;r++)o=Math.max(o,n[r]);for(let r=0;r<n.length;r++)if(r>=e.length&&e.push(P.empty),n[r]<o){const s=ft(t).cell.createAndFill(),a=[];for(let l=n[r];l<o;l++)a.push(s);e[r]=e[r].append(P.from(a))}return{height:e.length,width:o,rows:e}}function D1(t,e){const n=t.createAndFill();return new Of(n).replace(0,n.content.size,e).doc}function gte({width:t,height:e,rows:n},o,r){if(t!=o){const s=[],a=[];for(let l=0;l<n.length;l++){const c=n[l],d=[];for(let u=s[l]||0,f=0;u<o;f++){let p=c.child(f%c.childCount);u+p.attrs.colspan>o&&(p=p.type.createChecked(ei(p.attrs,p.attrs.colspan,u+p.attrs.colspan-o),p.content)),d.push(p),u+=p.attrs.colspan;for(let h=1;h<p.attrs.rowspan;h++)s[l+h]=(s[l+h]||0)+p.attrs.colspan}a.push(P.from(d))}n=a,t=o}if(e!=r){const s=[];for(let a=0,l=0;a<r;a++,l++){const c=[],d=n[l%e];for(let u=0;u<d.childCount;u++){let f=d.child(u);a+f.attrs.rowspan>r&&(f=f.type.create({...f.attrs,rowspan:Math.max(1,r-f.attrs.rowspan)},f.content)),c.push(f)}s.push(P.from(c))}n=s,e=r}return{width:t,height:e,rows:n}}function yte(t,e,n,o,r,s,a){const l=t.doc.type.schema,c=ft(l);let d,u;if(r>e.width)for(let f=0,p=0;f<e.height;f++){const h=n.child(f);p+=h.nodeSize;const m=[];let g;h.lastChild==null||h.lastChild.type==c.cell?g=d||(d=c.cell.createAndFill()):g=u||(u=c.header_cell.createAndFill());for(let y=e.width;y<r;y++)m.push(g);t.insert(t.mapping.slice(a).map(p-1+o),m)}if(s>e.height){const f=[];for(let m=0,g=(e.height-1)*e.width;m<Math.max(e.width,r);m++){const y=m>=e.width?!1:n.nodeAt(e.map[g+m]).type==c.header_cell;f.push(y?u||(u=c.header_cell.createAndFill()):d||(d=c.cell.createAndFill()))}const p=c.row.create(null,P.from(f)),h=[];for(let m=e.height;m<s;m++)h.push(p);t.insert(t.mapping.slice(a).map(o+n.nodeSize-2),h)}return!!(d||u)}function v3(t,e,n,o,r,s,a,l){if(a==0||a==e.height)return!1;let c=!1;for(let d=r;d<s;d++){const u=a*e.width+d,f=e.map[u];if(e.map[u-e.width]==f){c=!0;const p=n.nodeAt(f),{top:h,left:m}=e.findCell(f);t.setNodeMarkup(t.mapping.slice(l).map(f+o),null,{...p.attrs,rowspan:a-h}),t.insert(t.mapping.slice(l).map(e.positionAt(a,m,n)),p.type.createAndFill({...p.attrs,rowspan:h+p.attrs.rowspan-a})),d+=p.attrs.colspan-1}}return c}function N3(t,e,n,o,r,s,a,l){if(a==0||a==e.width)return!1;let c=!1;for(let d=r;d<s;d++){const u=d*e.width+a,f=e.map[u];if(e.map[u-1]==f){c=!0;const p=n.nodeAt(f),h=e.colCount(f),m=t.mapping.slice(l).map(f+o);t.setNodeMarkup(m,null,ei(p.attrs,a-h,p.attrs.colspan-(a-h))),t.insert(m+p.nodeSize,p.type.createAndFill(ei(p.attrs,0,a-h))),d+=p.attrs.rowspan-1}}return c}function I3(t,e,n,o,r){let s=n?t.doc.nodeAt(n-1):t.doc;if(!s)throw new Error("No table found");let a=Ue.get(s);const{top:l,left:c}=o,d=c+r.width,u=l+r.height,f=t.tr;let p=0;function h(){if(s=n?f.doc.nodeAt(n-1):f.doc,!s)throw new Error("No table found");a=Ue.get(s),p=f.mapping.maps.length}yte(f,a,s,n,d,u,p)&&h(),v3(f,a,s,n,c,d,l,p)&&h(),v3(f,a,s,n,c,d,u,p)&&h(),N3(f,a,s,n,l,u,c,p)&&h(),N3(f,a,s,n,l,u,d,p)&&h();for(let m=l;m<u;m++){const g=a.positionAt(m,c,s),y=a.positionAt(m,d,s);f.replace(f.mapping.slice(p).map(g+n),f.mapping.slice(p).map(y+n),new U(r.rows[m-l],0,0))}h(),f.setSelection(new Me(f.doc.resolve(n+a.positionAt(l,c,s)),f.doc.resolve(n+a.positionAt(u-1,d-1,s)))),e(f)}var bte=ap({ArrowLeft:nf("horiz",-1),ArrowRight:nf("horiz",1),ArrowUp:nf("vert",-1),ArrowDown:nf("vert",1),"Shift-ArrowLeft":of("horiz",-1),"Shift-ArrowRight":of("horiz",1),"Shift-ArrowUp":of("vert",-1),"Shift-ArrowDown":of("vert",1),Backspace:ef,"Mod-Backspace":ef,Delete:ef,"Mod-Delete":ef});function tf(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function nf(t,e){return(n,o,r)=>{if(!r)return!1;const s=n.selection;if(s instanceof Me)return tf(n,o,Z.near(s.$headCell,e));if(t!="horiz"&&!s.empty)return!1;const a=B3(r,t,e);if(a==null)return!1;if(t=="horiz")return tf(n,o,Z.near(n.doc.resolve(s.head+e),e));{const l=n.doc.resolve(a),c=w3(l,t,e);let d;return c?d=Z.near(c,1):e<0?d=Z.near(n.doc.resolve(l.before(-1)),-1):d=Z.near(n.doc.resolve(l.after(-1)),1),tf(n,o,d)}}}function of(t,e){return(n,o,r)=>{if(!r)return!1;const s=n.selection;let a;if(s instanceof Me)a=s;else{const c=B3(r,t,e);if(c==null)return!1;a=new Me(n.doc.resolve(c))}const l=w3(a.$headCell,t,e);return l?tf(n,o,new Me(a.$anchorCell,l)):!1}}function wte(t,e){const n=t.state.doc,o=ws(n.resolve(e));return o?(t.dispatch(t.state.tr.setSelection(new Me(o))),!0):!1}function Cte(t,e,n){if(!bn(t.state))return!1;let o=hte(n);const r=t.state.selection;if(r instanceof Me){o||(o={width:1,height:1,rows:[P.from(D1(ft(t.state.schema).cell,n))]});const s=r.$anchorCell.node(-1),a=r.$anchorCell.start(-1),l=Ue.get(s).rectBetween(r.$anchorCell.pos-a,r.$headCell.pos-a);return o=gte(o,l.right-l.left,l.bottom-l.top),I3(t.state,t.dispatch,a,l,o),!0}else if(o){const s=Qu(t.state),a=s.start(-1);return I3(t.state,t.dispatch,a,Ue.get(s.node(-1)).findCell(s.pos-a),o),!0}else return!1}function kte(t,e){var n;if(e.ctrlKey||e.metaKey)return;const o=R3(t,e.target);let r;if(e.shiftKey&&t.state.selection instanceof Me)s(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&o&&(r=ws(t.state.selection.$anchor))!=null&&((n=$1(t,e))==null?void 0:n.pos)!=r.pos)s(r,e),e.preventDefault();else if(!o)return;function s(c,d){let u=$1(t,d);const f=fr.getState(t.state)==null;if(!u||!P1(c,u))if(f)u=c;else return;const p=new Me(c,u);if(f||!t.state.selection.eq(p)){const h=t.state.tr.setSelection(p);f&&h.setMeta(fr,c.pos),t.dispatch(h)}}function a(){t.root.removeEventListener("mouseup",a),t.root.removeEventListener("dragstart",a),t.root.removeEventListener("mousemove",l),fr.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(fr,-1))}function l(c){const d=c,u=fr.getState(t.state);let f;if(u!=null)f=t.state.doc.resolve(u);else if(R3(t,d.target)!=o&&(f=$1(t,e),!f))return a();f&&s(f,d)}t.root.addEventListener("mouseup",a),t.root.addEventListener("dragstart",a),t.root.addEventListener("mousemove",l)}function B3(t,e,n){if(!(t.state.selection instanceof J))return null;const{$head:o}=t.state.selection;for(let r=o.depth-1;r>=0;r--){const s=o.node(r);if((n<0?o.index(r):o.indexAfter(r))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const l=o.before(r),c=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(c)?l:null}}return null}function R3(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function $1(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?ws(t.state.doc.resolve(n.pos)):null}var xte=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),L1(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,L1(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function L1(t,e,n,o,r,s){var a;let l=0,c=!0,d=e.firstChild;const u=t.firstChild;if(u){for(let f=0,p=0;f<u.childCount;f++){const{colspan:h,colwidth:m}=u.child(f).attrs;for(let g=0;g<h;g++,p++){const y=r==p?s:m&&m[g],b=y?y+"px":"";if(l+=y||o,y||(c=!1),d)d.style.width!=b&&(d.style.width=b),d=d.nextSibling;else{const C=document.createElement("col");C.style.width=b,e.appendChild(C)}}}for(;d;){const f=d.nextSibling;(a=d.parentNode)==null||a.removeChild(d),d=f}c?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}var Ht=new me("tableColumnResizing");function Ste({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:o=xte,lastColumnResizable:r=!0}={}){const s=new he({key:Ht,state:{init(a,l){var c,d;const u=(d=(c=s.spec)==null?void 0:c.props)==null?void 0:d.nodeViews,f=ft(l.schema).table.name;return o&&u&&(u[f]=(p,h)=>new o(p,n,h)),new Ete(-1,!1)},apply(a,l){return l.apply(a)}},props:{attributes:a=>{const l=Ht.getState(a);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,l)=>{_te(a,l,t,r)},mouseleave:a=>{Ate(a)},mousedown:(a,l)=>{Tte(a,l,e,n)}},decorations:a=>{const l=Ht.getState(a);if(l&&l.activeHandle>-1)return Ite(a,l.activeHandle)},nodeViews:{}}});return s}var Ete=class gf{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,o=e.getMeta(Ht);if(o&&o.setHandle!=null)return new gf(o.setHandle,!1);if(o&&o.setDragging!==void 0)return new gf(n.activeHandle,o.setDragging);if(n.activeHandle>-1&&e.docChanged){let r=e.mapping.map(n.activeHandle,-1);return R1(e.doc.resolve(r))||(r=-1),new gf(r,n.dragging)}return n}};function _te(t,e,n,o){if(!t.editable)return;const r=Ht.getState(t.state);if(r&&!r.dragging){const s=Ote(e.target);let a=-1;if(s){const{left:l,right:c}=s.getBoundingClientRect();e.clientX-l<=n?a=P3(t,e,"left",n):c-e.clientX<=n&&(a=P3(t,e,"right",n))}if(a!=r.activeHandle){if(!o&&a!==-1){const l=t.state.doc.resolve(a),c=l.node(-1),d=Ue.get(c),u=l.start(-1);if(d.colCount(l.pos-u)+l.nodeAfter.attrs.colspan-1==d.width-1)return}$3(t,a)}}}function Ate(t){if(!t.editable)return;const e=Ht.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&$3(t,-1)}function Tte(t,e,n,o){var r;if(!t.editable)return!1;const s=(r=t.dom.ownerDocument.defaultView)!=null?r:window,a=Ht.getState(t.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const l=t.state.doc.nodeAt(a.activeHandle),c=Mte(t,a.activeHandle,l.attrs);t.dispatch(t.state.tr.setMeta(Ht,{setDragging:{startX:e.clientX,startWidth:c}}));function d(f){s.removeEventListener("mouseup",d),s.removeEventListener("mousemove",u);const p=Ht.getState(t.state);p!=null&&p.dragging&&(vte(t,p.activeHandle,D3(p.dragging,f,n)),t.dispatch(t.state.tr.setMeta(Ht,{setDragging:null})))}function u(f){if(!f.which)return d(f);const p=Ht.getState(t.state);if(p&&p.dragging){const h=D3(p.dragging,f,n);L3(t,p.activeHandle,h,o)}}return L3(t,a.activeHandle,c,o),s.addEventListener("mouseup",d),s.addEventListener("mousemove",u),e.preventDefault(),!0}function Mte(t,e,{colspan:n,colwidth:o}){const r=o&&o[o.length-1];if(r)return r;const s=t.domAtPos(e);let l=s.node.childNodes[s.offset].offsetWidth,c=n;if(o)for(let d=0;d<n;d++)o[d]&&(l-=o[d],c--);return l/c}function Ote(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function P3(t,e,n,o){const r=n=="right"?-o:o,s=t.posAtCoords({left:e.clientX+r,top:e.clientY});if(!s)return-1;const{pos:a}=s,l=ws(t.state.doc.resolve(a));if(!l)return-1;if(n=="right")return l.pos;const c=Ue.get(l.node(-1)),d=l.start(-1),u=c.map.indexOf(l.pos-d);return u%c.width==0?-1:d+c.map[u-1]}function D3(t,e,n){const o=e.clientX-t.startX;return Math.max(n,t.startWidth+o)}function $3(t,e){t.dispatch(t.state.tr.setMeta(Ht,{setHandle:e}))}function vte(t,e,n){const o=t.state.doc.resolve(e),r=o.node(-1),s=Ue.get(r),a=o.start(-1),l=s.colCount(o.pos-a)+o.nodeAfter.attrs.colspan-1,c=t.state.tr;for(let d=0;d<s.height;d++){const u=d*s.width+l;if(d&&s.map[u]==s.map[u-s.width])continue;const f=s.map[u],p=r.nodeAt(f).attrs,h=p.colspan==1?0:l-s.colCount(f);if(p.colwidth&&p.colwidth[h]==n)continue;const m=p.colwidth?p.colwidth.slice():Nte(p.colspan);m[h]=n,c.setNodeMarkup(a+f,null,{...p,colwidth:m})}c.docChanged&&t.dispatch(c)}function L3(t,e,n,o){const r=t.state.doc.resolve(e),s=r.node(-1),a=r.start(-1),l=Ue.get(s).colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1;let c=t.domAtPos(r.start(-1)).node;for(;c&&c.nodeName!="TABLE";)c=c.parentNode;c&&L1(s,c.firstChild,c,o,l,n)}function Nte(t){return Array(t).fill(0)}function Ite(t,e){var n;const o=[],r=t.doc.resolve(e),s=r.node(-1);if(!s)return ue.empty;const a=Ue.get(s),l=r.start(-1),c=a.colCount(r.pos-l)+r.nodeAfter.attrs.colspan-1;for(let d=0;d<a.height;d++){const u=c+d*a.width;if((c==a.width-1||a.map[u]!=a.map[u+1])&&(d==0||a.map[u]!=a.map[u-a.width])){const f=a.map[u],p=l+f+s.nodeAt(f).nodeSize-1,h=document.createElement("div");h.className="column-resize-handle",(n=Ht.getState(t))!=null&&n.dragging&&o.push(Fe.node(l+f,l+f+s.nodeAt(f).nodeSize,{class:"column-resize-dragging"})),o.push(Fe.widget(p,h))}}return ue.create(t.doc,o)}function Bte({allowTableNodeSelection:t=!1}={}){return new he({key:fr,state:{init(){return null},apply(e,n){const o=e.getMeta(fr);if(o!=null)return o==-1?null:o;if(n==null||!e.docChanged)return n;const{deleted:r,pos:s}=e.mapping.mapResult(n);return r?null:s}},props:{decorations:Kee,handleDOMEvents:{mousedown:kte},createSelectionBetween(e){return fr.getState(e.state)!=null?e.state.selection:null},handleTripleClick:wte,handleKeyDown:bte,handlePaste:Cte},appendTransaction(e,n,o){return Yee(o,x3(o,n),t)}})}const Rte=(t,e,n)=>{if(!t.doc)return t;const o=t.doc.nodeAt(e);if(!o||n===o.attrs.backgroundColor)return t;const r={...o.attrs,backgroundColor:n};return t.setNodeMarkup(e,o.type,r,o.marks)},Pte=(t,e,n)=>{const{doc:o,selection:r}=t;return!o||!r||!(r instanceof Me)||r.forEachCell((s,a)=>{t=Rte(t,a,n)}),t},V3=(t,e)=>({tr:n,state:o,dispatch:r})=>{const{selection:s}=o;return n=n.setSelection(s),n=Pte(n,e,t),n.docChanged?(r==null||r(n),!0):!1},Dte=ae.create({name:"tableCellBackground",addOptions(){return{types:["tableCell"],HTMLAttributes:{}}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{parseHTML:t=>t.style.backgroundColor||"",renderHTML:t=>!t.backgroundColor||t.backgroundColor===""?{}:{style:`background-color: ${t.backgroundColor}`}}}}]},addCommands(){return{setTableCellBackground:t=>V3(t,this.options),unsetTableCellBackground:()=>V3("",this.options)}}}),$te=ve.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(o=>parseInt(o,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",ge(this.options.HTMLAttributes,t),0]}}),Lte=ve.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",ge(this.options.HTMLAttributes,t),0]}}),Vte=ve.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(o=>parseInt(o,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",ge(this.options.HTMLAttributes,t),0]}});function V1(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function F3(t,e,n,o,r,s){var a;let l=0,c=!0,d=e.firstChild;const u=t.firstChild;if(u!==null)for(let f=0,p=0;f<u.childCount;f+=1){const{colspan:h,colwidth:m}=u.child(f).attrs;for(let g=0;g<h;g+=1,p+=1){const y=r===p?s:m&&m[g],b=y?`${y}px`:"";if(l+=y||o,y||(c=!1),d){if(d.style.width!==b){const[C,k]=V1(o,y);d.style.setProperty(C,k)}d=d.nextSibling}else{const C=document.createElement("col"),[k,w]=V1(o,y);C.style.setProperty(k,w),e.appendChild(C)}}}for(;d;){const f=d.nextSibling;(a=d.parentNode)===null||a===void 0||a.removeChild(d),d=f}c?(n.style.width=`${l}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${l}px`)}class Fte{constructor(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),F3(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,F3(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}function zte(t,e,n,o){let r=0,s=!0;const a=[],l=t.firstChild;if(!l)return{};for(let f=0,p=0;f<l.childCount;f+=1){const{colspan:h,colwidth:m}=l.child(f).attrs;for(let g=0;g<h;g+=1,p+=1){const y=n===p?o:m&&m[g];r+=y||e,y||(s=!1);const[b,C]=V1(e,y);a.push(["col",{style:`${b}: ${C}`}])}}const c=s?`${r}px`:"",d=s?"":`${r}px`;return{colgroup:["colgroup",{},...a],tableWidth:c,tableMinWidth:d}}function z3(t,e){return t.createAndFill()}function Hte(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const o=t.nodes[n];o.spec.tableRole&&(e[o.spec.tableRole]=o)}),t.cached.tableNodeTypes=e,e}function Ute(t,e,n,o,r){const s=Hte(t),a=[],l=[];for(let d=0;d<n;d+=1){const u=z3(s.cell);if(u&&l.push(u),o){const f=z3(s.header_cell);f&&a.push(f)}}const c=[];for(let d=0;d<e;d+=1)c.push(s.row.createChecked(null,o&&d===0?a:l));return s.table.createChecked(null,c)}function jte(t){return t instanceof Me}const rf=({editor:t})=>{const{selection:e}=t.state;if(!jte(e))return!1;let n=0;const o=Nb(e.ranges[0].$from,s=>s.type.name==="table");return o==null||o.node.descendants(s=>{if(s.type.name==="table")return!1;["tableCell","tableHeader"].includes(s.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},Wte=ve.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:Fte,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:o,tableMinWidth:r}=zte(t,this.options.cellMinWidth);return["table",ge(this.options.HTMLAttributes,e,{style:o?`width: ${o}`:`min-width: ${r}`}),n,["tbody",0]]},addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:o,dispatch:r,editor:s})=>{const a=Ute(s.schema,t,e,n);if(r){const l=o.selection.from+1;o.replaceSelectionWith(a).scrollIntoView().setSelection(J.near(o.doc.resolve(l)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>Zee(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>Qee(t,e),deleteColumn:()=>({state:t,dispatch:e})=>tte(t,e),addRowBefore:()=>({state:t,dispatch:e})=>ote(t,e),addRowAfter:()=>({state:t,dispatch:e})=>rte(t,e),deleteRow:()=>({state:t,dispatch:e})=>ste(t,e),deleteTable:()=>({state:t,dispatch:e})=>pte(t,e),mergeCells:()=>({state:t,dispatch:e})=>A3(t,e),splitCell:()=>({state:t,dispatch:e})=>T3(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>ml("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>ml("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>ute(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>A3(t,e)?!0:T3(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:o})=>cte(t,e)(n,o),goToNextCell:()=>({state:t,dispatch:e})=>O3(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>O3(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&x3(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const o=Me.create(e.doc,t.anchorCell,t.headCell);e.setSelection(o)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:rf,"Mod-Backspace":rf,Delete:rf,"Mod-Delete":rf}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[Ste({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],Bte({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:se(G(t,"tableRole",e))}}}),Kte=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,Gte=/CrOS/,qte=/android|ipad|playbook|silk/i;function H3(t={}){let e=t.ua||typeof navigator<"u"&&navigator.userAgent;return e&&typeof e=="object"&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),typeof e!="string"?!1:!!(Kte.test(e)&&!Gte.test(e)||t.tablet&&qte.test(e)||t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&e.includes("Macintosh")&&e.includes("Safari"))}const Yte=["disabled"],Jte={"content-class":"table-grid-size-editor","content-style":"padding:0"},Xte={class:"flex flex-col flex-wrap gap-1 justify-between"},Zte=["onMouseover","onMousedown"],Qte={class:"text-center text-sm text-zinc-600 mt-2"},ene=i.defineComponent({__name:"CreateTablePopover",props:{disabled:{default:!1}},emits:["create-table"],setup(t,{emit:e}){const n=e,o=i.ref(!1),r=i.ref(!0),s=i.reactive({rows:H3()?hc:pc,cols:H3()?hc:pc}),a=i.reactive({rows:mc,cols:mc});function l(u,f){u===s.rows&&(s.rows=Math.min(u+1,hc)),f===s.cols&&(s.cols=Math.min(f+1,hc)),a.rows=u,a.cols=f}function c(u,f){n("create-table",{rows:u,cols:f,withHeaderRow:i.unref(r)}),d()}function d(){o.value=!1,r.value=!1,s.rows=pc,s.cols=pc,a.rows=mc,a.cols=mc}return(u,f)=>(i.openBlock(),i.createBlock(i.unref(Yo),null,{default:i.withCtx(()=>[i.createVNode(i.unref(Xo),{"as-child":""},{default:i.withCtx(()=>[i.createElementVNode("button",{disabled:t.disabled,class:"m-0 p-0"},[i.renderSlot(u.$slots,"trigger")],8,Yte)]),_:3}),i.createVNode(i.unref(Jo),{class:"w-full",align:"start",side:"bottom"},{default:i.withCtx(()=>[i.createElementVNode("div",Jte,[i.createElementVNode("div",Xte,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(s.rows,p=>(i.openBlock(),i.createElementBlock("div",{key:"r"+p,class:"flex gap-1"},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(s.cols,h=>(i.openBlock(),i.createElementBlock("div",{key:"c"+h,class:i.normalizeClass([[h<=a.cols&&p<=a.rows&&"bg-foreground border-border","cursor-pointer"],"pa-1"]),onMouseover:m=>l(p,h),onMousedown:m=>c(p,h)},f[0]||(f[0]=[i.createElementVNode("div",{class:"w-4 h-4 p-1 border box-border"},null,-1)]),42,Zte))),128))]))),128))]),i.createElementVNode("div",Qte,i.toDisplayString(a.rows)+" x "+i.toDisplayString(a.cols),1)])]),_:1})]),_:3}))}}),tne={style:{display:"flex"}},nne=i.defineComponent({__name:"TableActionButton",props:{editor:{},icon:{default:void 0},tooltip:{default:void 0},disabled:{type:Boolean,default:!1},color:{default:void 0},action:{type:Function,default:void 0},isActive:{type:Function,default:void 0}},setup(t){const e=t;function n(o){e.disabled||e.editor.chain().focus().insertTable({...o,withHeaderRow:!1}).run()}return(o,r)=>(i.openBlock(),i.createBlock(ene,{onCreateTable:n,disabled:o.disabled},{trigger:i.withCtx(()=>[i.createElementVNode("div",tne,[i.createVNode(ee,{icon:o.icon,tooltip:o.tooltip,disabled:o.disabled,color:o.color,action:o.action,"is-active":o.isActive},null,8,["icon","tooltip","disabled","color","action","is-active"])])]),_:1},8,["disabled"]))}}),one=Wte.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),resizable:!0,lastColumnResizable:!0,allowTableNodeSelection:!1,button:({editor:e,t:n})=>({component:nne,componentProps:{disabled:!e.isEditable||e.isActive("table")||!1,icon:"Table",tooltip:n("editor.table.tooltip")}})}},addExtensions(){return[Lte.configure(this.options.tableRow),$te.configure(this.options.tableHeader),Vte.configure(this.options.tableCell),Dte.configure(this.options.tableCellBackground)]}}),rne=i.defineComponent({__name:"AIButton",props:{editor:{},icon:{default:void 0},title:{default:void 0},tooltip:{default:void 0},disabled:{type:Boolean,default:!1},shortcutKeys:{default:void 0},customClass:{default:""},loading:{type:Boolean,default:!1},tooltipOptions:{default:void 0},color:{default:void 0},action:{type:Function,default:void 0},isActive:{type:Function,default:void 0}},setup(t){const e=t,n=Pt(),{toast:o}=as();function r(){var a,l,c;const s=(l=(a=e.editor.extensionManager.extensions.find(d=>d.name==="AI"))==null?void 0:a.options)==null?void 0:l.completions;if(typeof s!="function"){o({title:"AI completions method is not set or is not a valid function",variant:"destructive"});return}if(s.constructor.name!=="AsyncFunction"){o({title:"AI completions method must be an asynchronous function",variant:"destructive"});return}n.state.AIMenu=!0,(c=e.editor)==null||c.commands.focus()}return(s,a)=>(i.openBlock(),i.createBlock(ee,{action:r,title:"AI",disabled:s.disabled,icon:s.icon,tooltip:s.tooltip},null,8,["disabled","icon","tooltip"]))}}),ine=ve.create({name:"AI",group:"block",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),toolbar:!1,button:({editor:e,t:n})=>({component:rne,componentProps:{icon:"Sparkles",tooltip:n("editor.AI.ask")}})}}}),sne=ae.create({name:"painter",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,extension:n,t:o})=>({component:ee,componentProps:{action:()=>{e.commands.setPainter(e==null?void 0:e.state.selection.$head.marks())},icon:"PaintRoller",tooltip:o("editor.format")}})}},addCommands(){return{setPainter:t=>({view:{dispatch:e,state:{tr:n},dom:o}})=>{const a=`url("data:image/svg+xml;utf8,${encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#000" d="M9 22v-6H4V7q0-1.65 1.175-2.825T8 3h12v13h-5v6zM6 10h12V5h-1v4h-2V5h-1v2h-2V5H8q-.825 0-1.412.588T6 7zm0 4h12v-2H6zm0 0v-2z"/></svg>')}"), auto`;return o.style.cursor=a,e(n.setMeta("painterAction",{type:"start",marks:t})),!0}}},addProseMirrorPlugins(){return[new he({key:new me("format-painter"),state:{init:()=>[],apply:(t,e)=>{const n=t.getMeta("painterAction");return n&&n.type==="start"?e=n.marks:n&&n.type==="end"&&(e=[]),e}},props:{handleDOMEvents:{mousedown(t,e){const n=this.getState(t.state);if(!n||n.length==0)return t.dom.style.cursor="",!1;const o=()=>{document.removeEventListener("mouseup",o);let{dispatch:r,state:{tr:s,selection:a},dom:l}=t;l.style.cursor="",s=s.removeMark(a.from,a.to);for(let c of n)c.type.name!="link"&&(s=s.addMark(a.from,a.to,c));r(s.setMeta("painterAction",{type:"end"}))};return document.addEventListener("mouseup",o),!0}}}})]}});function ane(t,e){const n=atob(t.split(",")[1]),o=new Array(n.length);for(let s=0;s<n.length;s++)o[s]=n.charCodeAt(s);const r=new Uint8Array(o);return new Blob([r],{type:e})}function lne(t,e){return new File([t],e,{type:t.type})}const cne=ae.create({name:"importWord",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),upload:void 0,convert:void 0,limit:1024*1024*10,button:({editor:e,extension:n,t:o})=>({component:ee,componentProps:{action:()=>{var r;return(r=e.commands)==null?void 0:r.toggleImportWord()},disabled:!e.can().setHorizontalRule(),icon:"Word",tooltip:o("editor.importWord.tooltip")}})}},addCommands(){return{toggleImportWord:()=>({chain:t,editor:e})=>{const{toast:n}=as(),{t:o}=Ee();async function r(c){var h;const u=new DOMParser().parseFromString(c,"text/html"),f=u.querySelectorAll("img");if(!f.length)return u.body.innerHTML;if(we(e,"image")){const m=(h=e.extensionManager.extensions.find(g=>g.name==="importWord"))==null?void 0:h.options;if(m&&typeof m.upload=="function"){const g=[];for(let b of f){const C=b.getAttribute("src"),k=ane(C,"image/jpeg"),w=lne(k,"image.jpeg");g.push(w)}const y=await m.upload(g);for(let b=0;b<f.length;b++){const C=f[b];C.setAttribute("src",y[b].src);const k=C.parentElement;(k==null?void 0:k.tagName)==="P"&&(k.insertAdjacentElement("beforebegin",C),!k.hasChildNodes()&&k.textContent===""&&k.remove())}return u.body.innerHTML}else return console.warn("Image Upload method found, skip image conversion"),u.body.innerHTML}else return console.error("Image extension not found, unable to convert image"),u.body.innerHTML}async function s(c){const d=await r(c);e.chain().setContent(d.toString(),!0).run(),n({title:o.value("editor.importWord.success")})}const{open:a,onChange:l}=F9({accept:".docx",reset:!0,multiple:!1});return a(),l(async c=>{const[d]=Array.from(c??[]);if(d){if(d.size>this.options.limit){n({title:o.value("editor.importWord.fileTooLarge"),variant:"destructive"});return}if(this.options.convert){const u=await this.options.convert(d);s(u)}else{const u=new FormData,f=JSON.stringify({collaboration_features:{comments:!0,user_id:"e3",track_changes:!0},formatting:{resets:"none",defaults:"inline",styles:"inline",comments:"basic"}});u.append("config",f),u.append("file",d),fetch("https://docx-converter.cke-cs.com/v2/convert/docx-html",{method:"POST",body:u}).then(p=>p.json()).then(async p=>{s(p.html)}).catch(p=>{n({title:o.value("editor.importWord.error"),variant:"destructive"}),console.error("Error:",p)})}}}),!1}}}}),sf=i.defineComponent({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=i.computed(()=>{const{class:o,...r}=e;return r});return(o,r)=>(i.openBlock(),i.createBlock(i.unref(pj),i.mergeProps({class:i.unref(ne)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e.class)},n.value),{default:i.withCtx(()=>[i.renderSlot(o.$slots,"default")]),_:3},16,["class"]))}}),Cs=new me("upload-image"),dne=()=>new he({key:Cs,state:{init(){return ue.empty},apply(t,e){e=e.map(t.mapping,t.doc);const n=t.getMeta(Cs);return n!=null&&n.add?n.add.forEach(({id:o,pos:r,src:s})=>{const a=une(s),l=Fe.widget(r,a,{id:o});e=e.add(t.doc,[l])}):n!=null&&n.remove&&n.remove.forEach(o=>{e=e.remove(e.find(void 0,void 0,r=>r.id===o))}),e}},props:{decorations(t){return this.getState(t)}}});function une(t){const e=document.createElement("div"),n=document.createElement("img");return n.setAttribute("class","opacity-50"),n.src=t,n.onload=()=>{e.setAttribute("class","img-placeholder")},e.appendChild(n),e}function fne(t,e){var r;const o=Cs.getState(t).find(void 0,void 0,s=>s.id===e);return o.length?(r=o[0])==null?void 0:r.from:null}const U3=({validateFn:t,onUpload:e})=>(n,o,r)=>{n.forEach(s=>{if(t&&!t(s))return;const a=Date.now().toString(),l=o.state.tr;l.selection.empty||l.deleteSelection();const c=URL.createObjectURL(s);l.setMeta(Cs,{add:[{id:a,pos:r,src:c}]}),o.dispatch(l),e(s).then(d=>{var g;const{schema:u}=o.state,f=fne(o.state,a);if(f===null)return;const p=typeof d=="object"?c:d,h=(g=u.nodes.image)==null?void 0:g.create({src:p});if(!h)return;const m=o.state.tr.replaceWith(f,f,h).setMeta(Cs,{remove:[a]});o.dispatch(m)},()=>{const d=o.state.tr.delete(r,r).setMeta(Cs,{remove:[a]});o.dispatch(d)})})},pne=(t,e,n)=>{var r;const o=Array.from(((r=e.clipboardData)==null?void 0:r.files)||[]);if(o.length){e.preventDefault();const s=t.state.selection.from;return n(o,t,s+1),!0}return!1},hne=(t,e,n,o)=>{var s;const r=Array.from(((s=e.dataTransfer)==null?void 0:s.files)||[]);if(!n&&r.length){e.preventDefault();const a=t.posAtCoords({left:e.clientX,top:e.clientY});if(a)return o(r,t,a.pos+1),!0}return!1},mne={class:"flex items-center w-full p-3 my-3 hover:bg-accent border border-border text-muted-foreground cursor-pointer rounded-sm transition-all"},gne={class:"flex justify-between items-center w-full"},yne={class:"flex justify-center items-center gap-3"},bne={class:"text-sm"},wne={class:"flex items-center gap-2"},Cne=i.defineComponent({__name:"ImageUploader",props:{...na},setup(t){const e=t,n=i.ref(""),o=i.ref(),{t:r}=Ee();function s(d){var m,g;const u=(m=d==null?void 0:d.target)==null?void 0:m.files;if(!e.editor||e.editor.isDestroyed||u.length===0)return;const f=u[0],p=(g=e.editor.extensionManager.extensions.find(y=>y.name==="imageUpload"))==null?void 0:g.options;U3({validateFn:y=>!0,onUpload:p.upload})([f],e.editor.view,e.getPos())}function a(){e.editor.chain().setImage({src:n.value}).deleteRange({from:e.getPos(),to:e.getPos()}).focus().run()}function l(){e.deleteNode()}function c(){var d;(d=o.value)==null||d.click()}return(d,u)=>(i.openBlock(),i.createBlock(i.unref(ta),{class:"p-0 m-0","data-drag-handle":""},{default:i.withCtx(()=>[i.createVNode(i.unref(Yo),{defaultOpen:""},{default:i.withCtx(()=>[i.createVNode(i.unref(Xo),{"as-child":""},{default:i.withCtx(()=>[i.createElementVNode("div",mne,[i.createElementVNode("div",gne,[i.createElementVNode("div",yne,[i.createVNode(i.unref(oe),{name:"ImageUp",class:"w-6 h-6"}),i.createElementVNode("span",bne,i.toDisplayString(i.unref(r)("editor.image.dialog.title")),1)]),i.createVNode(i.unref(oe),{name:"Trash2",class:"hover:text-foreground",onClick:i.withModifiers(l,["stop"])})])])]),_:1}),i.createVNode(i.unref(Jo),{trapFocus:"",class:"w-full",onOpenAutoFocus:f=>f.preventDefault()},{default:i.withCtx(()=>[i.createVNode(i.unref(Cg),{"default-value":"upload",class:"w-[400px]",activationMode:"manual"},{default:i.withCtx(()=>[i.createVNode(i.unref(kg),{class:"grid w-full grid-cols-2"},{default:i.withCtx(()=>[i.createVNode(i.unref(Xa),{value:"upload"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(r)("editor.image.dialog.tab.upload")),1)]),_:1}),i.createVNode(i.unref(Xa),{value:"link"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(r)("editor.image.dialog.tab.url")),1)]),_:1})]),_:1}),i.createVNode(i.unref(sf),{value:"upload"},{default:i.withCtx(()=>[i.createVNode(i.unref(it),{class:"w-full mt-1",size:"sm",onClick:c},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(r)("editor.image.dialog.tab.upload")),1)]),_:1}),i.createElementVNode("input",{type:"file",accept:"image/*",ref_key:"fileInput",ref:o,multiple:"",style:{display:"none"},onChange:s},null,544)]),_:1}),i.createVNode(i.unref(sf),{value:"link"},{default:i.withCtx(()=>[i.createElementVNode("form",{onSubmit:i.withModifiers(a,["prevent"])},[i.createElementVNode("div",wne,[i.createVNode(i.unref(qo),{type:"url",autofocus:"",required:"",modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=f=>n.value=f),placeholder:i.unref(r)("editor.image.dialog.placeholder")},null,8,["modelValue","placeholder"]),i.createVNode(i.unref(it),{type:"submit"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(r)("editor.image.dialog.button.apply")),1)]),_:1})])],32)]),_:1})]),_:1})]),_:1},8,["onOpenAutoFocus"])]),_:1})]),_:1}))}}),kne={acceptMimes:["image/jpeg","image/gif","image/png","image/jpg"],maxSize:1024*1024*5},xne=t=>`${(t/1024/1024).toFixed(2)}MB`,Sne=ve.create({name:"imageUpload",isolating:!0,defining:!0,group:"block",draggable:!1,selectable:!0,inline:!1,onCreate(){if(typeof this.options.upload!="function")throw new Error("Image upload function should be a function")},parseHTML(){return[{tag:`div[data-type="${this.name}"]`}]},renderHTML(){return["div",{"data-type":this.name}]},addCommands(){return{setImageUpload:()=>({commands:t})=>t.insertContent(`<div data-type="${this.name}"></div>`)}},addNodeView(){return oa(Cne)},addOptions(){var t;return{...kne,...(t=this.parent)==null?void 0:t.call(this),upload:()=>Promise.reject("Image Upload Function"),button:({editor:e,extension:n,t:o})=>({component:ee,componentProps:{action:()=>e==null?void 0:e.chain().setImageUpload().run(),disabled:!(e!=null&&e.isEditable)||!e.can().setImage({}),icon:"ImageUp",tooltip:o("editor.image.tooltip")}})}},addProseMirrorPlugins(){const{toast:t}=as(),{t:e}=Ee(),o=U3({validateFn:r=>this.options.acceptMimes.includes(r.type)?r.size>this.options.maxSize?(t({description:`${e.value("editor.imageUpload.fileSizeTooBig")} ${xne(this.options.maxSize)}.`,duration:2e3}),!1):!0:(t({description:e.value("editor.imageUpload.fileTypeNotSupported"),duration:2e3}),!1),onUpload:this.options.upload});return[new he({props:{handlePaste:(r,s)=>!s.clipboardData||Array.from(s.clipboardData.items||[]).some(l=>l.type==="text/html")?!1:pne(r,s,o),handleDrop:(r,s,a,l)=>(!(s instanceof DragEvent)||!s.dataTransfer||hne(r,s,l,o),!1)}}),dne()]}}),Ene={class:"flex items-center w-full p-3 my-3 hover:bg-accent border border-border text-muted-foreground cursor-pointer rounded-sm transition-all"},_ne={key:0,class:"flex justify-center items-center gap-3 text-s"},Ane={key:1,class:"flex justify-between items-center w-full"},Tne={class:"flex justify-center items-center gap-3"},Mne={class:"text-sm"},One={class:"flex items-center gap-2"},vne=i.defineComponent({__name:"VideoUploader",props:{...na},setup(t){const e=t,n=i.ref(""),o=i.ref(!1),r=i.ref(),{t:s}=Ee();function a(u){var m,g;o.value=!0;const f=(m=u==null?void 0:u.target)==null?void 0:m.files;if(!e.editor||e.editor.isDestroyed||f.length===0)return;const p=f[0],h=(g=e.editor.extensionManager.extensions.find(y=>y.name==="videoUpload"))==null?void 0:g.options;h==null||h.upload([p]).then(y=>{e.editor.chain().setVideo({src:y[0].src,width:"100%"}).deleteRange({from:e.getPos(),to:e.getPos()}).run(),o.value=!1})}function l(){e.editor.chain().setVideo({src:n.value,width:"100%"}).deleteRange({from:e.getPos(),to:e.getPos()}).run()}function c(){e.deleteNode()}function d(){var u;(u=r.value)==null||u.click()}return(u,f)=>(i.openBlock(),i.createBlock(i.unref(ta),{as:"div","data-drag-handle":""},{default:i.withCtx(()=>[i.createVNode(i.unref(Yo),{defaultOpen:""},{default:i.withCtx(()=>[i.createVNode(i.unref(Xo),{"as-child":""},{default:i.withCtx(()=>[i.createElementVNode("div",Ene,[o.value?(i.openBlock(),i.createElementBlock("div",_ne,[i.createVNode(i.unref(oe),{class:"animate-spin w-6 h-6",name:"LoaderCircle"}),i.createElementVNode("span",null,i.toDisplayString(i.unref(s)("editor.video.dialog.uploading"))+"...",1)])):(i.openBlock(),i.createElementBlock("div",Ane,[i.createElementVNode("div",Tne,[i.createVNode(i.unref(oe),{name:"Video",class:"w-6 h-6"}),i.createElementVNode("span",Mne,i.toDisplayString(i.unref(s)("editor.video.dialog.title")),1)]),i.createVNode(i.unref(oe),{name:"Trash2",class:"hover:text-foreground",onClick:i.withModifiers(c,["stop"])})]))])]),_:1}),i.createVNode(i.unref(Jo),{trapFocus:"",class:"w-full",onOpenAutoFocus:p=>p.preventDefault()},{default:i.withCtx(()=>[i.createVNode(i.unref(Cg),{"default-value":"upload",class:"w-[400px]",activationMode:"manual"},{default:i.withCtx(()=>[i.createVNode(i.unref(kg),{class:"grid w-full grid-cols-2"},{default:i.withCtx(()=>[i.createVNode(i.unref(Xa),{value:"upload"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(s)("editor.video.dialog.tab.upload")),1)]),_:1}),i.createVNode(i.unref(Xa),{value:"link"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(s)("editor.video.dialog.link")),1)]),_:1})]),_:1}),i.createVNode(i.unref(sf),{value:"upload"},{default:i.withCtx(()=>[i.createVNode(i.unref(it),{class:"w-full mt-1",size:"sm",onClick:d},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(s)("editor.video.dialog.tab.upload")),1)]),_:1}),i.createElementVNode("input",{type:"file",accept:"video/*",ref_key:"fileInput",ref:r,multiple:"",style:{display:"none"},onChange:a},null,544)]),_:1}),i.createVNode(i.unref(sf),{value:"link"},{default:i.withCtx(()=>[i.createElementVNode("form",{onSubmit:i.withModifiers(l,["prevent"])},[i.createElementVNode("div",One,[i.createVNode(i.unref(qo),{type:"url",autofocus:"",required:"",modelValue:n.value,"onUpdate:modelValue":f[0]||(f[0]=p=>n.value=p),placeholder:i.unref(s)("editor.video.dialog.placeholder")},null,8,["modelValue","placeholder"]),i.createVNode(i.unref(it),{type:"submit"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(i.unref(s)("editor.video.dialog.button.apply")),1)]),_:1})])],32)]),_:1})]),_:1})]),_:1},8,["onOpenAutoFocus"])]),_:1})]),_:1}))}}),Nne=ve.create({name:"videoUpload",isolating:!0,defining:!0,group:"block",draggable:!0,selectable:!0,inline:!1,parseHTML(){return[{tag:`div[data-type="${this.name}"]`}]},renderHTML(){return["div",{"data-type":this.name}]},addCommands(){return{setVideoUpload:()=>({commands:t})=>t.insertContent(`<div data-type="${this.name}"></div>`)}},addNodeView(){return oa(vne)},addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),upload:void 0,button:({editor:e,t:n})=>({component:ee,componentProps:{action:()=>e.chain().setVideoUpload().run(),isActive:()=>e.isActive("video")||!1,disabled:!e.isEditable||!e.can().setVideo({}),icon:"Video",tooltip:n("editor.video.tooltip")}})}}}),Ine=ae.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),Bne=["data-font"],Rne=i.defineComponent({__name:"FontFamilyMenuButton",props:{editor:{},disabled:{type:Boolean,default:!1},color:{default:void 0},shortcutKeys:{default:void 0},maxHeight:{default:void 0},tooltip:{default:""},items:{default:()=>[]}},setup(t){const e=t,{t:n}=Ee(),o=i.computed(()=>{const a=e.editor.extensionManager.extensions.find(c=>c.name==="fontFamily").options;return{[n.value("editor.fontFamily.default")]:n.value("editor.fontFamily.default"),...a.fontFamilyMap}}),r=i.computed(()=>wp(e.editor.state,"textStyle").fontFamily||n.value("editor.fontFamily.default"));function s(a){var l,c;a===r.value?(l=e.editor)==null||l.chain().unsetFontFamily().focus().run():(c=e.editor)==null||c.chain().setFontFamily(a).focus().run()}return(a,l)=>(i.openBlock(),i.createBlock(Yr,{disabled:a.disabled,tooltip:a.tooltip,title:r.value,btn_class:"min-w-24 max-w-32"},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(o.value,(c,d)=>(i.openBlock(),i.createElementBlock(i.Fragment,{key:d},[i.createVNode(i.unref(ss),{"model-value":r.value===c,onClick:u=>s(c)},{default:i.withCtx(()=>[i.createElementVNode("span",{class:"ml-1 h-full","data-font":c,style:i.normalizeStyle({fontFamily:c??void 0})},i.toDisplayString(c),13,Bne)]),_:2},1032,["model-value","onClick"]),c===i.unref(n)("editor.fontFamily.default")?(i.openBlock(),i.createBlock(i.unref(xg),{key:0})):i.createCommentVNode("",!0)],64))),128))]),_:1},8,["disabled","tooltip","title"]))}}),Pne=Ine.extend({name:"fontFamily",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),types:["textStyle"],fontFamilyMap:x5,button({editor:e,extension:n,t:o}){return{component:Rne,componentProps:{editor:e,disabled:!(e!=null&&e.isEditable)||!e.can().setFontFamily(""),tooltip:o("editor.fontFamily.tooltip")}}}}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily.replace(/['"]/g,""),renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),F1=Pt(),Dne=ae.create({name:"preview",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({t:e})=>({component:ee,componentProps:{icon:"Eye",action:()=>{F1.togglePreview()},tooltip:e("editor.preview.tooltip"),isActive:()=>F1.state.showPreview}})}},addCommands(){return{togglePreview:()=>({editor:t})=>(F1.togglePreview(),!0)}}}),j3=Pt(),$ne=(t,e,n)=>RegExp(e?t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):t,n?"gu":"gui");function Lne(t,e,n,o){const r=[],s=[];let a=[],l=0;if(!e)return{decorationsToReturn:ue.empty,results:[]};t==null||t.descendants((c,d)=>{c.isText?a[l]?a[l]={text:a[l].text+c.text,pos:a[l].pos}:a[l]={text:`${c.text}`,pos:d}:l+=1}),a=a.filter(Boolean);for(const c of a){const{text:d,pos:u}=c,f=Array.from(d.matchAll(e)).filter(([p])=>p.trim());for(const p of f){if(p[0]==="")break;p.index!==void 0&&s.push({from:u+p.index,to:u+p.index+p[0].length})}}for(let c=0;c<s.length;c+=1){const d=s[c],u=c===o?`${n} ${n}-current`:n,f=Fe.inline(d.from,d.to,{class:u});r.push(f)}return{decorationsToReturn:ue.create(t,r),results:s}}const Vne=(t,e,{state:n,dispatch:o})=>{if(!e[0])return;const{from:s,to:a}=e[0];o&&o(n.tr.insertText(t,s,a))},Fne=(t,e,n,o)=>{const r=e+1;if(!o[r])return null;const{from:s,to:a}=o[e],l=a-s-t.length+n,{from:c,to:d}=o[r];return o[r]={to:d-l,from:c-l},[l,o]},zne=(t,e,{tr:n,dispatch:o})=>{let r=0,s=e.slice();if(s.length){for(let a=0;a<s.length;a+=1){const{from:l,to:c}=s[a];n.insertText(t,l,c);const d=Fne(t,a,r,s);d&&(r=d[0],s=d[1])}o&&o(n)}},Hne=new me("findAndReplacePlugin"),Une=ae.create({name:"findAndReplace",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),searchResultClass:"echo-editor-search-result",disableRegex:!0,button:({editor:e,extension:n,t:o})=>({component:ee,componentProps:{icon:"DocSearch",tooltip:o("editor.findAndReplace.tooltip"),shortcutKeys:["mod","F"],action:()=>{j3.toggleFindAndReplace()},isActive:()=>j3.state.findAndReplace}})}},addStorage(){return{searchTerm:"",replaceTerm:"",results:[],lastSearchTerm:"",caseSensitive:!1,lastCaseSensitive:!1,resultIndex:0,lastResultIndex:0}},addCommands(){return{setSearchTerm:t=>({editor:e})=>(e.storage.findAndReplace.searchTerm=t,!1),setReplaceTerm:t=>({editor:e})=>(e.storage.findAndReplace.replaceTerm=t,!1),setCaseSensitive:t=>({editor:e})=>(e.storage.findAndReplace.caseSensitive=t,!1),resetIndex:()=>({editor:t})=>(t.storage.findAndReplace.resultIndex=0,!1),nextSearchResult:()=>({editor:t})=>{const{results:e,resultIndex:n}=t.storage.findAndReplace,o=n+1;return e[o]?t.storage.findAndReplace.resultIndex=o:t.storage.findAndReplace.resultIndex=0,!1},previousSearchResult:()=>({editor:t})=>{const{results:e,resultIndex:n}=t.storage.findAndReplace,o=n-1;return e[o]?t.storage.findAndReplace.resultIndex=o:t.storage.findAndReplace.resultIndex=e.length-1,!1},replace:()=>({editor:t,state:e,dispatch:n})=>{const{replaceTerm:o,results:r}=t.storage.findAndReplace;return Vne(o,r,{state:e,dispatch:n}),!1},replaceAll:()=>({editor:t,tr:e,dispatch:n})=>{const{replaceTerm:o,results:r}=t.storage.findAndReplace;return zne(o,r,{tr:e,dispatch:n}),!1}}},addProseMirrorPlugins(){const t=this.editor,{searchResultClass:e,disableRegex:n}=this.options,o=a=>t.storage.findAndReplace.lastSearchTerm=a,r=a=>t.storage.findAndReplace.lastCaseSensitive=a,s=a=>t.storage.findAndReplace.lastResultIndex=a;return[new he({key:Hne,state:{init:()=>ue.empty,apply({doc:a,docChanged:l},c){const{searchTerm:d,lastSearchTerm:u,caseSensitive:f,lastCaseSensitive:p,resultIndex:h,lastResultIndex:m}=t.storage.findAndReplace;if(!l&&u===d&&p===f&&m===h)return c;if(o(d),r(f),s(h),!d)return t.storage.findAndReplace.results=[],ue.empty;const{decorationsToReturn:g,results:y}=Lne(a,$ne(d,n,f),e,h);return t.storage.findAndReplace.results=y,g}},props:{decorations(a){return this.getState(a)}}})]}}),{togglePrinter:jne,state:Wne}=Pt(),Kne=ae.create({name:"printer",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,extension:n,t:o})=>({component:ee,componentProps:{tooltip:o("editor.printer.tooltip"),action:()=>jne(),icon:"Printer",shortcutKeys:["mod","P"],isActive:()=>Wne.printer}})}}}),Gne={key:0,class:"flex flex-row relative items-center"},qne={class:"flex gap-2 absolute right-1 w-36"},Yne=["src"],Jne=i.defineComponent({__name:"IframeNodeView",props:{...na},setup(t){const e=t,n=i.ref(""),o=i.computed({get:()=>e.node.attrs.src,set:a=>{n.value=a,e.updateAttributes({src:a})}});function r(){let a=b3(e.node.attrs.service,n.value);a.validLink&&a.validId?o.value=a.src:console.log("")}function s(){const a=yee(e.node.attrs.service);if(a){let l=b3(e.node.attrs.service,a);o.value=l.src}}return i.onMounted(()=>{n.value=e.node.attrs.src}),(a,l)=>(i.openBlock(),i.createBlock(i.unref(ta),{as:"section"},{default:i.withCtx(()=>[o.value?i.createCommentVNode("",!0):(i.openBlock(),i.createElementBlock("div",Gne,[i.createVNode(i.unref(qo),{"model-value":n.value,"onUpdate:modelValue":l[0]||(l[0]=c=>n.value=c),type:"url",class:"h-12 pr-40",autofocus:"",placeholder:""},null,8,["model-value"]),i.createElementVNode("div",qne,[i.createVNode(i.unref(it),{onClick:s,variant:"outline"},{default:i.withCtx(()=>l[1]||(l[1]=[i.createTextVNode("")])),_:1}),i.createVNode(i.unref(it),{type:"primary",onClick:r},{default:i.withCtx(()=>l[2]||(l[2]=[i.createTextVNode("")])),_:1})])])),o.value?(i.openBlock(),i.createElementBlock("iframe",{key:1,src:o.value,frameborder:"0",allowfullscreen:"true"},null,8,Yne)):i.createCommentVNode("",!0)]),_:1}))}}),Xne=ve.create({name:"iframes",group:"block",atom:!0,addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),allowFullscreen:!0,HTMLAttributes:{class:"iframe-wrapper"}}},addAttributes(){return{src:{default:null},service:{default:null},frameborder:{default:0},allowfullscreen:{default:this.options.allowFullscreen,parseHTML:()=>this.options.allowFullscreen}}},parseHTML(){return[{tag:"iframe"}]},renderHTML({HTMLAttributes:t}){return["div",this.options.HTMLAttributes,["iframe",t]]},addNodeView(){return oa(Jne)},addCommands(){return{setIframe:t=>({tr:e,dispatch:n})=>{const{selection:o}=e,r=this.type.create(t);return n&&e.replaceRangeWith(o.from,o.to,r),!0}}}});xJ();const W3={install(t){t.component("echo-editor",IE)}};W.AI=ine,W.ActionButton=ee,W.BaseKit=PQ,W.Blockquote=SZ,W.Bold=TJ,W.BulletList=pZ,W.Clear=hZ,W.Code=VJ,W.CodeBlock=RX,W.Color=sZ,W.Columns=Gq,W.EchoEditor=IE,W.EchoEditorPlugin=W3,W.FindAndReplace=Une,W.FontFamily=Pne,W.FontSize=qX,W.FormatPainter=sne,W.Fullscreen=sQ,W.Heading=HX,W.Highlight=cZ,W.History=iQ,W.HorizontalRule=YZ,W.Iframe=Xne,W.Image=Ree,W.ImageUpload=Sne,W.ImportWord=cne,W.Indent=FQ,W.Italic=IJ,W.LineHeight=WQ,W.Link=qZ,W.MoreMark=VQ,W.OrderedList=bZ,W.Preview=Dne,W.Printer=Kne,W.SlashCommand=Aee,W.Strike=DJ,W.SubAndSuperScript=DQ,W.Table=one,W.TaskList=kZ,W.TextAlign=WX,W.Underline=BJ,W.Video=Dee,W.VideoUpload=Nne,W.default=W3,W.en=mC,W.locale=gh,W.useEditor=m5,W.zhHans=hC,Object.defineProperties(W,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
